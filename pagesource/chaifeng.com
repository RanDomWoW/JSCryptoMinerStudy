<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html lang="en-US" xmlns="http://www.w3.org/1999/xhtml">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>三分热度://柴锋 | 凡事总有个三分热度</title>
			

		
		
	<link rel="stylesheet" href="https://chaifeng.com/wp-content/themes/picoclean/style.css" type="text/css" media="screen" />
	<link rel="pingback" href="https://chaifeng.com/xmlrpc.php" />
	
	<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="三分热度://柴锋 &raquo; Feed" href="https://chaifeng.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="三分热度://柴锋 &raquo; Comments Feed" href="https://chaifeng.com/comments/feed/" />
<!-- This site uses the Google Analytics by MonsterInsights plugin v7.0.4 - Using Analytics tracking - https://www.monsterinsights.com/ -->
<script type="text/javascript" data-cfasync="false">
	var mi_track_user = true;
	var disableStr = 'ga-disable-UA-58448-3';

	/* Function to detect opted out users */
	function __gaTrackerIsOptedOut() {
		return document.cookie.indexOf(disableStr + '=true') > -1;
	}

	/* Disable tracking if the opt-out cookie exists. */
	if ( __gaTrackerIsOptedOut() ) {
		window[disableStr] = true;
	}

	/* Opt-out function */
	function __gaTrackerOptout() {
	  document.cookie = disableStr + '=true; expires=Thu, 31 Dec 2099 23:59:59 UTC; path=/';
	  window[disableStr] = true;
	}
	
	if ( mi_track_user ) {
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','__gaTracker');

		__gaTracker('create', 'UA-58448-3', 'auto');
		__gaTracker('set', 'forceSSL', true);
		__gaTracker('send','pageview');
	} else {
		console.log( "" );
		(function() {
			/* https://developers.google.com/analytics/devguides/collection/analyticsjs/ */
			var noopfn = function() {
				return null;
			};
			var noopnullfn = function() {
				return null;
			};
			var Tracker = function() {
				return null;
			};
			var p = Tracker.prototype;
			p.get = noopfn;
			p.set = noopfn;
			p.send = noopfn;
			var __gaTracker = function() {
				var len = arguments.length;
				if ( len === 0 ) {
					return;
				}
				var f = arguments[len-1];
				if ( typeof f !== 'object' || f === null || typeof f.hitCallback !== 'function' ) {
					console.log( 'Not running function __gaTracker(' + arguments[0] + " ....) because you\'re not being tracked. ");
					return;
				}
				try {
					f.hitCallback();
				} catch (ex) {

				}
			};
			__gaTracker.create = function() {
				return new Tracker();
			};
			__gaTracker.getByName = noopnullfn;
			__gaTracker.getAll = function() {
				return [];
			};
			__gaTracker.remove = noopfn;
			window['__gaTracker'] = __gaTracker;
		})();
		}
</script>
<!-- / Google Analytics by MonsterInsights -->
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.4\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.4\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/chaifeng.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.9.4"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55357,56692,8205,9792,65039],[55357,56692,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='core3.0-css'  href='https://chaifeng.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0' type='text/css' media='all' />
<link rel='stylesheet' id='core-Emacs3.0-css'  href='https://chaifeng.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/styles/shCoreEmacs.css?ver=3.0' type='text/css' media='all' />
<link rel='stylesheet' id='theme-Emacs3.0-css'  href='https://chaifeng.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/styles/shThemeEmacs.css?ver=3.0' type='text/css' media='all' />
<script type='text/javascript'>
/* <![CDATA[ */
var monsterinsights_frontend = {"js_events_tracking":"true","is_debug_mode":"false","download_extensions":"doc,exe,js,pdf,ppt,tgz,zip,xls","inbound_paths":"","home_url":"https:\/\/chaifeng.com","track_download_as":"event","internal_label":"int","hash_tracking":"false"};
/* ]]> */
</script>
<script type='text/javascript' src='https://chaifeng.com/wp-content/plugins/google-analytics-for-wordpress/assets/js/frontend.min.js?ver=7.0.4'></script>
<link rel='https://api.w.org/' href='https://chaifeng.com/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://chaifeng.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://chaifeng.com/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.9.4" />
<style data-context="foundation-flickity-css">/*! Flickity v2.0.2
http://flickity.metafizzy.co
---------------------------------------------- */.flickity-enabled{position:relative}.flickity-enabled:focus{outline:0}.flickity-viewport{overflow:hidden;position:relative;height:100%}.flickity-slider{position:absolute;width:100%;height:100%}.flickity-enabled.is-draggable{-webkit-tap-highlight-color:transparent;tap-highlight-color:transparent;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.flickity-enabled.is-draggable .flickity-viewport{cursor:move;cursor:-webkit-grab;cursor:grab}.flickity-enabled.is-draggable .flickity-viewport.is-pointer-down{cursor:-webkit-grabbing;cursor:grabbing}.flickity-prev-next-button{position:absolute;top:50%;width:44px;height:44px;border:none;border-radius:50%;background:#fff;background:hsla(0,0%,100%,.75);cursor:pointer;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.flickity-prev-next-button:hover{background:#fff}.flickity-prev-next-button:focus{outline:0;box-shadow:0 0 0 5px #09F}.flickity-prev-next-button:active{opacity:.6}.flickity-prev-next-button.previous{left:10px}.flickity-prev-next-button.next{right:10px}.flickity-rtl .flickity-prev-next-button.previous{left:auto;right:10px}.flickity-rtl .flickity-prev-next-button.next{right:auto;left:10px}.flickity-prev-next-button:disabled{opacity:.3;cursor:auto}.flickity-prev-next-button svg{position:absolute;left:20%;top:20%;width:60%;height:60%}.flickity-prev-next-button .arrow{fill:#333}.flickity-page-dots{position:absolute;width:100%;bottom:-25px;padding:0;margin:0;list-style:none;text-align:center;line-height:1}.flickity-rtl .flickity-page-dots{direction:rtl}.flickity-page-dots .dot{display:inline-block;width:10px;height:10px;margin:0 8px;background:#333;border-radius:50%;opacity:.25;cursor:pointer}.flickity-page-dots .dot.is-selected{opacity:1}</style><style data-context="foundation-slideout-css">.slideout-menu{position:fixed;left:0;top:0;bottom:0;right:auto;z-index:0;width:256px;overflow-y:auto;-webkit-overflow-scrolling:touch;display:none}.slideout-menu.pushit-right{left:auto;right:0}.slideout-panel{position:relative;z-index:1;will-change:transform}.slideout-open,.slideout-open .slideout-panel,.slideout-open body{overflow:hidden}.slideout-open .slideout-menu{display:block}.pushit{display:none}</style>
		
	<style type="text/css">
		a {
			color: #123756;
		}
		
		#wrapper #header, #wrapper #footer, .post .title, .pages .title, #comments, #respond h3, #respond h3 a {
			background: #123756;
			background: url(https://chaifeng.com/wp-content/themes/picoclean/images/lines.png) repeat-x, -moz-linear-gradient(top, rgba(18, 55, 86, 0.82), rgba(18, 55, 86, 1)) ; 
			background: url(https://chaifeng.com/wp-content/themes/picoclean/images/lines.png) repeat-x, -webkit-gradient(linear, left top, left bottom, from(rgba(18, 55, 86, 0.82)), to(rgba(18, 55, 86, 1))); 
			background: url(https://chaifeng.com/wp-content/themes/picoclean/images/lines.png) repeat-x, -webkit-linear-gradient(top, rgba(18, 55, 86, 0.82), rgba(18, 55, 86, 1));
			background: url(https://chaifeng.com/wp-content/themes/picoclean/images/lines.png) repeat-x, -o-linear-gradient(top, rgba(18, 55, 86, 0.82), rgba(18, 55, 86, 1)); 
			background: url(https://chaifeng.com/wp-content/themes/picoclean/images/lines.png) repeat-x, -ms-linear-gradient(top, rgba(18, 55, 86, 0.82), rgba(18, 55, 86, 1)); 
		}

		#comment-form #submit, #respond #submit, #mainnav ul ul {
			background: #123756;
			background: -moz-linear-gradient(top, rgba(18, 55, 86, 0.82), rgba(18, 55, 86, 1)) ; 
			background: -webkit-gradient(linear, left top, left bottom, from(rgba(18, 55, 86, 0.82)), to(rgba(18, 55, 86, 1))); 
			background: -webkit-linear-gradient(top, rgba(18, 55, 86, 0.82), rgba(18, 55, 86, 1));
			background: -o-linear-gradient(top, rgba(18, 55, 86, 0.82), rgba(18, 55, 86, 1)); 
			background: -ms-linear-gradient(top, rgba(18, 55, 86, 0.82), rgba(18, 55, 86, 1)); 
			}

	</style>
		<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
		<style>.ios7.web-app-mode.has-fixed header{ background-color: rgba(3,122,221,.88);}</style></head>

<body class="home blog">
<div id="wrapper">
	<div id="header">

			<div id="mainnav">
					<div class="menu"><ul>
<li class="page_item page-item-2"><a href="https://chaifeng.com/about/">About Me</a></li>
</ul></div>
			</div>
			<div id="logo">
				<h1><a href="https://chaifeng.com">三分热度://柴锋</a></h1>
				<p class="description">凡事总有个三分热度</p>
			</div>

		<div id="image">
		</div>
	</div>
	<div id="main">

	<div id="content">
						 <div id="post-1437" class="post-1437 post type-post status-publish format-standard hentry category-uncategorized">
				<div class="title">
					<h2><a href="https://chaifeng.com/alfred-workflow-zoom-us/" title="Alfred Workflow &#8211; Zoom.us">Alfred Workflow &#8211; Zoom.us</a></h2>
				</div>
					<div class="meta"><a href="https://chaifeng.com/alfred-workflow-zoom-us/">25. May 2017</a> &middot; <a href="https://chaifeng.com/alfred-workflow-zoom-us/#respond">Write a comment</a>					 &middot; Categories: <a href="https://chaifeng.com/category/uncategorized/" rel="category tag">Uncategorized</a>					 </div>

				<div class="entry">
										<p>我写了一个 Alfred Workflow，用于新建和加入 <a href="https://zoom.us/">Zoom</a> 会议。<br />
现在支持免费和付费帐号，如果没有登录也可以直接进入会议。</p>
<p>使用方法：<br />
1、直接在 Alfred 里面粘贴 Zoom 的会议链接，按下回车就可以自动加入会议。如果 Zoom 还没有运行，也会自动运行起来。<br />
2、 直接在 Alfred 里面粘贴 Zoom 的会议链接后，按下 Command 键会 新建一个会议，而不是加入现有的会议。并且会自动把新建的会议的 url 放入剪贴板，我们只要直接粘贴就可以。<br />
3、有 `zm` 关键字，直接按下回车就是新建一个会议；<br />
4、在 `zm` 关键字后面可以继续添加 meeting id，按下回车会自动加入；<br />
5、在 `zm` 关键字后面无论是否有 meeting id，按下 Command 键都会新建一个会议。</p>
<p>源码：<a href="https://github.com/chaifeng/alfred-zoomus">https://github.com/chaifeng/alfred-zoomus</a></p>
<p>下载：<a href="https://github.com/chaifeng/alfred-zoomus/releases">https://github.com/chaifeng/alfred-zoomus/releases</a></p>
<p>This Alfred Workflow is used to start or join a Zoom meeting.</p>
<p>Support free or paid account, you can join a meeting without logged in</p>
<p>Usage:</p>
<ol>
<li>Paste a Zoom meeting URL in Alfred directly, press Enter, this will join an existing meeting.</li>
<li>Paste a Zoom meeting URL in Alfred, press Command + Enter, it will start a new meeting. And put the URL of this new meeting into your clipboard automatically.</li>
<li>A new keyword &#8220;zm&#8221; is used to start a new meeting.</li>
<li>Append an existing Zoom meeting ID after the keyword &#8220;zm&#8221;<code>, it</code> will join this meeting.<br />
for examples: zm 123-456-789, zm 123456789</li>
<li>Whether or not there is a meeting ID after keyword <code>zm</code>，press Command + Enter will always start a new meeting.</li>
</ol>
<p>Source code: <a href="https://github.com/chaifeng/alfred-zoomus">https://github.com/chaifeng/alfred-zoomus</a></p>
<p>Download: <a href="https://github.com/chaifeng/alfred-zoomus/releases">https://github.com/chaifeng/alfred-zoomus/releases</a></p>
									</div>
			</div>

					 <div id="post-1430" class="post-1430 post type-post status-publish format-standard hentry category-3">
				<div class="title">
					<h2><a href="https://chaifeng.com/mpc-vs-full-stack-developer/" title="以前的 MPC 就是现在的『全栈工程师』">以前的 MPC 就是现在的『全栈工程师』</a></h2>
				</div>
					<div class="meta"><a href="https://chaifeng.com/mpc-vs-full-stack-developer/">30. April 2017</a> &middot; <a href="https://chaifeng.com/mpc-vs-full-stack-developer/#respond">Write a comment</a>					 &middot; Categories: <a href="https://chaifeng.com/category/%e6%9d%82%e4%b8%83%e6%9d%82%e5%85%ab/" rel="category tag">杂七杂八</a>					 </div>

				<div class="entry">
										<p>在上世纪90年代的时候，PC 开始逐步走到我们的生活中。那时除了 PC 还有一个名词叫做 <a href="https://en.wikipedia.org/wiki/Multimedia_PC">MPC</a>，这是 <a href="https://en.wikipedia.org/wiki/Multimedia_PC">Multimedia PC</a> 的缩写，也就是『多媒体个人电脑』。</p>
<p>在当时，PC 给人的感觉是字符界面下的文字以及科学计算。虽然在 1995年的时候，Windows 95 已经发布。不过不要说播放视频了，就算听 MP3 都会卡顿。所以如果给一台 PC 添加了一个 CDROM、一个声霸卡以及用于解压电影的『硬解压卡』就可以让一台『普通』的 PC 做更多的多媒体的工作。于是就升级为『多媒体 PC』，也就是 MPC。在当时 MPC 还有级别之分，根据 CPU 的主频、内存、显卡支持的颜色数量等等指标来划分。</p>
<p>很快的，MPC 这个名字就淡出了我们的记忆。大概在1997、98年之后，已经很难看到这个名词了，因为那时的硬件性能遵循着摩尔定律在高速的发展中。已经无需添置硬解压卡就能看电影，CDROM 和声卡都已经成标配。现在对于一台 PC 可以做文字处理、科学计算、看电影、玩游戏、上网聊天就已经最为基本的功能了。PC 就是 PC！</p>
<p>从功能单一枯燥的 PC 和多媒体的 MPC，慢慢的，就只有了 PC。</p>
<p>而程序员这个职业，在以前就是程序员。当时，程序以单机或者客户端服务器端的为主，程序员要自己搞定客户端和服务端。除了开发，还要做程序的安装、系统的配置和调优。知道如何启用 386 增强模式，如何使用高位内存。不要说配置防火墙和路由器了，连网线都会做。当时的网线可能都是同轴电缆，而且必须接上终结头，否则网络都不通。所以，以前的程序员真的是要会修电脑，而且很多程序员都以此为乐趣。甚至还有朋友会找程序员修电视，因为电脑也有个显示屏，和电视都很像。连电脑这么高科技的都会修，电视还能不会修？</p>
<p>很快的，IT 就发展到我们的身边每一个角落了。软件的规模也越来越复杂，程序员的职业也越来越细分。有前端程序员有后端程序员，有做开发的有做测试的有做运维的。现在如果说自己是程序员，可能还要补充上自己是前端或者后端。而且还出现了程序员的鄙视链，C 程序员鄙视 Java 程序员，Java 程序员鄙视 PHP 程序员，搞开发的鄙视做测试的。</p>
<p>软件的规模越来越大、越来越复杂，但是程序员关注的范围却是越来越小。做前端的不懂后端，做后端的不了解前端。开发中的沟通成本和复杂就变得越来越高，随着互相的不了解，软件在集成的时候就特别容易出现问题，很多软件的缺陷就因此而产生。为了减少因为沟通和理解造成的软件缺陷，『全栈工程师』就出现了，虽然不要求你一定精通前端与后端的方方面面，但起码不会因此而出现沟通上的理解偏差。很多公司里面，全功能团队也在逐步的取代特性开发团队。</p>
<p>以前会修电脑会做客户端服务端会网络会调优的程序员，慢慢的变成了，只会开发前端和后端或者会开发的不会运维的程序员。而那种什么也会做的就是『全栈工程师』。</p>
									</div>
			</div>

					 <div id="post-1416" class="post-1416 post type-post status-publish format-standard hentry category-3">
				<div class="title">
					<h2><a href="https://chaifeng.com/tools-used-for-certain-websites/" title="更方便的打开个别网站的方法">更方便的打开个别网站的方法</a></h2>
				</div>
					<div class="meta"><a href="https://chaifeng.com/tools-used-for-certain-websites/">29. December 2015</a> &middot; <a href="https://chaifeng.com/tools-used-for-certain-websites/#respond">Write a comment</a>					 &middot; Categories: <a href="https://chaifeng.com/category/%e6%9d%82%e4%b8%83%e6%9d%82%e5%85%ab/" rel="category tag">杂七杂八</a>					 </div>

				<div class="entry">
										<p>快捷办法就是直接找现成的：</p>
<ol>
<li>Opera Developer 最新版内置了 VPN，而且还是免费的。还支持选择不同地区的服务器，目前看来只有三个地区。下载 <a href="http://www.opera.com/developer">http://www.opera.com/developer</a>，在2016年4月23日的最新版是 38.0.2205.0。</li>
<li>有个专用于外贸的 Chrome 修改版，貌似只有 Windows 版本，在 <a href="http://mychrome.cn" target="_blank">http://mychrome.cn</a></li>
<li>有个叫『灯笼』的软件，与洋葱不太一样，在 <a href="https://getlantern.org/" target="_blank">https://getlantern.org/</a>
<ol>
<li>这是个开源的，如果无法下载就去官方仓库看看 <a href="https://github.com/getlantern/lantern-binaries" target="_blank">https://github.com/getlantern/lantern-binaries</a></li>
<li>在官方仓库还有一些好用的地址 <a href="https://github.com/getlantern/mirror" target="_blank">https://github.com/getlantern/mirror</a>
<ol>
<li>提醒一下，每隔5分钟，这个页面上的链接都会被更新。</li>
<li>如果这个页面无法访问，我们可以注册一个用于收藏文章的服务，可以通过邮箱把目标页面的地址发过去，然后你就看到页面上的内容了。比如 <a href="https://help.getpocket.com/customer/portal/articles/482759-how-to-save-to-pocket-via-email" target="_blank">How to save to Pocket via email</a></li>
</ol>
</li>
<li>这个也有安卓的版本</li>
<li>还附带了一个上国外微博的 <a href="https://firetweet.io/" target="_blank">https://firetweet.io/</a></li>
</ol>
</li>
<li>注意以下几点
<ol>
<li>建议通过官方链接下载，我们无法保证从第三方下载的会不会被修改过</li>
<li>并且确认是 https 协议</li>
<li>而且浏览器没有提示证书问题</li>
</ol>
</li>
</ol>
<p>购买现成的 VPN、代理等服务不是说不行，只是有点鱼龙混杂。我相信，有很多是不太安全的，还是建议自己购买 VPS 搭建一个。</p>
<p>而且购买 VPS 也不是很贵，一年3百多人民币可以搞定，有的 VPN 服务商的价格也超过一个便宜的 VPS 了。当然了，这些服务商会很专业，有多地的服务器可供你选择。</p>
									</div>
			</div>

					 <div id="post-1388" class="post-1388 post type-post status-publish format-standard hentry category-6 tag-qclub">
				<div class="title">
					<h2><a href="https://chaifeng.com/2014%e5%b9%b43%e6%9c%889%e6%97%a5-qclub-%e5%a4%aa%e5%8e%9f%e7%ab%99%e6%b4%bb%e5%8a%a8%e5%9b%9e%e9%a1%be/" title="2014年3月9日 QClub 太原站活动回顾">2014年3月9日 QClub 太原站活动回顾</a></h2>
				</div>
					<div class="meta"><a href="https://chaifeng.com/2014%e5%b9%b43%e6%9c%889%e6%97%a5-qclub-%e5%a4%aa%e5%8e%9f%e7%ab%99%e6%b4%bb%e5%8a%a8%e5%9b%9e%e9%a1%be/">19. March 2014</a> &middot; <a href="https://chaifeng.com/2014%e5%b9%b43%e6%9c%889%e6%97%a5-qclub-%e5%a4%aa%e5%8e%9f%e7%ab%99%e6%b4%bb%e5%8a%a8%e5%9b%9e%e9%a1%be/#respond">Write a comment</a>					 &middot; Categories: <a href="https://chaifeng.com/category/%e6%8a%80%e6%9c%af%e6%96%87%e7%ab%a0/" rel="category tag">技术文章</a> &middot; Tags: <a href="https://chaifeng.com/tag/qclub/" rel="tag">qclub</a>					 </div>

				<div class="entry">
										<p>3月9日星期天举行了太原 QClub 社区在2014年的第一次活动，这次是在太原理工大学迎西校区的学术交流中心，所以活动现场的学生就占了绝大多数。大概到场人数有50人，除了工大的同学之外，还有一些职业程序员。我们还准备了5本签名版的《MacTalk：人生元编程》作为小礼品。</p>
<p>这次的活动主题是聊一聊2014年我们程序员该关注哪些技术，考虑到同学们估计比较多，所以还有一个面向同学们的话题是雷晓宝分享的《大学计算机课程与实践》。<span style="line-height: 1.5em;">首先是我分享了一个云计算的普及话题，IaaS、PaaS、SaaS 分别为我们解决了什么问题？很多同学都认为云计算就是一堆虚拟机，也确实没错，绝大多数的云计算都有虚拟化的应用。而且虚拟化也确实是云计算中一个重要的技术，但仅仅虚拟化是不够的，用虚拟机代替物理机也不是云计算的全部。这些名词或技术的出现，一定是为我们解决了某一方面的问题。然后我用了一些比喻和例子给同学们分享了一下这三个名词分别做了什么。随后就是雷晓宝同学的《大学计算机课程与实践》的话题了，在这个话题中晓宝分享了计算机专业的一些理论课程分别对应在平时实际使用的哪些技术上，也提到了 IT 行业中不同的工作需要侧重哪些不同的技术。这个话题其实是比较大的，而且内容也很多，足足分享了一个多小时。最后就是解读 ThoughtWorks 的 2014 年第一季度技术雷达，TW 的技术雷达可以说是 IT 行业的风向标。因为涉及的内容非常多，所以我们精选了一些比较有趣的内容。比如移动设备的持续交付、客户机和服务器使用相同的代码（我们在去年的一次活动上就是一起写代码研究这个技术）、云开发环境、JavaScript 的依赖管理、Docker、Clojure、CoffeeScript、等等。</span><span style="line-height: 1.5em;">活动的过程中，有5位同学与我们的讲师互动，幸运的获得《MacTalk：人生元编程》，在 5点半的时候结束当天的活动。最后我们还和几位热心的同学一起聚餐，又聊到晚上8点多。</span></p>
<p>话不多说，上图：</p>

		<style type='text/css'>
			#gallery-1 {
				margin: auto;
			}
			#gallery-1 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 33%;
			}
			#gallery-1 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-1 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-1' class='gallery galleryid-1388 gallery-columns-3 gallery-size-thumbnail'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://chaifeng.com/2014%e5%b9%b43%e6%9c%889%e6%97%a5-qclub-%e5%a4%aa%e5%8e%9f%e7%ab%99%e6%b4%bb%e5%8a%a8%e5%9b%9e%e9%a1%be/2014-03-09-15-08-07/'><img width="150" height="150" src="https://chaifeng.com/wp-content/uploads/2014/03/2014-03-09-15.08.07-150x150.jpg" class="attachment-thumbnail size-thumbnail" alt="" srcset="https://chaifeng.com/wp-content/uploads/2014/03/2014-03-09-15.08.07-150x150.jpg 150w, https://chaifeng.com/wp-content/uploads/2014/03/2014-03-09-15.08.07-144x144.jpg 144w" sizes="(max-width: 150px) 100vw, 150px" /></a>
			</dt></dl><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://chaifeng.com/2014%e5%b9%b43%e6%9c%889%e6%97%a5-qclub-%e5%a4%aa%e5%8e%9f%e7%ab%99%e6%b4%bb%e5%8a%a8%e5%9b%9e%e9%a1%be/2014-03-09-15-07-32/'><img width="150" height="150" src="https://chaifeng.com/wp-content/uploads/2014/03/2014-03-09-15.07.32-150x150.jpg" class="attachment-thumbnail size-thumbnail" alt="" srcset="https://chaifeng.com/wp-content/uploads/2014/03/2014-03-09-15.07.32-150x150.jpg 150w, https://chaifeng.com/wp-content/uploads/2014/03/2014-03-09-15.07.32-144x144.jpg 144w" sizes="(max-width: 150px) 100vw, 150px" /></a>
			</dt></dl><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://chaifeng.com/2014%e5%b9%b43%e6%9c%889%e6%97%a5-qclub-%e5%a4%aa%e5%8e%9f%e7%ab%99%e6%b4%bb%e5%8a%a8%e5%9b%9e%e9%a1%be/qq%e5%9b%be%e7%89%8720140312123429/'><img width="150" height="150" src="https://chaifeng.com/wp-content/uploads/2014/03/QQ图片20140312123429-150x150.jpg" class="attachment-thumbnail size-thumbnail" alt="" srcset="https://chaifeng.com/wp-content/uploads/2014/03/QQ图片20140312123429-150x150.jpg 150w, https://chaifeng.com/wp-content/uploads/2014/03/QQ图片20140312123429-144x144.jpg 144w" sizes="(max-width: 150px) 100vw, 150px" /></a>
			</dt></dl><br style="clear: both" /><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://chaifeng.com/2014%e5%b9%b43%e6%9c%889%e6%97%a5-qclub-%e5%a4%aa%e5%8e%9f%e7%ab%99%e6%b4%bb%e5%8a%a8%e5%9b%9e%e9%a1%be/qq%e5%9b%be%e7%89%8720140312123457/'><img width="150" height="150" src="https://chaifeng.com/wp-content/uploads/2014/03/QQ图片20140312123457-150x150.jpg" class="attachment-thumbnail size-thumbnail" alt="" srcset="https://chaifeng.com/wp-content/uploads/2014/03/QQ图片20140312123457-150x150.jpg 150w, https://chaifeng.com/wp-content/uploads/2014/03/QQ图片20140312123457-144x144.jpg 144w" sizes="(max-width: 150px) 100vw, 150px" /></a>
			</dt></dl><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://chaifeng.com/2014%e5%b9%b43%e6%9c%889%e6%97%a5-qclub-%e5%a4%aa%e5%8e%9f%e7%ab%99%e6%b4%bb%e5%8a%a8%e5%9b%9e%e9%a1%be/qq%e5%9b%be%e7%89%8720140312123530/'><img width="150" height="150" src="https://chaifeng.com/wp-content/uploads/2014/03/QQ图片20140312123530-150x150.jpg" class="attachment-thumbnail size-thumbnail" alt="" srcset="https://chaifeng.com/wp-content/uploads/2014/03/QQ图片20140312123530-150x150.jpg 150w, https://chaifeng.com/wp-content/uploads/2014/03/QQ图片20140312123530-144x144.jpg 144w" sizes="(max-width: 150px) 100vw, 150px" /></a>
			</dt></dl><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://chaifeng.com/2014%e5%b9%b43%e6%9c%889%e6%97%a5-qclub-%e5%a4%aa%e5%8e%9f%e7%ab%99%e6%b4%bb%e5%8a%a8%e5%9b%9e%e9%a1%be/qq%e5%9b%be%e7%89%8720140312123536/'><img width="150" height="150" src="https://chaifeng.com/wp-content/uploads/2014/03/QQ图片20140312123536-150x150.jpg" class="attachment-thumbnail size-thumbnail" alt="" srcset="https://chaifeng.com/wp-content/uploads/2014/03/QQ图片20140312123536-150x150.jpg 150w, https://chaifeng.com/wp-content/uploads/2014/03/QQ图片20140312123536-144x144.jpg 144w" sizes="(max-width: 150px) 100vw, 150px" /></a>
			</dt></dl><br style="clear: both" /><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://chaifeng.com/2014%e5%b9%b43%e6%9c%889%e6%97%a5-qclub-%e5%a4%aa%e5%8e%9f%e7%ab%99%e6%b4%bb%e5%8a%a8%e5%9b%9e%e9%a1%be/qq%e5%9b%be%e7%89%8720140312123603/'><img width="150" height="150" src="https://chaifeng.com/wp-content/uploads/2014/03/QQ图片20140312123603-150x150.jpg" class="attachment-thumbnail size-thumbnail" alt="" srcset="https://chaifeng.com/wp-content/uploads/2014/03/QQ图片20140312123603-150x150.jpg 150w, https://chaifeng.com/wp-content/uploads/2014/03/QQ图片20140312123603-144x144.jpg 144w" sizes="(max-width: 150px) 100vw, 150px" /></a>
			</dt></dl><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://chaifeng.com/2014%e5%b9%b43%e6%9c%889%e6%97%a5-qclub-%e5%a4%aa%e5%8e%9f%e7%ab%99%e6%b4%bb%e5%8a%a8%e5%9b%9e%e9%a1%be/qq%e5%9b%be%e7%89%8720140312123609/'><img width="150" height="150" src="https://chaifeng.com/wp-content/uploads/2014/03/QQ图片20140312123609-150x150.jpg" class="attachment-thumbnail size-thumbnail" alt="" srcset="https://chaifeng.com/wp-content/uploads/2014/03/QQ图片20140312123609-150x150.jpg 150w, https://chaifeng.com/wp-content/uploads/2014/03/QQ图片20140312123609-144x144.jpg 144w" sizes="(max-width: 150px) 100vw, 150px" /></a>
			</dt></dl><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://chaifeng.com/2014%e5%b9%b43%e6%9c%889%e6%97%a5-qclub-%e5%a4%aa%e5%8e%9f%e7%ab%99%e6%b4%bb%e5%8a%a8%e5%9b%9e%e9%a1%be/qq%e5%9b%be%e7%89%8720140312123617/'><img width="150" height="150" src="https://chaifeng.com/wp-content/uploads/2014/03/QQ图片20140312123617-150x150.jpg" class="attachment-thumbnail size-thumbnail" alt="" srcset="https://chaifeng.com/wp-content/uploads/2014/03/QQ图片20140312123617-150x150.jpg 150w, https://chaifeng.com/wp-content/uploads/2014/03/QQ图片20140312123617-144x144.jpg 144w" sizes="(max-width: 150px) 100vw, 150px" /></a>
			</dt></dl><br style="clear: both" /><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://chaifeng.com/2014%e5%b9%b43%e6%9c%889%e6%97%a5-qclub-%e5%a4%aa%e5%8e%9f%e7%ab%99%e6%b4%bb%e5%8a%a8%e5%9b%9e%e9%a1%be/qq%e5%9b%be%e7%89%8720140312123641/'><img width="150" height="150" src="https://chaifeng.com/wp-content/uploads/2014/03/QQ图片20140312123641-150x150.jpg" class="attachment-thumbnail size-thumbnail" alt="" srcset="https://chaifeng.com/wp-content/uploads/2014/03/QQ图片20140312123641-150x150.jpg 150w, https://chaifeng.com/wp-content/uploads/2014/03/QQ图片20140312123641-144x144.jpg 144w" sizes="(max-width: 150px) 100vw, 150px" /></a>
			</dt></dl><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://chaifeng.com/2014%e5%b9%b43%e6%9c%889%e6%97%a5-qclub-%e5%a4%aa%e5%8e%9f%e7%ab%99%e6%b4%bb%e5%8a%a8%e5%9b%9e%e9%a1%be/2014-03-09-15-06-54/'><img width="150" height="150" src="https://chaifeng.com/wp-content/uploads/2014/03/2014-03-09-15.06.54-150x150.jpg" class="attachment-thumbnail size-thumbnail" alt="" srcset="https://chaifeng.com/wp-content/uploads/2014/03/2014-03-09-15.06.54-150x150.jpg 150w, https://chaifeng.com/wp-content/uploads/2014/03/2014-03-09-15.06.54-144x144.jpg 144w" sizes="(max-width: 150px) 100vw, 150px" /></a>
			</dt></dl><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://chaifeng.com/2014%e5%b9%b43%e6%9c%889%e6%97%a5-qclub-%e5%a4%aa%e5%8e%9f%e7%ab%99%e6%b4%bb%e5%8a%a8%e5%9b%9e%e9%a1%be/2014-03-09-15-07-11/'><img width="150" height="150" src="https://chaifeng.com/wp-content/uploads/2014/03/2014-03-09-15.07.11-150x150.jpg" class="attachment-thumbnail size-thumbnail" alt="" srcset="https://chaifeng.com/wp-content/uploads/2014/03/2014-03-09-15.07.11-150x150.jpg 150w, https://chaifeng.com/wp-content/uploads/2014/03/2014-03-09-15.07.11-144x144.jpg 144w" sizes="(max-width: 150px) 100vw, 150px" /></a>
			</dt></dl><br style="clear: both" />
		</div>

									</div>
			</div>

					 <div id="post-1342" class="post-1342 post type-post status-publish format-standard hentry category-6">
				<div class="title">
					<h2><a href="https://chaifeng.com/china-hotel-network/" title="国内酒店网络的背后">国内酒店网络的背后</a></h2>
				</div>
					<div class="meta"><a href="https://chaifeng.com/china-hotel-network/">30. April 2013</a> &middot; <a href="https://chaifeng.com/china-hotel-network/#comments">1 comment</a>					 &middot; Categories: <a href="https://chaifeng.com/category/%e6%8a%80%e6%9c%af%e6%96%87%e7%ab%a0/" rel="category tag">技术文章</a>					 </div>

				<div class="entry">
										<p>在前几天刚刚闭幕的 QCon 北京大会最后一天下午，有几场小型的演讲。其中，国内知名的安全专家、微信“道哥的黑板报”的作者<a href="http://weibo.com/n/aullik5" target="_blank">道哥</a>就分享了一个有关黑客的话题，现场观众们不时的发出一阵阵的惊呼。关于安全呢，我也不算是小白。在大学以及刚毕业两三年的时候，对安全领域还是很关心的，也见到并认识了不少国内安全领域的朋友们。随着在二线城市苦逼的 Java 码农日子一天天的混下去，我已经渐渐远离这一领域，但是很多安全的习惯还基本保留着。</p>
<p>道哥在 QCon 上就说到，他的电脑一直就是裸奔的，也就是没有安装任何的安全防护软件。我在 06 年之前主要使用 Windows XP，就是裸奔的。一是因为机器配置低；二是也没啥必要；三是 Linux 内核与笔记本上的某个芯片组不太兼容，会时不时的死机。07年之后，我就全面切换到 Linux 下工作和娱乐，这就更是裸奔了。在 2010 年的 QCon 北京大会的某一天晚餐后，我遇见了国内技术领域的大牛周爱民，我们相谈甚欢，和大众点评、百姓网的几位朋友一直聊到凌晨2点。那个晚上我就提到了平时我是怎样注重网络安全和隐私的，记得当时他们用“变态”一词来形容我。</p>
<p>又回到今年 QCon 闭幕的第二天，我在地铁上犯了安全大忌，连接了一个未知的 WiFi，并发了<a href="http://weibo.com/2110978000/zuhZS4Y3p?type=repost" target="_blank">一条微博</a>。很快大连的谊昌老兄就立刻<a href="http://weibo.com/1083203667/zuiatu4zE" target="_blank">回复</a>我说“看了昨天道哥的演讲后，俺决定再也不连自己不清楚的wifi了～”，这个我得承认，当时没有开启 VPN。虽然这个 WiFi 的名称是 “AndroidAP”，但是不能保证这是一个普通的 Android 手机。</p>
<p>说了这么多，想必很多人已经知道不能随便连接免费的 WiFi，但是他们却很放心的连接酒店里提供的网络。事实上，免费的 WiFi 背后不一定都是坏人，但是国内酒店网络的背后则一定是不安全的，泄露自己的隐私的几率一定是 100%，你的一举一动都在老大哥的眼皮底下。</p>
<p>回到酒店后，我决定把酒店网络背后的东西拿出来给大家看看。这里就不讨论如何入侵酒店的网络和后台，只给大家看看背后的这一个管理平台。</p>
<p>正题开始……</p>
<p>酒店里上网可能会需要密码，就在这里设定的。当时我入住的就是 2111 这个房间，第一个密码显然是前一个入住客人的，酒店前台没有删除。第二个密码是在我办理入住的时候设定的，但是我一直没有使用过。</p>
<p><a href="https://chaifeng.com/wp-content/uploads/2013/04/20130430161855.png"><img class="alignnone size-full wp-image-1352" alt="20130430161855" src="https://chaifeng.com/wp-content/uploads/2013/04/20130430161855.png" width="939" height="184" srcset="https://chaifeng.com/wp-content/uploads/2013/04/20130430161855.png 939w, https://chaifeng.com/wp-content/uploads/2013/04/20130430161855-300x58.png 300w" sizes="(max-width: 939px) 100vw, 939px" /></a></p>
<p>&nbsp;</p>
<p>还能看到 IP 地址与个人的关系。</p>
<p><a href="https://chaifeng.com/wp-content/uploads/2013/04/20130430164951.png"><img class="alignnone size-full wp-image-1357" alt="20130430164951" src="https://chaifeng.com/wp-content/uploads/2013/04/20130430164951.png" width="982" height="200" srcset="https://chaifeng.com/wp-content/uploads/2013/04/20130430164951.png 982w, https://chaifeng.com/wp-content/uploads/2013/04/20130430164951-300x61.png 300w" sizes="(max-width: 982px) 100vw, 982px" /></a></p>
<p>&nbsp;</p>
<p>在这里还能获取到入住客人的身份证信息，省略省略</p>
<p><a href="https://chaifeng.com/wp-content/uploads/2013/04/20130430162203.png"><img class="alignnone size-full wp-image-1351" alt="20130430162203" src="https://chaifeng.com/wp-content/uploads/2013/04/20130430162203.png" width="472" height="316" srcset="https://chaifeng.com/wp-content/uploads/2013/04/20130430162203.png 472w, https://chaifeng.com/wp-content/uploads/2013/04/20130430162203-300x200.png 300w" sizes="(max-width: 472px) 100vw, 472px" /></a></p>
<p>&nbsp;</p>
<p>一旦你连入酒店网络，你的哪些隐私会被泄露呢？哇哦，有个用户上网日志查询，就是这里，但是还需要一个密码。这个密码应该是给平平和安安用的，要不酒店的前台就能随便看了。而且这个密码或许是个比较复杂的，md5 的哈希值是 47e57be0904ce7174115a08cb1a1e304，我用几个在线的 md5 数据库都没有查到对应的明文，如果有查到的朋友还望不吝告知。大家看到这里不要失望，跳过去也是很容易的，略过不表，且看下文。</p>
<p><a href="https://chaifeng.com/wp-content/uploads/2013/04/20130430201827.png"><img class="alignnone size-full wp-image-1366" alt="20130430201827" src="https://chaifeng.com/wp-content/uploads/2013/04/20130430201827.png" width="714" height="194" srcset="https://chaifeng.com/wp-content/uploads/2013/04/20130430201827.png 714w, https://chaifeng.com/wp-content/uploads/2013/04/20130430201827-300x81.png 300w" sizes="(max-width: 714px) 100vw, 714px" /></a></p>
<p>&nbsp;</p>
<p>输入了查询密码后就能查询用户上网日志了，看看吧，会不会让你的后背发凉？搞不明白的是，为啥还要监控这几个游戏呢？</p>
<p><a href="https://chaifeng.com/wp-content/uploads/2013/04/20130430163934.png"><img class="alignnone size-full wp-image-1354" alt="20130430163934" src="https://chaifeng.com/wp-content/uploads/2013/04/20130430163934.png" width="910" height="427" srcset="https://chaifeng.com/wp-content/uploads/2013/04/20130430163934.png 910w, https://chaifeng.com/wp-content/uploads/2013/04/20130430163934-300x140.png 300w" sizes="(max-width: 910px) 100vw, 910px" /></a></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>给大家看看 MSN 的日志，查询了最近三天的记录，只有一条。结合前面的用户管理功能，我很容易知道这个 MSN 的主人是谁。</p>
<p><a href="https://chaifeng.com/wp-content/uploads/2013/04/20130430164333.png"><img class="alignnone size-full wp-image-1355" alt="20130430164333" src="https://chaifeng.com/wp-content/uploads/2013/04/20130430164333.png" width="972" height="117" srcset="https://chaifeng.com/wp-content/uploads/2013/04/20130430164333.png 972w, https://chaifeng.com/wp-content/uploads/2013/04/20130430164333-300x36.png 300w" sizes="(max-width: 972px) 100vw, 972px" /></a></p>
<p>&nbsp;</p>
<p>哈哈，肯定有人迫不及待的想知道 QQ 的搜索结果，给大家看两条，关键字2那里就是 QQ 号码。同理，结合房间号，嗯嗯，哈哈。</p>
<p><a href="https://chaifeng.com/wp-content/uploads/2013/04/20130430164645.png"><img class="alignnone size-full wp-image-1356" alt="20130430164645" src="https://chaifeng.com/wp-content/uploads/2013/04/20130430164645.png" width="979" height="128" srcset="https://chaifeng.com/wp-content/uploads/2013/04/20130430164645.png 979w, https://chaifeng.com/wp-content/uploads/2013/04/20130430164645-300x39.png 300w" sizes="(max-width: 979px) 100vw, 979px" /></a></p>
<p>&nbsp;</p>
<p>还有网站浏览记录，这里只记录了域名，显然酒店员工黑夜就是去youku看看视频。</p>
<p><a href="https://chaifeng.com/wp-content/uploads/2013/04/20130430203804.png"><img class="alignnone size-full wp-image-1373" alt="20130430203804" src="https://chaifeng.com/wp-content/uploads/2013/04/20130430203804.png" width="948" height="492" srcset="https://chaifeng.com/wp-content/uploads/2013/04/20130430203804.png 948w, https://chaifeng.com/wp-content/uploads/2013/04/20130430203804-300x155.png 300w" sizes="(max-width: 948px) 100vw, 948px" /></a></p>
<p>&nbsp;</p>
<p>看看电子邮件的记录，2221 这个客房的客人真是发了好多啊，应该是给公司同事群发的。</p>
<p><a href="https://chaifeng.com/wp-content/uploads/2013/04/20130430203144.png"><img class="alignnone size-full wp-image-1371" alt="20130430203144" src="https://chaifeng.com/wp-content/uploads/2013/04/20130430203144.png" width="951" height="367" srcset="https://chaifeng.com/wp-content/uploads/2013/04/20130430203144.png 951w, https://chaifeng.com/wp-content/uploads/2013/04/20130430203144-300x115.png 300w" sizes="(max-width: 951px) 100vw, 951px" /></a></p>
<p>&nbsp;</p>
<p>FTP 的日志，关键字1就是 IP，关键字2就是用户名</p>
<p><a href="https://chaifeng.com/wp-content/uploads/2013/04/20130430203503.png"><img class="alignnone size-full wp-image-1372" alt="20130430203503" src="https://chaifeng.com/wp-content/uploads/2013/04/20130430203503.png" width="950" height="358" srcset="https://chaifeng.com/wp-content/uploads/2013/04/20130430203503.png 950w, https://chaifeng.com/wp-content/uploads/2013/04/20130430203503-300x113.png 300w" sizes="(max-width: 950px) 100vw, 950px" /></a></p>
<p>&nbsp;</p>
<p>还有个系统用户日志查询，记录的还挺详细。</p>
<p><a href="https://chaifeng.com/wp-content/uploads/2013/04/20130430202922.png"><img class="alignnone size-full wp-image-1369" alt="20130430202922" src="https://chaifeng.com/wp-content/uploads/2013/04/20130430202922.png" width="966" height="266" srcset="https://chaifeng.com/wp-content/uploads/2013/04/20130430202922.png 966w, https://chaifeng.com/wp-content/uploads/2013/04/20130430202922-300x82.png 300w" sizes="(max-width: 966px) 100vw, 966px" /></a></p>
<p>&nbsp;</p>
<p><a href="https://chaifeng.com/wp-content/uploads/2013/04/20130430202650.png"><img class="alignnone size-full wp-image-1368" alt="20130430202650" src="https://chaifeng.com/wp-content/uploads/2013/04/20130430202650.png" width="968" height="344" srcset="https://chaifeng.com/wp-content/uploads/2013/04/20130430202650.png 968w, https://chaifeng.com/wp-content/uploads/2013/04/20130430202650-300x106.png 300w" sizes="(max-width: 968px) 100vw, 968px" /></a></p>
<p>&nbsp;</p>
<p>管理界面里还有系统设置，我们再去看看。有个 VIP 主机的设置，应该就是设置不纳入计费范围的，反正我是把自己电脑的 MAC 地址填入这里，就直接上网了，当然了，这个 MAC 地址是伪造的啦。再没有弹出需要密码的页面，至于监控与否就不清楚了。</p>
<p><a href="https://chaifeng.com/wp-content/uploads/2013/04/20130430165554.png"><img class="alignnone size-full wp-image-1359" alt="20130430165554" src="https://chaifeng.com/wp-content/uploads/2013/04/20130430165554.png" width="981" height="308" srcset="https://chaifeng.com/wp-content/uploads/2013/04/20130430165554.png 981w, https://chaifeng.com/wp-content/uploads/2013/04/20130430165554-300x94.png 300w" sizes="(max-width: 981px) 100vw, 981px" /></a></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>这里可以设置哪些 IP 段需要认证，我把起始IP修改到了 192.168.50.3，把自己电脑的 IP 设置为 192.168.50.2，好像是不能上网的。</p>
<p><a href="https://chaifeng.com/wp-content/uploads/2013/04/20130430165956.png"><img class="alignnone size-full wp-image-1360" alt="20130430165956" src="https://chaifeng.com/wp-content/uploads/2013/04/20130430165956.png" width="942" height="286" srcset="https://chaifeng.com/wp-content/uploads/2013/04/20130430165956.png 942w, https://chaifeng.com/wp-content/uploads/2013/04/20130430165956-300x91.png 300w" sizes="(max-width: 942px) 100vw, 942px" /></a></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>有一个关键的设置，一定是大家很感兴趣的，就是这些信息被传送到什么地方呢？答案就在这里，有兴趣的朋友可以去研究研究哈。</p>
<p><a href="https://chaifeng.com/wp-content/uploads/2013/04/20130430170257.png"><img class="alignnone size-full wp-image-1361" alt="20130430170257" src="https://chaifeng.com/wp-content/uploads/2013/04/20130430170257.png" width="609" height="503" srcset="https://chaifeng.com/wp-content/uploads/2013/04/20130430170257.png 609w, https://chaifeng.com/wp-content/uploads/2013/04/20130430170257-300x247.png 300w" sizes="(max-width: 609px) 100vw, 609px" /></a></p>
<p>&nbsp;</p>
<p>呸，网络神探</p>
<p><a href="https://chaifeng.com/wp-content/uploads/2013/04/20130430170815.png"><img class="alignnone size-full wp-image-1363" alt="20130430170815" src="https://chaifeng.com/wp-content/uploads/2013/04/20130430170815.png" width="611" height="210" srcset="https://chaifeng.com/wp-content/uploads/2013/04/20130430170815.png 611w, https://chaifeng.com/wp-content/uploads/2013/04/20130430170815-300x103.png 300w" sizes="(max-width: 611px) 100vw, 611px" /></a></p>
<p>&nbsp;</p>
<p>还有一个设置应该是配合网络神探使用的，估计要是我修改了这里的设置，我用自己的电脑就能监控整个酒店的网络了，嗯，或许吧。</p>
<p><a href="https://chaifeng.com/wp-content/uploads/2013/04/20130430204216.png"><img class="alignnone size-full wp-image-1375" alt="20130430204216" src="https://chaifeng.com/wp-content/uploads/2013/04/20130430204216.png" width="954" height="427" srcset="https://chaifeng.com/wp-content/uploads/2013/04/20130430204216.png 954w, https://chaifeng.com/wp-content/uploads/2013/04/20130430204216-300x134.png 300w" sizes="(max-width: 954px) 100vw, 954px" /></a></p>
<p>&nbsp;</p>
<p>大家可能感兴趣的内容大概就这些吧，记住了，在酒店上网一定要开启 VPN。建议使用 OpenVPN，如果 OpenVPN 的服务器端口是 80 就更好了。</p>
<p>强烈建议大家禁止系统中的 CNNIC 的根证书，在酒店的这个网络环境中，很容易实现中间人攻击。</p>
<p>另外，酒店应该不会记录很详细的网络内容，因为这个会占用大量的存储空间，除非触发了敏感词。平平和安安要求保留至少90天的记录，如果记录下详细的内容，可能会占用大量的存储空间。</p>
<p>&nbsp;</p>
									</div>
			</div>

					 <div id="post-1339" class="post-1339 post type-post status-publish format-standard hentry category-uncategorized">
				<div class="title">
					<h2><a href="https://chaifeng.com/%e8%bf%81%e7%a7%bb%e5%88%b0-linode-%e4%ba%86/" title="迁移到 Linode 了">迁移到 Linode 了</a></h2>
				</div>
					<div class="meta"><a href="https://chaifeng.com/%e8%bf%81%e7%a7%bb%e5%88%b0-linode-%e4%ba%86/">10. March 2013</a> &middot; <a href="https://chaifeng.com/%e8%bf%81%e7%a7%bb%e5%88%b0-linode-%e4%ba%86/#respond">Write a comment</a>					 &middot; Categories: <a href="https://chaifeng.com/category/uncategorized/" rel="category tag">Uncategorized</a>					 </div>

				<div class="entry">
										<p>Dreamhost 的空间就要到期了，实在无法忍受在中国访问的龟速了。</p>
<p>昨天正式迁移到 Linode 东京机房，速度那叫一个爽，基本上带宽全占满。</p>
<p>前天是女性朋友的节日，大早上的写了一个段子，昨天竟然发现上了新浪微博的热门，Cooooool。</p>
<p>兜兜的照片也好久不放了，很纠结，担心万一被坏人利用把我家兜兜给骗走。</p>
									</div>
			</div>

					 <div id="post-1316" class="post-1316 post type-post status-publish format-standard hentry category-6">
				<div class="title">
					<h2><a href="https://chaifeng.com/2012%e5%b9%b410%e6%9c%8820%e6%97%a5qclub%e5%a4%aa%e5%8e%9f%e7%ab%99%e5%9b%9e%e9%a1%be/" title="2012年10月20日QClub太原站回顾">2012年10月20日QClub太原站回顾</a></h2>
				</div>
					<div class="meta"><a href="https://chaifeng.com/2012%e5%b9%b410%e6%9c%8820%e6%97%a5qclub%e5%a4%aa%e5%8e%9f%e7%ab%99%e5%9b%9e%e9%a1%be/">01. November 2012</a> &middot; <a href="https://chaifeng.com/2012%e5%b9%b410%e6%9c%8820%e6%97%a5qclub%e5%a4%aa%e5%8e%9f%e7%ab%99%e5%9b%9e%e9%a1%be/#comments">1 comment</a>					 &middot; Categories: <a href="https://chaifeng.com/category/%e6%8a%80%e6%9c%af%e6%96%87%e7%ab%a0/" rel="category tag">技术文章</a>					 </div>

				<div class="entry">
										<p>这一次的 QClub 活动是我的老东家山西鑫慧林赞助的，本来打算邀请两位讲师，后来一位来自北京的讲师因为时间和行程问题，最终只邀请到 Tinyfool 一人。不过 Tinyfool 还是很给力的，一口气说了一个半小时，最后意犹未尽的结束演讲。微博上也有朋友戏言，太原一时伞贵啊 <a href="http://weibo.com/1400229064/z1najn7yL">http://weibo.com/1400229064/z1najn7yL</a>。</p>
<p>这次活动到场将近40人，其中有几位山大的学生，当然还是出现了一些新面孔。本来预定的是一楼的100人会场，但是因为会场工作人员的失误，让我们和另外一个会议冲突了，于是就把我们安排在三楼的大会议室，结果诺大的会议室坐着3、40人显得空空荡荡。在照片中看到人不多，细数下来也将近40人。</p>
<p>Tinyfool 演讲完毕后，赞助商买了不少的啤酒，给 Tinyfool 单独准备了一瓶竹叶青。大家一起喝酒聊天，聊的是不亦乐乎。</p>
<p>Tinyfool 的微博上也分享了他的首次太原之旅 <a href="http://weibo.com/1400229064/z1Z5lykVU">http://weibo.com/1400229064/z1Z5lykVU</a>。</p>

		<style type='text/css'>
			#gallery-2 {
				margin: auto;
			}
			#gallery-2 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 50%;
			}
			#gallery-2 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-2 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-2' class='gallery galleryid-1316 gallery-columns-2 gallery-size-thumbnail'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://chaifeng.com/wp-content/uploads/2012/11/IMG_3625-1024x768.jpg'><img width="150" height="150" src="https://chaifeng.com/wp-content/uploads/2012/11/IMG_3625-1024x768-150x150.jpg" class="attachment-thumbnail size-thumbnail" alt="" /></a>
			</dt></dl><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://chaifeng.com/wp-content/uploads/2012/11/IMG_3626-1024x768.jpg'><img width="150" height="150" src="https://chaifeng.com/wp-content/uploads/2012/11/IMG_3626-1024x768-150x150.jpg" class="attachment-thumbnail size-thumbnail" alt="" /></a>
			</dt></dl><br style="clear: both" /><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://chaifeng.com/wp-content/uploads/2012/11/IMG_3630-1024x768.jpg'><img width="150" height="150" src="https://chaifeng.com/wp-content/uploads/2012/11/IMG_3630-1024x768-150x150.jpg" class="attachment-thumbnail size-thumbnail" alt="" /></a>
			</dt></dl><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://chaifeng.com/wp-content/uploads/2012/11/IMG_3634-1024x768.jpg'><img width="150" height="150" src="https://chaifeng.com/wp-content/uploads/2012/11/IMG_3634-1024x768-150x150.jpg" class="attachment-thumbnail size-thumbnail" alt="" /></a>
			</dt></dl><br style="clear: both" /><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://chaifeng.com/wp-content/uploads/2012/11/IMG_3638-1024x768.jpg'><img width="150" height="150" src="https://chaifeng.com/wp-content/uploads/2012/11/IMG_3638-1024x768-150x150.jpg" class="attachment-thumbnail size-thumbnail" alt="" /></a>
			</dt></dl><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://chaifeng.com/wp-content/uploads/2012/11/IMG_3641-1024x768.jpg'><img width="150" height="150" src="https://chaifeng.com/wp-content/uploads/2012/11/IMG_3641-1024x768-150x150.jpg" class="attachment-thumbnail size-thumbnail" alt="" /></a>
			</dt></dl><br style="clear: both" /><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://chaifeng.com/wp-content/uploads/2012/11/IMG_3646-1024x768.jpg'><img width="150" height="150" src="https://chaifeng.com/wp-content/uploads/2012/11/IMG_3646-1024x768-150x150.jpg" class="attachment-thumbnail size-thumbnail" alt="" /></a>
			</dt></dl><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://chaifeng.com/wp-content/uploads/2012/11/IMG_3647-1024x768.jpg'><img width="150" height="150" src="https://chaifeng.com/wp-content/uploads/2012/11/IMG_3647-1024x768-150x150.jpg" class="attachment-thumbnail size-thumbnail" alt="" /></a>
			</dt></dl><br style="clear: both" /><dl class='gallery-item'>
			<dt class='gallery-icon portrait'>
				<a href='https://chaifeng.com/wp-content/uploads/2012/11/IMG_3648-1024x768.jpg'><img width="150" height="150" src="https://chaifeng.com/wp-content/uploads/2012/11/IMG_3648-1024x768-150x150.jpg" class="attachment-thumbnail size-thumbnail" alt="" /></a>
			</dt></dl><dl class='gallery-item'>
			<dt class='gallery-icon portrait'>
				<a href='https://chaifeng.com/wp-content/uploads/2012/11/IMG_3649-1024x768.jpg'><img width="150" height="150" src="https://chaifeng.com/wp-content/uploads/2012/11/IMG_3649-1024x768-150x150.jpg" class="attachment-thumbnail size-thumbnail" alt="" /></a>
			</dt></dl><br style="clear: both" /><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://chaifeng.com/wp-content/uploads/2012/11/IMG_3652-1024x768.jpg'><img width="150" height="150" src="https://chaifeng.com/wp-content/uploads/2012/11/IMG_3652-1024x768-150x150.jpg" class="attachment-thumbnail size-thumbnail" alt="" /></a>
			</dt></dl><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://chaifeng.com/wp-content/uploads/2012/11/IMG_3660-1024x768.jpg'><img width="150" height="150" src="https://chaifeng.com/wp-content/uploads/2012/11/IMG_3660-1024x768-150x150.jpg" class="attachment-thumbnail size-thumbnail" alt="" /></a>
			</dt></dl><br style="clear: both" /><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://chaifeng.com/wp-content/uploads/2012/11/IMG_3662-1024x768.jpg'><img width="150" height="150" src="https://chaifeng.com/wp-content/uploads/2012/11/IMG_3662-1024x768-150x150.jpg" class="attachment-thumbnail size-thumbnail" alt="" /></a>
			</dt></dl><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://chaifeng.com/wp-content/uploads/2012/11/IMG_3666-1024x768.jpg'><img width="150" height="150" src="https://chaifeng.com/wp-content/uploads/2012/11/IMG_3666-1024x768-150x150.jpg" class="attachment-thumbnail size-thumbnail" alt="" /></a>
			</dt></dl><br style="clear: both" /><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://chaifeng.com/wp-content/uploads/2012/11/IMG_3669-1024x768.jpg'><img width="150" height="150" src="https://chaifeng.com/wp-content/uploads/2012/11/IMG_3669-1024x768-150x150.jpg" class="attachment-thumbnail size-thumbnail" alt="" /></a>
			</dt></dl><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://chaifeng.com/wp-content/uploads/2012/11/IMG_3670-1024x768.jpg'><img width="150" height="150" src="https://chaifeng.com/wp-content/uploads/2012/11/IMG_3670-1024x768-150x150.jpg" class="attachment-thumbnail size-thumbnail" alt="" /></a>
			</dt></dl><br style="clear: both" />
		</div>

<p>&nbsp;</p>
									</div>
			</div>

					 <div id="post-1308" class="post-1308 post type-post status-publish format-standard hentry category-uncategorized">
				<div class="title">
					<h2><a href="https://chaifeng.com/2012-7-21-qclub-taiyuan/" title="2012年7月21日QClub太原站活动总结">2012年7月21日QClub太原站活动总结</a></h2>
				</div>
					<div class="meta"><a href="https://chaifeng.com/2012-7-21-qclub-taiyuan/">02. August 2012</a> &middot; <a href="https://chaifeng.com/2012-7-21-qclub-taiyuan/#comments">2 comments</a>					 &middot; Categories: <a href="https://chaifeng.com/category/uncategorized/" rel="category tag">Uncategorized</a>					 </div>

				<div class="entry">
										<p>把基本情况先简述一下，首先是周六太原大雨，影响了到场率，<wbr>不过还是有将近40人，而且还看到一些新面孔。<wbr>其次是两位讲师的话题都很给力，演讲都超时，<wbr>而且QA环节大家都很踊跃的提问。<wbr>郭振的话题用了1个半小时才结束，<wbr>张龙的话题更是达到了2个小时。最后5点50结束本次活动。</wbr></wbr></wbr></wbr></wbr></p>
<p>以下文绉绉的总结出自专业编辑李洋之手：</p>
<p>7月21日，QClub太原站如期在山西出版传媒集团一楼会议室举行，这已经是QClub第三次来到太原举行活动。今天的龙城太原下起雨来，这给炎炎夏季带来了丝丝凉意；而这场期盼已久的QClub技术社区活动对于技术相对滞后的太原地区而言，也是如同久旱逢甘霖一般及时与酣畅。此次活动中，增添了很多新的面孔，他们为QClub太原站社区活动添加了新的血液与活力。</p>
<p>大雨并没有浇灭前来参加活动人们的热情，在不小的会议室当中坐得是满满当当。技术开发人员也都希望在这场难得的“Android应用开发”的主题讲座中汲取自己所需要的养分并希望借此来解决在工作中所遇到的实际问题。好了，我们现在直入主题，看看讲师们今天会给我们分享那些先进理念与经验以及会带给我们哪些意想不到的惊喜！</p>
<p>首先是来自盛大创新院的高级研究员、乐众ROM项目组总架构师郭振分享的 Android 备份框架的架构与设计，以及如何将自己的服务集成到 Android 系统中。此次活动有一点明显地改善就是参与者的积极性与主动性较前两次有了显著地提高。在互动环节当中，参与者与讲师之间的交流更加自然，提问也是更加踊跃，奖品更是抢手……</p>
<p>接下来是联想集团全球应用开发部的高级工程师、InfoQ翻译团队编辑张龙分享的Android跨进程通信机制与AIDL，介绍了Activity与Service之间的通信原理。张龙这个名字，大家一定不陌生，这已经是第二次来到太原与大家分享经验，算是QClub太原站的老朋友了。大家对于张龙刚刚翻译出版的《Android Web应用高级编程》这本书产生了浓厚的兴趣，这本书涉及到一些跨平台移动开发技术的内容。这本书也是作为活动中的奖品来发放，在互动过程中大家的热情都很高涨，很想要获得这本精美IT图书，因此互动问答过程就格外积极与踊跃！</p>
<p>这已经是山西书海数字网络传媒科技有限责任公司第三次成功举办QClub太原站活动了，书海传媒对于推动太原地区IT技术交流，应该说是功不可没。最后，我们还是要再次感谢QClub太原站活动的本地赞助商——书海传媒的鼎力支持。</p>
									</div>
			</div>

					 <div id="post-1304" class="post-1304 post type-post status-publish format-standard hentry category-uncategorized">
				<div class="title">
					<h2><a href="https://chaifeng.com/%e6%88%91%e7%9a%84%e5%9f%9f%e5%90%8d%e5%b7%b2%e7%bb%8f%e5%8d%81%e5%b9%b4%e4%ba%86/" title="我的域名已经十年了">我的域名已经十年了</a></h2>
				</div>
					<div class="meta"><a href="https://chaifeng.com/%e6%88%91%e7%9a%84%e5%9f%9f%e5%90%8d%e5%b7%b2%e7%bb%8f%e5%8d%81%e5%b9%b4%e4%ba%86/">14. June 2012</a> &middot; <a href="https://chaifeng.com/%e6%88%91%e7%9a%84%e5%9f%9f%e5%90%8d%e5%b7%b2%e7%bb%8f%e5%8d%81%e5%b9%b4%e4%ba%86/#respond">Write a comment</a>					 &middot; Categories: <a href="https://chaifeng.com/category/uncategorized/" rel="category tag">Uncategorized</a>					 </div>

				<div class="entry">
										<p>from 2002-06-14</p>
<p>&nbsp;</p>
									</div>
			</div>

					 <div id="post-1289" class="post-1289 post type-post status-publish format-standard hentry category-6 tag-clojure">
				<div class="title">
					<h2><a href="https://chaifeng.com/clojure-stm-what-why-how/" title="Clojure STM &#8211; What? Why? How?">Clojure STM &#8211; What? Why? How?</a></h2>
				</div>
					<div class="meta"><a href="https://chaifeng.com/clojure-stm-what-why-how/">17. May 2012</a> &middot; <a href="https://chaifeng.com/clojure-stm-what-why-how/#respond">Write a comment</a>					 &middot; Categories: <a href="https://chaifeng.com/category/%e6%8a%80%e6%9c%af%e6%96%87%e7%ab%a0/" rel="category tag">技术文章</a> &middot; Tags: <a href="https://chaifeng.com/tag/clojure/" rel="tag">clojure</a>					 </div>

				<div class="entry">
										<p>（Source: <a title="Clojure STM - What? Why? How?" href="http://sw1nn.com/blog/2012/04/11/clojure-stm-what-why-how/">http://sw1nn.com/blog/2012/04/11/clojure-stm-what-why-how/</a>）</p>
<p>Clojure 有很多功能可以帮助在程序中处理并发问题。本文将关注软件事务内存（Software Transactional Memory，缩写 STM），不过这些并发问题的共性都是由多个部分共同运行来得以解决，因此我们期待一些其他思想的渗入……</p>
<h2>STM 是什么？</h2>
<blockquote><p>软件事务内存 (STM) 是一种模拟数据库事务的并发控制机制来控制在并行计算时对共享内存的访问控制。它是锁的一种替代机制。</p>
<p>维基百科 &#8211; <a href="http://zh.wikipedia.org/wiki/%E8%BD%AF%E4%BB%B6%E4%BA%8B%E5%8A%A1%E5%86%85%E5%AD%98">http://zh.wikipedia.org/wiki/软件事务内存</a></p></blockquote>
<p>STM 允许在内存中更新多个数据，这些变更对于其他同时在执行相同逻辑的线程来说，显而易见是原子性的。类似数据库中的事务，如果因为某些原因有些更新没有完成，然后就会取消所有更新操作。</p>
<p>一个典型例子就是银行的交易 &#8211; 你希望把你的账户中的一些钱转账到我的账户……，我们将使用这个作为我们的例子，因为从概念上来说大家都熟悉。</p>
<p>目前在计算机科学中，STM 的实现还不是一个已经解决的问题，正在进行的研究是怎样更好的完成它。Clojure 选择了一个基于多版本并发控制（MVCC）的方法，MVCC在一个事务中维护多个（逻辑）版本数据的引用。在你的事务执行过程中，你看到的是一份数据的快照，与事务开始时看到的数据是一样的。当你认为在Clojure中普遍使用持久性数据完成你的很多事情，而不需要做太多额外的工作时，MVCC就是一个显而易见的选择。</p>
<h2>为什么我们需要 STM？</h2>
<p>STM 的核心是 ref 和 dosync，让我们看一个例子……</p>
<pre class="brush: clojure; gutter: true">(def account1 (ref 100))
(def account2 (ref 0))

; to read the current value of a ref, use (deref refname):
;=&gt; (deref account1)
100
;=&gt; @account1 ; @refname is equivalent to (deref refname)
100

(defn transfer [amount from to]
    (dosync
       (alter from - amount)   ; alter from =&gt; (- @from amount)
       (alter to   + amount))) ; alter to   =&gt; (+ @to amount)

;=&gt; @account1
100
;=&gt; @account2
0
;=&gt; (transfer 100 account1 account2)
100
;=&gt; @account1
0
;=&gt; @account2
100</pre>
<p>你们看到我们在这里定义了两个账户，第一个账户 account1 初始化了 100。(transfer) 函数接收一个数量参数amount，一个来源账户 from 和一个目标账户 to，然后使用 alter 修改两个账户，从 from 账户中减去 amount 的数量，添加同样的 amount 数量给 to 账户。这段代码运行在一个单线程中，但是考虑一下，如果还有一个线程在两个 alter 语句之间运行，修改了两个账户中的值，这会发生什么呢？如果没有 STM 的保护，就很容易丢掉其中一个或者两个账户的变更。</p>
<p>另外一个例子；假设在一天结束时，银行希望给所有账户生成一份结算报表。可能这份报表需要很长时间的运行，但是在报表的生成过程中，依然可以对账户交易，并且为了报表目的，我们应该看到的是一致的数据视图。</p>
<h2>在 Clojure 中 STM 是怎样工作的</h2>
<p>看下面的这张图，你会看到粉色盒子中的三个事务，你也会看到最左边一列中ref值的不同版本。当一个事务通过 (dosync) 开始后，就会获取到ref的版本。获取到的值是在事务执行过程中 (deref) 返回的值（也就是说在事务中读取的ref都是不变的）。<a href="https://chaifeng.com/wp-content/uploads/2012/05/clojurestmtransactions.png"><img class="alignnone size-full wp-image-1292" title="clojurestmtransactions" src="https://chaifeng.com/wp-content/uploads/2012/05/clojurestmtransactions.png" alt="" width="960" height="720" srcset="https://chaifeng.com/wp-content/uploads/2012/05/clojurestmtransactions.png 960w, https://chaifeng.com/wp-content/uploads/2012/05/clojurestmtransactions-300x225.png 300w" sizes="(max-width: 960px) 100vw, 960px" /></a></p>
<p>让我们看看最左面的两个事务，两个事务同时开始，同时获取到了相同的 ref 值，因此两个获得的都是 ref 版本为 0 的一份副本。在事务中会执行一些操作，ref 的值将会被更新。第一个（最左面）的事务首先结束，所以赢得了比赛，把 ref 更新为新值。当第二个事务结束时，它尝试写入它的值，但是写失败了（图例中的红色箭头），因为 ref 的版本不是预期的。在这个例子中，事务就重新执行了。注意当事务重新执行时，它首先获得了 ref 新版本的副本，也就是看到的是第一个事务中变更后的值。然后由于没有其他事务尝试更新 ref，这次第二个事务就完成了。</p>
<p>你也看到这一切在进行的同时，第三个事务一直在运行，但是事务的处理过程中没有更新 ref 的值，所以不需要重试事务操作，事务运行完成。</p>
<p>如果保存在 ref 中的值是持久化的数据结构，在内存中保存这些数据结构的多个逻辑版本是很有效率的，因为这些数据结构会共享内部结构。当然，也会使用额外的资源，在一些场景中可能也会出现问题。当定义 ref 时，你还有一些选项来决定在运行时如何管理这些 ref 的历史（也就是上面讨论的这些版本数字）。</p>
<pre class="brush: clojure; gutter: true">; pre-allocate history and limit max-history
(def myref (ref 1 :min-history 5 :max-history: 10))

; supply a function to validate the ref before commit.
(def myvalidref (ref 1 :validator pos?))</pre>
<p>这个可以让你通过使用预分配和限制历史资源的使用，来提高在读取-失败中的边界效率。</p>
<h2>宽松的一致性和副作用</h2>
<p>在一些并发的事例中，你可以放宽松一点，以获得一些的效率。举个例子，假设你要保留一天的交易日志。如果你知道最后的交易结果始终是正确的，你可能就不大关心这些交易的顺序。说实在的，如果你收到两笔分别是 ￥100和￥50的存款，你可能就不在乎它们是被记录为￥100然后￥50，还是￥50然后￥100。存款的两个事务是可交换的，Clojure 也提供了一个并发操作 (commute) 来完成这样的事情……</p>
<pre class="brush: clojure; gutter: true">(defn log-deposit [account amount]
     (dosync
        (println &quot;Depositing $&quot; amount &quot; into account, balance now: &quot;
            (commute account + amount))))

(def myaccount (ref 0))

(log-deposit myaccount 100)
(log-deposit myaccount 50)

; (as good as) equivalent to 

(log-deposit myaccount 50)
(log-deposit myaccount 100)</pre>
<p>需要注意 (commute) 的是，当函数调用时，它设置了ref在事务中的值，但是在提交的时候才会真正的做出修改，是通过再次运行传入给 commute 的函数和最新的 ref 值。 这意味着在你的事务中你计算的值可能不是最终提交给 ref 的值。这需要考虑的认真点，你要确保你的操作过程中不依赖最新的 ref 值。</p>
<p>最后，你可能会疑惑上面例子中的 (println)，在事务重试的事件中会产生什么副作用呢？会发生一个很简单的副作用。对于上面的例子，这个可能是个不太重要的事情，就是日志将会不一致，但是数据的真实来源将会是正确的。</p>
<p>Clojure 也提供了一个宏，也就是 io!，这个允许你把代码标记为不允许运行在一个事务中。你可以用这个来保护你自己无意中在一个事务里面调用了有副作用的代码。</p>
<p>例如：</p>
<pre class="brush: clojure; gutter: true">(defn log [s]
   (io!
      (println s)))

(log &quot;Hello World&quot;) ; succeeds

(dosync (log &quot;Hello World!&quot;)) ; throws IllegalStateException</pre>
<p>要正确的在一个事务内部完成 IO，你最好从事务内部把消息扔给Agent，Clojure 中的 Agent 是和 STM 整合在一起的，这样当事务成功时就会发送消息，如果事务失败就会被丢弃。</p>
									</div>
			</div>

						<div class="navigation">
			<div class="alignleft"><a href="https://chaifeng.com/page/2/" >&laquo;  Older articles</a></div>
			<div class="alignright"></div>
		</div>

		
		
	
	</div>


	<div id="sidebar">
		<div id="search-2" class="widget widget_search">			<form method="get" id="sidebarsearch" action="https://chaifeng.com" >
				<label class="hidden" for="s">Search:</label>
				<div>
					<input type="text" value="" name="s" id="s" />
					<input type="submit" id="searchsubmit" value="Search" /> 
				</div>
			</form>	
</div><div id="linkcat-11" class="widget widget_links"><h4 class="widgettitle">Family</h4>
	<ul class='xoxo blogroll'>
<li><a href="http://chaix.in">Chai Xin</a></li>
<li><a href="http://chairui.com">My sister</a></li>
<li><a href="http://chaiboyun.com" rel="child">My son</a></li>
<li><a href="http://qinxiaoyan.com" rel="spouse">My wife</a></li>

	</ul>
</div>
<div id="text-3" class="widget widget_text"><h4 class="widgettitle">PuTTY</h4>			<div class="textwidget"><a href="//chaifeng.com/blog/2007/06/putty_200611.html">PuTTY 中文教程</a></div>
		</div>		<div id="recent-posts-2" class="widget widget_recent_entries">		<h4 class="widgettitle">Recent Posts</h4>		<ul>
											<li>
					<a href="https://chaifeng.com/alfred-workflow-zoom-us/">Alfred Workflow &#8211; Zoom.us</a>
									</li>
											<li>
					<a href="https://chaifeng.com/mpc-vs-full-stack-developer/">以前的 MPC 就是现在的『全栈工程师』</a>
									</li>
											<li>
					<a href="https://chaifeng.com/tools-used-for-certain-websites/">更方便的打开个别网站的方法</a>
									</li>
											<li>
					<a href="https://chaifeng.com/2014%e5%b9%b43%e6%9c%889%e6%97%a5-qclub-%e5%a4%aa%e5%8e%9f%e7%ab%99%e6%b4%bb%e5%8a%a8%e5%9b%9e%e9%a1%be/">2014年3月9日 QClub 太原站活动回顾</a>
									</li>
											<li>
					<a href="https://chaifeng.com/china-hotel-network/">国内酒店网络的背后</a>
									</li>
					</ul>
		</div><div id="recent-comments-2" class="widget widget_recent_comments"><h4 class="widgettitle">Recent Comments</h4><ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link">郭靖</span> on <a href="https://chaifeng.com/about/#comment-608376">About Me</a></li><li class="recentcomments"><span class="comment-author-link">pp</span> on <a href="https://chaifeng.com/about/#comment-343556">About Me</a></li><li class="recentcomments"><span class="comment-author-link">king</span> on <a href="https://chaifeng.com/about/#comment-326487">About Me</a></li><li class="recentcomments"><span class="comment-author-link">double2</span> on <a href="https://chaifeng.com/china-hotel-network/#comment-147929">国内酒店网络的背后</a></li><li class="recentcomments"><span class="comment-author-link"><a href='http://qclubchina.org/20121018-qclub-taiyuan/' rel='external nofollow' class='url'>2012年10月18日QClub太原站《关注iOS开发》回顾 | QClub 中国</a></span> on <a href="https://chaifeng.com/2012%e5%b9%b410%e6%9c%8820%e6%97%a5qclub%e5%a4%aa%e5%8e%9f%e7%ab%99%e5%9b%9e%e9%a1%be/#comment-50226">2012年10月20日QClub太原站回顾</a></li></ul></div><div id="archives-2" class="widget widget_archive"><h4 class="widgettitle">Archives</h4>		<ul>
			<li><a href='https://chaifeng.com/2017/05/'>May 2017</a></li>
	<li><a href='https://chaifeng.com/2017/04/'>April 2017</a></li>
	<li><a href='https://chaifeng.com/2015/12/'>December 2015</a></li>
	<li><a href='https://chaifeng.com/2014/03/'>March 2014</a></li>
	<li><a href='https://chaifeng.com/2013/04/'>April 2013</a></li>
	<li><a href='https://chaifeng.com/2013/03/'>March 2013</a></li>
	<li><a href='https://chaifeng.com/2012/11/'>November 2012</a></li>
	<li><a href='https://chaifeng.com/2012/08/'>August 2012</a></li>
	<li><a href='https://chaifeng.com/2012/06/'>June 2012</a></li>
	<li><a href='https://chaifeng.com/2012/05/'>May 2012</a></li>
	<li><a href='https://chaifeng.com/2012/03/'>March 2012</a></li>
	<li><a href='https://chaifeng.com/2011/09/'>September 2011</a></li>
	<li><a href='https://chaifeng.com/2011/08/'>August 2011</a></li>
	<li><a href='https://chaifeng.com/2011/07/'>July 2011</a></li>
	<li><a href='https://chaifeng.com/2011/06/'>June 2011</a></li>
	<li><a href='https://chaifeng.com/2011/05/'>May 2011</a></li>
	<li><a href='https://chaifeng.com/2011/04/'>April 2011</a></li>
	<li><a href='https://chaifeng.com/2011/03/'>March 2011</a></li>
	<li><a href='https://chaifeng.com/2011/02/'>February 2011</a></li>
	<li><a href='https://chaifeng.com/2011/01/'>January 2011</a></li>
	<li><a href='https://chaifeng.com/2010/12/'>December 2010</a></li>
	<li><a href='https://chaifeng.com/2010/11/'>November 2010</a></li>
	<li><a href='https://chaifeng.com/2010/10/'>October 2010</a></li>
	<li><a href='https://chaifeng.com/2010/09/'>September 2010</a></li>
	<li><a href='https://chaifeng.com/2010/08/'>August 2010</a></li>
	<li><a href='https://chaifeng.com/2010/07/'>July 2010</a></li>
	<li><a href='https://chaifeng.com/2010/06/'>June 2010</a></li>
	<li><a href='https://chaifeng.com/2010/05/'>May 2010</a></li>
	<li><a href='https://chaifeng.com/2010/04/'>April 2010</a></li>
	<li><a href='https://chaifeng.com/2010/03/'>March 2010</a></li>
	<li><a href='https://chaifeng.com/2010/02/'>February 2010</a></li>
	<li><a href='https://chaifeng.com/2010/01/'>January 2010</a></li>
	<li><a href='https://chaifeng.com/2009/12/'>December 2009</a></li>
	<li><a href='https://chaifeng.com/2009/11/'>November 2009</a></li>
	<li><a href='https://chaifeng.com/2009/10/'>October 2009</a></li>
	<li><a href='https://chaifeng.com/2009/09/'>September 2009</a></li>
	<li><a href='https://chaifeng.com/2009/08/'>August 2009</a></li>
	<li><a href='https://chaifeng.com/2009/07/'>July 2009</a></li>
	<li><a href='https://chaifeng.com/2009/06/'>June 2009</a></li>
	<li><a href='https://chaifeng.com/2009/05/'>May 2009</a></li>
	<li><a href='https://chaifeng.com/2009/04/'>April 2009</a></li>
	<li><a href='https://chaifeng.com/2009/03/'>March 2009</a></li>
	<li><a href='https://chaifeng.com/2009/02/'>February 2009</a></li>
	<li><a href='https://chaifeng.com/2009/01/'>January 2009</a></li>
	<li><a href='https://chaifeng.com/2008/12/'>December 2008</a></li>
	<li><a href='https://chaifeng.com/2008/11/'>November 2008</a></li>
	<li><a href='https://chaifeng.com/2008/10/'>October 2008</a></li>
	<li><a href='https://chaifeng.com/2008/09/'>September 2008</a></li>
	<li><a href='https://chaifeng.com/2008/08/'>August 2008</a></li>
	<li><a href='https://chaifeng.com/2008/07/'>July 2008</a></li>
	<li><a href='https://chaifeng.com/2008/06/'>June 2008</a></li>
	<li><a href='https://chaifeng.com/2008/05/'>May 2008</a></li>
	<li><a href='https://chaifeng.com/2008/04/'>April 2008</a></li>
	<li><a href='https://chaifeng.com/2008/03/'>March 2008</a></li>
	<li><a href='https://chaifeng.com/2008/02/'>February 2008</a></li>
	<li><a href='https://chaifeng.com/2008/01/'>January 2008</a></li>
	<li><a href='https://chaifeng.com/2007/12/'>December 2007</a></li>
	<li><a href='https://chaifeng.com/2007/11/'>November 2007</a></li>
	<li><a href='https://chaifeng.com/2007/10/'>October 2007</a></li>
	<li><a href='https://chaifeng.com/2007/09/'>September 2007</a></li>
	<li><a href='https://chaifeng.com/2007/08/'>August 2007</a></li>
	<li><a href='https://chaifeng.com/2007/07/'>July 2007</a></li>
	<li><a href='https://chaifeng.com/2007/06/'>June 2007</a></li>
	<li><a href='https://chaifeng.com/2007/05/'>May 2007</a></li>
	<li><a href='https://chaifeng.com/2007/04/'>April 2007</a></li>
	<li><a href='https://chaifeng.com/2007/02/'>February 2007</a></li>
	<li><a href='https://chaifeng.com/2007/01/'>January 2007</a></li>
	<li><a href='https://chaifeng.com/2006/12/'>December 2006</a></li>
	<li><a href='https://chaifeng.com/2006/11/'>November 2006</a></li>
	<li><a href='https://chaifeng.com/2006/10/'>October 2006</a></li>
	<li><a href='https://chaifeng.com/2006/09/'>September 2006</a></li>
	<li><a href='https://chaifeng.com/2006/08/'>August 2006</a></li>
	<li><a href='https://chaifeng.com/2006/07/'>July 2006</a></li>
	<li><a href='https://chaifeng.com/2006/06/'>June 2006</a></li>
	<li><a href='https://chaifeng.com/2006/05/'>May 2006</a></li>
	<li><a href='https://chaifeng.com/2006/04/'>April 2006</a></li>
	<li><a href='https://chaifeng.com/2006/03/'>March 2006</a></li>
	<li><a href='https://chaifeng.com/2006/02/'>February 2006</a></li>
	<li><a href='https://chaifeng.com/2006/01/'>January 2006</a></li>
	<li><a href='https://chaifeng.com/2005/12/'>December 2005</a></li>
		</ul>
		</div><div id="categories-2" class="widget widget_categories"><h4 class="widgettitle">Categories</h4>		<ul>
	<li class="cat-item cat-item-1"><a href="https://chaifeng.com/category/uncategorized/" >Uncategorized</a>
</li>
	<li class="cat-item cat-item-6"><a href="https://chaifeng.com/category/%e6%8a%80%e6%9c%af%e6%96%87%e7%ab%a0/" >技术文章</a>
</li>
	<li class="cat-item cat-item-3"><a href="https://chaifeng.com/category/%e6%9d%82%e4%b8%83%e6%9d%82%e5%85%ab/" >杂七杂八</a>
</li>
	<li class="cat-item cat-item-5"><a href="https://chaifeng.com/category/%e7%be%8e%e5%91%b3%e6%94%b6%e8%97%8f/" >美味收藏</a>
</li>
	<li class="cat-item cat-item-4"><a href="https://chaifeng.com/category/%e8%bf%90%e5%8a%a8/" >运动</a>
</li>
		</ul>
</div><div id="meta-2" class="widget widget_meta"><h4 class="widgettitle">Meta</h4>			<ul>
						<li><a href="https://chaifeng.com/wp-login.php">Log in</a></li>
			<li><a href="https://chaifeng.com/feed/">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="https://chaifeng.com/comments/feed/">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="https://wordpress.org/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform.">WordPress.org</a></li>			</ul>
			</div>	</div>


	</div>
		<div id="footer">
			<div class="left">&copy; 2018 三分热度://柴锋. All rights reserved.</div>
			<div class="right">Design by picomol. Powered by <a href="http://www.wordpress.org">WordPress</a>.
		</div>
	</div>
</div>
		
<!-- WP SyntaxHighlighter Ver.1.7.3 Begin -->
<script type="text/javascript" src="https://chaifeng.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0"></script>
<script type="text/javascript" src="https://chaifeng.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shAutoloader.js?ver=3.0"></script>
<script type="text/javascript" src="https://chaifeng.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0"></script>
<script type="text/javascript">//<![CDATA[
	SyntaxHighlighter.autoloader(
	"applescript	https://chaifeng.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushAppleScript.js?ver=3.0"
	,"as3 actionscript3	https://chaifeng.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushAS3.js?ver=3.0"
	,"bash shell	https://chaifeng.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushBash.js?ver=3.0"
	,"cf coldfusion	https://chaifeng.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushColdFusion.js?ver=3.0"
	,"cpp c	https://chaifeng.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCpp.js?ver=3.0"
	,"c# c-sharp csharp	https://chaifeng.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0"
	,"css	https://chaifeng.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCss.js?ver=3.0"
	,"delphi pas pascal	https://chaifeng.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushDelphi.js?ver=3.0"
	,"diff patch	https://chaifeng.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushDiff.js?ver=3.0"
	,"erl erlang	https://chaifeng.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushErlang.js?ver=3.0"
	,"groovy	https://chaifeng.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushGroovy.js?ver=3.0"
	,"java	https://chaifeng.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJava.js?ver=3.0"
	,"jfx javafx	https://chaifeng.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJavaFX.js?ver=3.0"
	,"js jscript javascript	https://chaifeng.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0"
	,"perl pl	https://chaifeng.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPerl.js?ver=3.0"
	,"php	https://chaifeng.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPhp.js?ver=3.0"
	,"plain text	https://chaifeng.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPlain.js?ver=3.0"
	,"ps powershell	https://chaifeng.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPowerShell.js?ver=3.0"
	,"py python	https://chaifeng.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPython.js?ver=3.0"
	,"rails ror ruby rb	https://chaifeng.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0"
	,"sass scss	https://chaifeng.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushSass.js?ver=3.0"
	,"scala	https://chaifeng.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushScala.js?ver=3.0"
	,"sql	https://chaifeng.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushSql.js?ver=3.0"
	,"vb vbnet	https://chaifeng.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushVb.js?ver=3.0"
	,"xml xhtml xslt html	https://chaifeng.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0"
	);
	SyntaxHighlighter.defaults['auto-links'] = true;
	SyntaxHighlighter.defaults['quick-code'] = true;
	SyntaxHighlighter.defaults['title'] = '';
	SyntaxHighlighter.defaults['class-name'] = 'notranslate';
	SyntaxHighlighter.defaults['collapse'] = false;
	SyntaxHighlighter.defaults['first-line'] = 1;
	SyntaxHighlighter.defaults['gutter'] = true;
	SyntaxHighlighter.defaults['pad-line-numbers'] = true;
	SyntaxHighlighter.defaults['smart-tabs'] = true;
	SyntaxHighlighter.defaults['tab-size'] = 4;
	SyntaxHighlighter.defaults['toolbar'] = true;
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = "Can't find brush for: ";
	SyntaxHighlighter.config.strings.brushNotHtmlScript = "Brush wasn't configured for html-script option: ";
	SyntaxHighlighter.all();
	
//]]></script>
<!-- WP SyntaxHighlighter Ver.1.7.3 End -->
<!-- Powered by WPtouch: 4.3.26 --><script type='text/javascript' src='https://chaifeng.com/wp-includes/js/wp-embed.min.js?ver=4.9.4'></script>
</body>
</html>

<!-- Dynamic page generated in 0.052 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2018-03-22 08:20:45 -->

<!-- Compression = gzip -->