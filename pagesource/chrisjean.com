<!DOCTYPE html>

<!--[if IE 6]>
	<html id="ie6" lang="en-US">
<![endif]-->
<!--[if IE 7]>
	<html id="ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
	<html id="ie8" lang="en-US">
<![endif]-->
<!--[if IE 9]>
	<html id="ie9" lang="en-US">
<![endif]-->
<!--[if (gt IE 9) | (!IE)  ]><!-->
	<html  lang="en-US">
<!--<![endif]-->

<head>

<meta charset="UTF-8" />

<title>Chris Jean</title>

<link rel="shortcut icon" href="https://chrisjean.com/wp-content/uploads/builder-favicon/sl56TYx.ico" />

<link rel="stylesheet" href="https://chrisjean.com/wp-content/themes/Builder/lib/builder-core/css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="https://chrisjean.com/wp-content/themes/BuilderChild-Custom/style.css" type="text/css" media="screen" />
<link rel="stylesheet" href="https://chrisjean.com/wp-content/uploads/it-file-cache/builder-layouts/4ce59f359e557.css?version=9cbc95fd3fffd8c7b559f363ab627e85" type="text/css" media="screen" />
<link rel="stylesheet" href="https://chrisjean.com/wp-content/themes/BuilderChild-Custom/style-responsive.css" type="text/css" media="only screen and (max-width: 1000px)" />
<link rel="stylesheet" href="https://chrisjean.com/wp-content/themes/Builder/style-mobile.css" type="text/css" media="only screen and (max-width: 500px)" />
<link rel="stylesheet" href="https://chrisjean.com/wp-content/themes/Builder/lib/builder-core/css/structure.css?ver=2" type="text/css" media="screen" />

<!--[if lt IE 7]>
	<script src="https://chrisjean.com/wp-content/themes/Builder/lib/builder-core/js/dropdown.js" type="text/javascript"></script>
<![endif]-->
<!--[if lt IE 9]>
	<script src="https://chrisjean.com/wp-content/themes/Builder/lib/builder-core/js/html5.js" type="text/javascript"></script>
<![endif]-->

<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="pingback" href="https://chrisjean.com/xmlrpc.php" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel='dns-prefetch' href='//cdnjs.cloudflare.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Chris Jean &raquo; Feed" href="https://chrisjean.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Chris Jean &raquo; Comments Feed" href="https://chrisjean.com/comments/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.4\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.4\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/chrisjean.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.9.4"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55357,56692,8205,9792,65039],[55357,56692,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='highlightsjs-css'  href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.5.0/styles/hybrid.min.css?ver=4.9.4' type='text/css' media='all' />
<script type='text/javascript' src='https://chrisjean.com/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='https://chrisjean.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.5.0/highlight.min.js?ver=4.9.4'></script>
<link rel='https://api.w.org/' href='https://chrisjean.com/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://chrisjean.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://chrisjean.com/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.9.4" />

</head>
<body id="builder-layout-4ce59f359e557" class="home blog builder-responsive builder-template-index builder-view-home builder-view-post-2573">
<div class="builder-container-background-wrapper">
<div class="builder-container-outer-wrapper">
<div class="builder-container" id="builder-container-4ce59f359e557">
<div class="builder-module-background-wrapper builder-module-header-background-wrapper builder-module-1-background-wrapper builder-module-header-1-background-wrapper builder-module-top-background-wrapper builder-module-header-last-background-wrapper builder-module-before-content-background-wrapper default-module-style-background-wrapper" id="builder-module-4e6e2c84b5e3d-background-wrapper">
<div class="builder-module-outer-wrapper builder-module-header-outer-wrapper builder-module-1-outer-wrapper builder-module-header-1-outer-wrapper builder-module-top-outer-wrapper builder-module-header-last-outer-wrapper builder-module-before-content-outer-wrapper default-module-style-outer-wrapper" id="builder-module-4e6e2c84b5e3d-outer-wrapper">
<div class="builder-module builder-module-header builder-module-1 builder-module-header-1 builder-module-top builder-module-header-last builder-module-before-content default-module-style clearfix" id="builder-module-4e6e2c84b5e3d">
<div class="builder-module-block-outer-wrapper builder-module-element-outer-wrapper builder-module-column-1-outer-wrapper single clearfix">
<div class="builder-module-block builder-module-element builder-module-column-1 clearfix">
<h1 class='site-title'><a href='https://chrisjean.com'>Chris Jean</a></h1>
<div class='site-tagline'><a href='https://chrisjean.com'></a>WordPress developer for <a href="https://ithemes.com">iThemes</a>, Linux fan, all-around nerd, and <a href="https://twitter.com/chrisjean">@chrisjean</a> on Twitter</a></div>

</div>
</div>

</div>
</div>
</div>

<div class="builder-module-background-wrapper builder-module-content-background-wrapper builder-module-2-background-wrapper builder-module-content-1-background-wrapper builder-module-middle-background-wrapper builder-module-content-last-background-wrapper builder-module-before-footer-background-wrapper builder-module-after-header-background-wrapper default-module-style-background-wrapper" id="builder-module-4ce59f359e4c1-background-wrapper">
<div class="builder-module-outer-wrapper builder-module-content-outer-wrapper builder-module-2-outer-wrapper builder-module-content-1-outer-wrapper builder-module-middle-outer-wrapper builder-module-content-last-outer-wrapper builder-module-before-footer-outer-wrapper builder-module-after-header-outer-wrapper default-module-style-outer-wrapper" id="builder-module-4ce59f359e4c1-outer-wrapper">
<div class="builder-module builder-module-content builder-module-2 builder-module-content-1 builder-module-middle builder-module-content-last builder-module-before-footer builder-module-after-header default-module-style clearfix" id="builder-module-4ce59f359e4c1">
<div class="builder-module-block-outer-wrapper builder-module-element-outer-wrapper builder-module-column-1-outer-wrapper single clearfix">
<div class="builder-module-block builder-module-element builder-module-column-1 clearfix">
									
			<div class="post-2573 post type-post status-publish format-standard hentry category-uncategorized">
				<div class="title clearfix">
					<div class="post-title">
						<h3 id="post-2573"><a href="https://chrisjean.com/finding-and-purging-unpurged-packages-on-ubuntu/">Finding and Purging Unpurged Packages on Ubuntu</a></h3>
					</div>
				</div>
				
				<div class="post-content">
					<p>When you remove a package (such as <code>sudo apt remove php5.5-cgi</code>), all files added by the package will be deleted except for user configuration files that were modified. When you purge a package (such as <code>sudo apt purge php5.5-cgi</code>), all the package files, including modified configuration files, are deleted. After a few years, your Ubuntu installation may start to accumulate old packages that were removed but not purged. Fortunately, it is easy to find those unpurged packages and purge them.</p>
<p>The <code>dpkg</code> command can provide us with a list of removed, unpurged packages:</p>
<pre class="terminal notranslate"><span class="regular-prompt">[<span class="user">chris@home</span> <span class="path">~</span>]$</span> <span class="user-input">dpkg --list | grep ^rc</span>
rc  php5.5-cgi       5.5.38-4+deb.sury.org~xenial+1  amd64  server-side, HTML-embedded scripting language (CGI binary)
rc  php5.5-cli       5.5.38-4+deb.sury.org~xenial+1  amd64  command-line interpreter for the PHP scripting language
rc  php5.5-common    5.5.38-4+deb.sury.org~xenial+1  amd64  documentation, examples and common module for PHP
rc  php5.5-json      5.5.38-4+deb.sury.org~xenial+1  amd64  JSON module for PHP
rc  php5.5-opcache   5.5.38-4+deb.sury.org~xenial+1  amd64  Zend OpCache module for PHP
rc  php5.5-readline  5.5.38-4+deb.sury.org~xenial+1  amd64  readline module for PHP
<span class="regular-prompt">[<span class="user">chris@home</span> <span class="path">~</span>]$</span> <span class="user-input"></span></pre>
<p>The <code>dpkg</code> command is Ubuntu&#8217;s package manager. The <code>apt</code>, <code>aptitude</code>, <code>apt-get</code>, and other <code>apt-*</code> commands are simply wrappers around <code>dpkg</code>. Calling <code>dpkg --list</code> creates a listing of all the packages on the system. Filtering the output by piping it through <code>grep ^rc</code> results in only showing the removed but unpurged packages (the <code>^rc</code> pattern means that only lines beginning with &#8220;rc&#8221; should be output). The &#8220;r&#8221; in &#8220;rc&#8221; means that the package was removed while the &#8220;c&#8221; means that the config files remain.</p>
<p>We can use <code>awk</code> to get a listing of just the package names:</p>
<pre class="terminal notranslate"><span class="regular-prompt">[<span class="user">chris@home</span> <span class="path">~</span>]$</span> <span class="user-input">dpkg --list | grep ^rc | awk '{ print $2; }'</span>
php5.5-cgi
php5.5-cli
php5.5-common
php5.5-json
php5.5-opcache
php5.5-readline
<span class="regular-prompt">[<span class="user">chris@home</span> <span class="path">~</span>]$</span> <span class="user-input"></span></pre>
<p>The <code>awk</code> command processes and manipulates string. By default, when <code>awk</code> reads each line of input, it will separate the input into a series of fields separated by runs of whitespace. You can refer to a specific field by using <code>$NUMBER</code>. In this instance, we tell it to print the second field by using <code>{ print $2; }</code>. This results in a listing of just the package names.</p>
<p>Now that we have our names, we just need to purge each one:</p>
<pre class="terminal notranslate"><span class="regular-prompt">[<span class="user">chris@home</span> <span class="path">~</span>]$</span> <span class="user-input">sudo apt purge `dpkg --list | grep ^rc | awk '{ print $2; }'`</span>
[sudo] password for chris:
Reading package lists... Done
Building dependency tree
Reading state information... Done
The following packages will be REMOVED:
  php5.5-cgi* php5.5-cli* php5.5-common* php5.5-json* php5.5-opcache* php5.5-readline*
0 upgraded, 0 newly installed, 6 to remove and 0 not upgraded.
After this operation, 0 B of additional disk space will be used.
Do you want to continue? [Y/n]
(Reading database ... 432300 files and directories currently installed.)
Removing php5.5-cgi (5.5.38-4+deb.sury.org~xenial+1) ...
Purging configuration files for php5.5-cgi (5.5.38-4+deb.sury.org~xenial+1) ...
dpkg: warning: while removing php5.5-cgi, directory '/etc/php/5.5/cgi/conf.d' not empty so not removed
Removing php5.5-cli (5.5.38-4+deb.sury.org~xenial+1) ...
Purging configuration files for php5.5-cli (5.5.38-4+deb.sury.org~xenial+1) ...
dpkg: warning: while removing php5.5-cli, directory '/etc/php/5.5/cli/conf.d' not empty so not removed
Removing php5.5-common (5.5.38-4+deb.sury.org~xenial+1) ...
Purging configuration files for php5.5-common (5.5.38-4+deb.sury.org~xenial+1) ...
dpkg: warning: while removing php5.5-common, directory '/etc/php/5.5/mods-available' not empty so not removed
Removing php5.5-json (5.5.38-4+deb.sury.org~xenial+1) ...
Purging configuration files for php5.5-json (5.5.38-4+deb.sury.org~xenial+1) ...
Removing php5.5-opcache (5.5.38-4+deb.sury.org~xenial+1) ...
Purging configuration files for php5.5-opcache (5.5.38-4+deb.sury.org~xenial+1) ...
Removing php5.5-readline (5.5.38-4+deb.sury.org~xenial+1) ...
Purging configuration files for php5.5-readline (5.5.38-4+deb.sury.org~xenial+1) ...
<span class="regular-prompt">[<span class="user">gaarai@samus</span> <span class="path">~/src/lynis</span>]$</span> <span class="user-input"></span></pre>
<p>By surrounding command to get the listing of packages with backticks (<code>`</code>), the output of that entire command can be used as an argument for another command. In this case, the output is used to tell the <code>apt</code> command to purge the packages.</p>
<p>Note the warnings stating that specific directories were not removed. I checked each of these directories, found that there were empty, and removed them manually.</p>
				</div>
				
				<div class="meta-bottom clearfix">
					<div class="alignleft"><span class="categories">Categories <a href="https://chrisjean.com/category/uncategorized/" rel="category tag">Uncategorized</a></span><br />
					<span class="comments">Comments <a href="https://chrisjean.com/finding-and-purging-unpurged-packages-on-ubuntu/#respond">(0)</a></span>					</div>
				</div>
			</div>
			
											
			<div class="post-2528 post type-post status-publish format-standard hentry category-random-ramblings">
				<div class="title clearfix">
					<div class="post-title">
						<h3 id="post-2528"><a href="https://chrisjean.com/what-is-some-address-it-wont-ever-reachlookup-and-try-to-find-this-host-name/">What is some<wbr/>.address<wbr/>.it<wbr/>.wont<wbr/>.ever<wbr/>.reach<wbr/>@lookup<wbr/>.and<wbr/>.try<wbr/>.to<wbr/>.find<wbr/>.this<wbr/>.host<wbr/>.name</a></h3>
					</div>
				</div>
				
				<div class="post-content">
					<p>Did you just receive some mail notifications saying that mail could not be delivered to <code>some.address<wbr/>.it<wbr/>.wont<wbr/>.ever<wbr/>.reach<wbr/>@lookup<wbr/>.and<wbr/>.try<wbr/>.to<wbr/>.find<wbr/>.this<wbr/>.host.name</code>? Fear not. This isn&#8217;t some kind of weird hack or compromise of your system. In all likelihood, someone just compiled PHP on the server.</p>
<p>PHP&#8217;s unit test to confirm that <a href="https://bugs.php.net/bug.php?id=72463">bug 72463</a> remains fixed makes two <code>mail()</code> calls that try to send mail to that address. The email address was specifically chosen to ensure that it would not refer to a real email address while still remaining a valid email address, thus the reason for the mail handler on the server sending the error stating that the mail could not be sent.</p>
<p>So, there&#8217;s no problem. It&#8217;s just PHP&#8217;s unit tests doing their job when someone runs <code>make test</code>.</p>
				</div>
				
				<div class="meta-bottom clearfix">
					<div class="alignleft"><span class="categories">Categories <a href="https://chrisjean.com/category/random-ramblings/" rel="category tag">Random Ramblings</a></span><br />
					<span class="comments">Comments <a href="https://chrisjean.com/what-is-some-address-it-wont-ever-reachlookup-and-try-to-find-this-host-name/#respond">(0)</a></span>					</div>
				</div>
			</div>
			
											
			<div class="post-2519 post type-post status-publish format-standard hentry category-linux category-tips-n-tricks">
				<div class="title clearfix">
					<div class="post-title">
						<h3 id="post-2519"><a href="https://chrisjean.com/quickly-clear-postfixs-mail-queue/">Quickly clear Postfix&#8217;s mail queue</a></h3>
					</div>
				</div>
				
				<div class="post-content">
					<p>I recently did some work on an Ubuntu server with a compromised PHP site that was sending out massive amounts of spam email messages. After removing the offending scripts, I needed to clear out the mail queue to ensure that the server was not attempting to send backlogged spam messages.</p>
<p>The server in question is running Postfix as the MTA (Mail Transfer Agent) rather than Sendmail. Fortunately, clearing the entire queue was as easy as running the following:</p>
<pre class="terminal notranslate"><span class="regular-prompt">[<span class="user">user@server</span> <span class="path">~</span>]$</span> <span class="user-input">sudo postsuper -d ALL</span>
postsuper: Deleted: 69967 messages
<span class="regular-prompt">[<span class="user">user@server</span> <span class="path">~</span>]$</span> <span class="user-input"></span></pre>
<p>If your server runs Sendmail, you will have to manually clear the mail queue by removing all the files at <code>/var/spool/mqueue/</code>. For example:</p>
<pre class="terminal notranslate"><span class="regular-prompt">[<span class="user">user@server</span> <span class="path">~</span>]$</span> <span class="user-input">sudo rm -f /var/spool/mqueue/*</span>
<span class="regular-prompt">[<span class="user">user@server</span> <span class="path">~</span>]$</span> <span class="user-input"></span></pre>
				</div>
				
				<div class="meta-bottom clearfix">
					<div class="alignleft"><span class="categories">Categories <a href="https://chrisjean.com/category/linux/" rel="category tag">Linux</a>, <a href="https://chrisjean.com/category/tips-n-tricks/" rel="category tag">Tips 'n Tricks</a></span><br />
					<span class="comments">Comments <a href="https://chrisjean.com/quickly-clear-postfixs-mail-queue/#respond">(0)</a></span>					</div>
				</div>
			</div>
			
											
			<div class="post-2498 post type-post status-publish format-standard hentry category-tips-n-tricks">
				<div class="title clearfix">
					<div class="post-title">
						<h3 id="post-2498"><a href="https://chrisjean.com/fix-bitbucket-api-project-select-a-valid-choice-that-choice-is-not-one-of-the-available-choices-error/">Fix Bitbucket API &#8220;project Select a valid choice. That choice is not one of the available choices&#8221; Error</a></h3>
					</div>
				</div>
				
				<div class="post-content">
					<p>I rely on <a href="https://confluence.atlassian.com/bitbucket/use-the-bitbucket-cloud-rest-apis-222724129.html">Bitbucket&#8217;s API</a> heavily to manage repositories at <a href="https://ithemes.com/">iThemes</a>. Recently, some of the API calls started to fail and returned nonsensical error messages.</p>
<p>When making a <code>PUT</code> request to the <code>/1.0/repositories/TEAM/SLUG</code> endpoint, I received an error response with a status code of 400 and the following message:</p>
<pre class="config-wrap">&lt;ul class="errorlist"&gt;&lt;li&gt;project&lt;ul class="errorlist"&gt;&lt;li&gt;Select a valid choice. That choice is not one of the available choices.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;</pre>
<p>This message makes no sense as the <a href="https://confluence.atlassian.com/bitbucket/repository-resource-1-0-296095202.html">documentation for that endpoint</a> has no mention of a parameter named <code>project</code>.</p>
<p>Going directly to bitbucket.org and trying to create a new repository there revealed that a new, required Project input is now on the form. This explains where the error message is coming from. It looks as though they added the new parameter to the repositories, made it mandatory, and updated the API endpoint to reflect this new mandatory parameter, but failed to update the documentation or to have any backwards-compatible support.</p>
<p>I found that supplying the <code>project</code> parameter with a value of <code>PROJ</code> (the default value in the form) got rid of the error message.</p>
				</div>
				
				<div class="meta-bottom clearfix">
					<div class="alignleft"><span class="categories">Categories <a href="https://chrisjean.com/category/tips-n-tricks/" rel="category tag">Tips 'n Tricks</a></span><br />
					<span class="comments">Comments <a href="https://chrisjean.com/fix-bitbucket-api-project-select-a-valid-choice-that-choice-is-not-one-of-the-available-choices-error/#respond">(0)</a></span>					</div>
				</div>
			</div>
			
											
			<div class="post-2445 post type-post status-publish format-standard hentry category-linux category-tips-n-tricks">
				<div class="title clearfix">
					<div class="post-title">
						<h3 id="post-2445"><a href="https://chrisjean.com/customize-ubuntu-unity-time-date-indicator/">Customize Ubuntu Unity&#8217;s Time &#038; Date Indicator</a></h3>
					</div>
				</div>
				
				<div class="post-content">
					<p>Ubuntu&#8217;s time and date indicator in Unity is a bit blah for my tastes. With the default settings on my system, it currently says &#8220;7:39&nbsp;AM&#8221;. That&#8217;s accurate, but it could be much more helpful.</p>
<p>You can load up the Time &#038; Date application from the dash, click the Clock tab, and customize the appearance a bit. However, the options offered in the application are very limited compared to what the indicator is capable of supporting. Sure, you can change it to the following with a few checkboxes &#8220;Thu&nbsp;Mar&nbsp;26&nbsp;2015&nbsp;7:39:11&nbsp;AM&#8221; or toggle it to a 24-hour time, but it really doesn&#8217;t look that nice to me.</p>
<p>Fortunately, the indicator can be set to a custom mode which supports all the options offered by the <a href="http://man7.org/linux/man-pages/man3/strftime.3.html">strftime</a> function.</p>
<p>To set up your custom indicator, first make sure that you have the clock indicator enabled:</p>
<pre class="terminal notranslate"><span class="regular-prompt">[<span class="user">chris@work</span> <span class="path">~</span>]$</span> <span class="user-input">gsettings set com.canonical.indicator.datetime show-clock true</span></pre>
<p>Next, set the indicator to use the custom format:</p>
<pre class="terminal notranslate"><span class="regular-prompt">[<span class="user">chris@work</span> <span class="path">~</span>]$</span> <span class="user-input">gsettings set com.canonical.indicator.datetime time-format custom</span></pre>
<p>Finally, set your indicator format:</p>
<pre class="terminal notranslate"><span class="regular-prompt">[<span class="user">chris@work</span> <span class="path">~</span>]$</span> <span class="user-input">gsettings set com.canonical.indicator.datetime custom-time-format "%A, %B %e  %l:%M %P"</span></pre>
<p>This changes my indicator to say &#8220;Thursday,&nbsp;March&nbsp;26&nbsp;&nbsp;7:40 am&#8221;.</p>
<p>The different options that can be used in the format string can be found on the <a href="http://man7.org/linux/man-pages/man3/strftime.3.html">strftime function&#8217;s man page</a>.</p>
				</div>
				
				<div class="meta-bottom clearfix">
					<div class="alignleft"><span class="categories">Categories <a href="https://chrisjean.com/category/linux/" rel="category tag">Linux</a>, <a href="https://chrisjean.com/category/tips-n-tricks/" rel="category tag">Tips 'n Tricks</a></span><br />
					<span class="comments">Comments <a href="https://chrisjean.com/customize-ubuntu-unity-time-date-indicator/#comments">(1)</a></span>					</div>
				</div>
			</div>
			
											
			<div class="post-2442 post type-post status-publish format-standard hentry category-linux category-tips-n-tricks">
				<div class="title clearfix">
					<div class="post-title">
						<h3 id="post-2442"><a href="https://chrisjean.com/fix-lxc_container-cgmanager-c-cgm_attach-1291-failed-to-get-cgroup-for-controller-all/">Fix &#8220;lxc_container: cgmanager.c: cgm_attach: 1291 Failed to get cgroup for controller all&#8221;</a></h3>
					</div>
				</div>
				
				<div class="post-content">
					<p>I&#8217;ve been tinkering around with LXC containers on my Ubuntu systems. While setting up my user for <a href="https://help.ubuntu.com/lts/serverguide/lxc.html#lxc-unpriv">unprivileged usage</a>, I ran into the following problem:</p>
<pre class="terminal notranslate"><span class="regular-prompt">[<span class="user">chris@server</span> <span class="path">~</span>]$</span> <span class="user-input">lxc-attach -n u1</span>
lxc_container: cgmanager.c: cgm_attach: 1291 Failed to get cgroup for controller all
lxc_container: attach.c: lxc_attach: 847 error communicating with child process
<span class="regular-prompt">[<span class="user">chris@server</span> <span class="path">~</span>]$</span> <span class="user-input"></span></pre>
<p>After a bit of tinkering around, I found that there is a bug that is causing this issue. Adding the LXC daily build PPA and updating fixed the issue for me. I did this as follows:</p>
<pre class="terminal notranslate"><span class="regular-prompt">[<span class="user">chris@server</span> <span class="path">~</span>]$</span> <span class="user-input">sudo apt-add-repository ppa:ubuntu-lxc/daily</span>
 Those are daily builds of the master branch of git://github.com/lxc/lxc for all supported versions of Ubuntu.

Required or recommended dependencies are also backported from current Ubuntu and included in this PPA to provide an identical LXC experience on all supported Ubuntu releases.
 More info: https://launchpad.net/~ubuntu-lxc/+archive/ubuntu/daily
Press [ENTER] to continue or ctrl-c to cancel adding it

gpg: keyring `/tmp/tmpovs0swu3/secring.gpg' created
gpg: keyring `/tmp/tmpovs0swu3/pubring.gpg' created
gpg: requesting key 7635B973 from hkp server keyserver.ubuntu.com
gpg: /tmp/tmpovs0swu3/trustdb.gpg: trustdb created
gpg: key 7635B973: public key "Launchpad PPA for Ubuntu LXC team" imported
gpg: Total number processed: 1
gpg:               imported: 1  (RSA: 1)
OK
<span class="regular-prompt">[<span class="user">chris@server</span> <span class="path">~</span>]$</span> <span class="user-input">sudo aptitude update && sudo aptitude full-upgrade -y</span>
...
The following NEW packages will be installed:
  lxcfs{a}
The following packages will be upgraded:
  liblxc1 lxc lxc-templates python3-lxc
4 packages upgraded, 1 newly installed, 0 to remove and 0 not upgraded.
Need to get 794 kB of archives. After unpacking 12.3 kB will be used.
Writing extended state information...
...
Building tag database...
<span class="regular-prompt">[<span class="user">chris@server</span> <span class="path">~</span>]$</span> <span class="user-input">lxc-attach -n u1</span>
root@u1:/# exit</pre>
<p>Hopefully this fix will make it out to the default repos soon, as I don&#8217;t typically like to use daily repos if I can avoid them.</p>
				</div>
				
				<div class="meta-bottom clearfix">
					<div class="alignleft"><span class="categories">Categories <a href="https://chrisjean.com/category/linux/" rel="category tag">Linux</a>, <a href="https://chrisjean.com/category/tips-n-tricks/" rel="category tag">Tips 'n Tricks</a></span><br />
					<span class="comments">Comments <a href="https://chrisjean.com/fix-lxc_container-cgmanager-c-cgm_attach-1291-failed-to-get-cgroup-for-controller-all/#respond">(0)</a></span>					</div>
				</div>
			</div>
			
											
			<div class="post-2433 post type-post status-publish format-standard hentry category-linux category-tips-n-tricks">
				<div class="title clearfix">
					<div class="post-title">
						<h3 id="post-2433"><a href="https://chrisjean.com/ubuntu-ssh-fix-for-agent-admitted-failure-to-sign-using-the-key/">Ubuntu SSH Fix for &#8220;Agent admitted failure to sign using the key&#8221;</a></h3>
					</div>
				</div>
				
				<div class="post-content">
					<p>For the past few weeks I&#8217;ve had problems logging into servers using my SSH keys from Ubuntu desktops. The following would happen each time:</p>
<pre class="terminal notranslate"><span class="regular-prompt">[<span class="user">chris@work</span> <span class="path">~</span>]$</span> <span class="user-input">ssh server</span>
Agent admitted failure to sign using the key.
Permission denied (publickey).
<span class="regular-prompt">[<span class="user">chris@work</span> <span class="path">~</span>]$</span> <span class="user-input"></span></pre>
<p>Oddly, this only happened from my Ubuntu desktop systems. My Ubuntu servers had no issue connecting.</p>
<p>After some digging, I found out that issues with the gnome-keyring were at fault. gnome-keyring doesn&#8217;t always handle specific formats of SSH keys correctly. Unfortunately, gnome-keyring was trying to handle all SSH key usage, preventing the keys from working.</p>
<p>If you are having this issue, you can confirm that gnome-keyring is at fault on your system by added <code>SSH_AUTH_SOCK=0</code> in front of the ssh command as follows:</p>
<pre class="terminal notranslate"><span class="regular-prompt">[<span class="user">chris@work</span> <span class="path">~</span>]$</span> <span class="user-input">SSH_AUTH_SOCK=0 ssh server</span>
Welcome to Ubuntu 14.10 (GNU/Linux 3.13.0-37-generic x86_64)

 * Documentation:  https://help.ubuntu.com/

0 packages can be updated.
0 updates are security updates.

Last login: Wed Mar 11 11:49:50 2015 from host
<span class="regular-prompt">[<span class="user">chris@work</span> <span class="path">~</span>]$</span> <span class="user-input"></span></pre>
<p>If the connection works, then you likely have the same problem that I had. If the connection does not work, please read the <a href="#fixing-other-sources">Fixing other sources of agent failure</a> section below for further ideas to fix your problem.</p>
<h2>Fixing gnome-keyring interference</h2>
<p>In order to fix the gnome-keyring interference, the &#8220;SSH Key Agent&#8221; will have to be disabled from the startup applications. In Unity&#8217;s dash, search for &#8220;startup&#8221; and select &#8220;Startup Applications&#8221;. This lists the programs that automatically run when your user logs in.</p>
<p>If you see &#8220;SSH Key Agent&#8221;, uncheck the box and reboot. After you log back in, your ssh connections should work normally.</p>
<p>If you do not see &#8220;SSH Key Agent&#8221;, you are reading this before the update has been released for your version of Ubuntu. You will first have to update your system to install pre-release updates. To do this, open up Unity&#8217;s dash, search for &#8220;software&#8221;, and select &#8220;Software &#038; Updates&#8221;. Select the &#8220;Updates&#8221; tab. Enable the &#8220;Pre-released updates&#8221; option, provide your user password if requested, and click the &#8220;Close&#8221; button. If a dialog pops up saying &#8220;the information about available software is out-of-date&#8221;, click the &#8220;Reload&#8221; button and wait for the update to finish. Open up Unity&#8217;s dash, search for &#8220;software&#8221; again, and select &#8220;Software Updater&#8221;. Confirm any dialogs and provide your password if requested. This will install the updates that you just made available. After this is done, reboot your system.</p>
<p>After the reboot, open Unity&#8217;s dash, search for &#8220;startup&#8221; and select &#8220;Startup Applications&#8221;. Uncheck the option for &#8220;SSH Key Agent&#8221; and reboot. After you log back in, your ssh connections should work normally.</p>
<p>Note: Details about this bug and the update allowing for disabling the &#8220;SSH Key Agent&#8221; can be found in <a href="https://bugs.launchpad.net/ubuntu/+source/gnome-keyring/+bug/1387303">Bug #1387303</a> in Ubuntu&#8217;s bug tracker.</p>
<h2>Fixing other sources of agent failure</h2>
<p>If using <code>SSH_AUTH_SOCK=0</code> in front of the ssh command does not fix your issue, your system could either not have an SSH agent available that provides the keys to the ssh process or the agent is not loaded with your keys.</p>
<p>The most simple thing to check is if running <code>ssh-add</code> can fix the issue. For example:</p>
<pre class="terminal notranslate"><span class="regular-prompt">[<span class="user">chris@work</span> <span class="path">~</span>]$</span> <span class="user-input">ssh-add</span>
Identity added: /home/chris/.ssh/id_rsa (/home/chris/.ssh/id_rsa)
<span class="regular-prompt">[<span class="user">chris@work</span> <span class="path">~</span>]$</span> <span class="user-input"></span></pre>
<p>This means that your SSH agent was running, but it did not have your keys loaded. After this, see if you are now able to login successfully.</p>
<p>Another possibility is the following:</p>
<pre class="terminal notranslate"><span class="regular-prompt">[<span class="user">chris@work</span> <span class="path">~</span>]$</span> <span class="user-input">ssh-add</span>
Could not open a connection to your authentication agent.
<span class="regular-prompt">[<span class="user">chris@work</span> <span class="path">~</span>]$</span> <span class="user-input"></span></pre>
<p>This means that you do not have an SSH agent running. To fix this, do the following:</p>
<pre class="terminal notranslate"><span class="regular-prompt">[<span class="user">chris@work</span> <span class="path">~</span>]$</span> <span class="user-input">eval "$(ssh-agent -s)"</span>
Agent pid 9267
<span class="regular-prompt">[<span class="user">chris@work</span> <span class="path">~</span>]$</span> <span class="user-input">ssh-add</span>
Identity added: /home/chris/.ssh/id_rsa (/home/chris/.ssh/id_rsa)
<span class="regular-prompt">[<span class="user">chris@work</span> <span class="path">~</span>]$</span> <span class="user-input"></span></pre>
<p>After this, you should be able to ssh into servers that you have valid keys for.</p>
<p>If you see the following:</p>
<pre class="terminal notranslate"><span class="regular-prompt">[<span class="user">chris@work</span> <span class="path">~</span>]$</span> <span class="user-input">ssh server</span>
Permission denied (publickey).
<span class="regular-prompt">[<span class="user">chris@work</span> <span class="path">~</span>]$</span> <span class="user-input"></span></pre>
<p>This means that your keys have loaded, but your keys are not authorized to access the server.</p>
				</div>
				
				<div class="meta-bottom clearfix">
					<div class="alignleft"><span class="categories">Categories <a href="https://chrisjean.com/category/linux/" rel="category tag">Linux</a>, <a href="https://chrisjean.com/category/tips-n-tricks/" rel="category tag">Tips 'n Tricks</a></span><br />
					<span class="comments">Comments <a href="https://chrisjean.com/ubuntu-ssh-fix-for-agent-admitted-failure-to-sign-using-the-key/#comments">(14)</a></span>					</div>
				</div>
			</div>
			
											
			<div class="post-2430 post type-post status-publish format-standard hentry category-linux category-tips-n-tricks">
				<div class="title clearfix">
					<div class="post-title">
						<h3 id="post-2430"><a href="https://chrisjean.com/restart-the-network-in-ubuntu-from-ssh/">Restart the Network in Ubuntu from SSH</a></h3>
					</div>
				</div>
				
				<div class="post-content">
					<p>I recently set up an IPv6 interface on a remote Ubuntu server. In order to finish this change, I needed to restart the interface. A while back, I would have used <code>sudo service networking restart</code>, but that doesn&#8217;t work very well any more:</p>
<pre class="terminal notranslate"><span class="regular-prompt">[<span class="user">chris@server</span> <span class="path">~</span>]$</span> <span class="user-input">sudo service networking restart</span>
stop: Job failed while stopping
start: Job is already running: networking
<span class="regular-prompt">[<span class="user">chris@server</span> <span class="path">~</span>]$</span> <span class="user-input"></span></pre>
<p>After doing some more reading, I found that restarting the networking service can have some bad side effects in Ubuntu, so they more or less prevented this from working. The correct way is to manually bring the interface that needs to be restarted down and back up.</p>
<p>The interface that I&#8217;m working with is named <code>eth0</code>. Your interface could be named <code>eth1</code>, <code>em1</code>, or many other names. So, when following my examples, make sure to replace <code>eth0</code> with the name of your interface.</p>
<p>If the <code>/etc/network/interfaces</code> file was updated when making your network changes, you can run the following to run a basic syntax check on the file. It won&#8217;t tell you if you made a mistake on the IP address or other configuration details specific to your network setup, but it can catch simple syntax errors.</p>
<pre class="terminal notranslate"><span class="regular-prompt">[<span class="user">chris@server</span> <span class="path">~</span>]$</span> <span class="user-input">sudo ifup -n eth0</span>
ifup: interface eth0 already configured
<span class="regular-prompt">[<span class="user">chris@server</span> <span class="path">~</span>]$</span> <span class="user-input"></span></pre>
<p>The <code>-n</code> tells <code>ifup</code> to not actually take any actions, thus allowing for a quick syntax check of the <code>/etc/network/interfaces</code> file. The &#8220;interface eth0 already configured&#8221; message indicates that no configuration issues were found. The following shows what happens when a configuration error was found.</p>
<pre class="terminal notranslate"><span class="regular-prompt">[<span class="user">chris@server</span> <span class="path">~</span>]$</span> <span class="user-input">sudo ifup -n eth0</span>
/etc/network/interfaces:20: unknown address type
ifup: couldn't read interfaces file "/etc/network/interfaces"
<span class="regular-prompt">[<span class="user">chris@server</span> <span class="path">~</span>]$</span> <span class="user-input"></span></pre>
<p>This indicates that a problem was found on line 20 of the configuration file. In this specific instance, I accidentally put &#8220;int6&#8221; instead of &#8220;inet6&#8221;.</p>
<p>Now that we know that the config file doesn&#8217;t have any syntax issues, the following one-liner takes the eth0 interface down and then back up:</p>
<pre class="terminal notranslate"><span class="regular-prompt">[<span class="user">chris@server</span> <span class="path">~</span>]$</span> <span class="user-input">sudo ifdown eth0 && sudo ifup eth0</span>
Waiting for DAD... Done
<span class="regular-prompt">[<span class="user">chris@server</span> <span class="path">~</span>]$</span> <span class="user-input"></span></pre>
<p>And with that, the interface now has the new config.</p>
				</div>
				
				<div class="meta-bottom clearfix">
					<div class="alignleft"><span class="categories">Categories <a href="https://chrisjean.com/category/linux/" rel="category tag">Linux</a>, <a href="https://chrisjean.com/category/tips-n-tricks/" rel="category tag">Tips 'n Tricks</a></span><br />
					<span class="comments">Comments <a href="https://chrisjean.com/restart-the-network-in-ubuntu-from-ssh/#respond">(0)</a></span>					</div>
				</div>
			</div>
			
											
			<div class="post-2425 post type-post status-publish format-standard hentry category-linux">
				<div class="title clearfix">
					<div class="post-title">
						<h3 id="post-2425"><a href="https://chrisjean.com/fix-for-usb-audio-is-too-loud-and-mutes-at-low-volume-in-ubuntu/">Fix for USB Audio is Too Loud and Mutes at Low Volume in Ubuntu</a></h3>
					</div>
				</div>
				
				<div class="post-content">
					<p>The audio port in one of my old motherboards starting putting out static in the right stereo channel. I decided to fix this by purchasing a cheap USB sound card and using it instead. The specific model that I purchased is by Sabrent and has a model number of AU-MMSA.</p>
<p>I plugged it into my system, opened Sound Settings, and chose &#8220;Audio Adapter Analog Stereo&#8221; from the device options. Sound then flooded my headphones with the volume being far too loud for comfortable listening. As I lowered the volume, the sound went from far too loud to completely silent when I moved from around 40% volume down to 35% volume. It was if somebody muted the volume.</p>
<p>After playing around with the settings for a while with no change in loudness or the sound cutting out at low volume, I dug in deeper. I found many different bug reports and suggested solutions to this issue, but only <a href="https://bbs.archlinux.org/viewtopic.php?pid=1004157#p1004157">this one</a> by user sen in the Arch Linux forums fixed both problems.</p>
<p>Unfortunately, the solution requires modifying a file as root, which can be a bit daunting, but I believe in you, so let&#8217;s modify that file.</p>
<p>First, open a terminal. This can be done by pulling up Ubuntu&#8217;s dash (clicking the Ubuntu icon at the top of the icon bar along the left of the screen), typing in &#8220;terminal&#8221; and clicking the enter key. Next, we need to edit the <code>/usr/share/pulseaudio/alsa-mixer/paths/analog-output.conf.common</code> file as root. This can be done by typing the following in the terminal and pressing enter:</p>
<pre class="terminal notranslate"><span class="regular-prompt">[<span class="user">chris@home</span> <span class="path">~</span>]$</span> <span class="user-input">gksu gedit /usr/share/pulseaudio/alsa-mixer/paths/analog-output.conf.common</span></pre>
<p>You will then be prompted for your user password. Type it in and press enter.</p>
<p>A file editor will open up with the file loaded. Search for the text &#8220;Element PCM&#8221;. You should see the following text:</p>
<pre class="config">[Element PCM]
switch = mute
volume = merge
override-map.1 = all 
override-map.2 = all-left,all-right</pre>
<p>Update this section of text to look like the following (changes are in bold):</p>
<pre class="config">[Element PCM]
switch = mute
volume = ignore
volume-limit = 0.01
override-map.1 = all 
override-map.2 = all-left,all-right</pre>
<p>Note that the value <code>0.01</code> can be adjusted as needed to change how quiet and loud the volume is. Making the number smaller reduces the max volume while making the number larger increases the max volume. I tested out <code>0.05</code> and found that the max volume was much louder than I would ever use. I also decided that <code>0.01</code> was technically louder than I&#8217;d ever use. I ended up with a value of <code>0.0075</code> (<code>0.005</code> was too quiet) which I felt gave a good maximum volume and resulted in better overall control over the volume range.</p>
<p>Once you have saved the changes to the file, a couple things still need to be done in order to have this change go into effect.</p>
<p>Inside your terminal window (it should be behind the text editor), run the following command:</p>
<pre class="terminal notranslate"><span class="regular-prompt">[<span class="user">chris@home</span> <span class="path">~</span>]$</span> <span class="user-input">pulseaudio -k</span></pre>
<p>This will force the audio system in Ubuntu to reload. If you had any application that was playing audio, it will go silent at this point. Any application that is now silent will have to be closed and reopened.</p>
<p>You can now test out the change to see if you need to adjust the number down or up to make the volume to your liking. Remember to save the file and run <code>pulseaudio -k</code> each time you change the number.</p>
<h2>What Didn&#8217;t Work</h2>
<p>I found a number of guides that recommended that the <code>/etc/pulse/default.pa</code> file be modified and have the following lines added:</p>
<pre class="config">load-module module-alsa-sink control=PCM
load-module module-udev-detect ignore_dB=1</pre>
<p>Neither of these worked for me. The first config change had no effect. The second config change did fix the issue with the sound muting at low volumes, but the volume was still far too loud with just 1% volume being what I consider to be an 80-90% volume level.</p>
<h2>Technical Details</h2>
<p>For those that are interested in the technical details of this USB device, the following information is for you.</p>
<h3><code>lsusb</code></h3>
<p>Full verbose details (<code>lsusb -vvvv</code>) can be found <a href="https://chrisjean.com/files/sabrent-usb-audio-lsusb-vvvv.txt">here</a>. These are the basics:</p>
<pre class="config">Bus 005 Device 002: ID 0d8c:000c C-Media Electronics, Inc. Audio Adapter
Device Descriptor:
  idVendor           0x0d8c C-Media Electronics, Inc.
  idProduct          0x000c Audio Adapter
  iProduct                1 C-Media USB Headphone Set</pre>
<h3><code>aplay -l</code></h3>
<pre class="config">**** List of PLAYBACK Hardware Devices ****
card 2: Set [C-Media USB Headphone Set], device 0: USB Audio [USB Audio]
  Subdevices: 0/1
  Subdevice #0: subdevice #0</pre>
<h3><code>alsa-info.sh</code></h3>
<p><a href="https://chrisjean.com/files/sabrent-usb-audio-alsa-info.txt">Full details</a>.</p>
				</div>
				
				<div class="meta-bottom clearfix">
					<div class="alignleft"><span class="categories">Categories <a href="https://chrisjean.com/category/linux/" rel="category tag">Linux</a></span><br />
					<span class="comments">Comments <a href="https://chrisjean.com/fix-for-usb-audio-is-too-loud-and-mutes-at-low-volume-in-ubuntu/#comments">(12)</a></span>					</div>
				</div>
			</div>
			
											
			<div class="post-2420 post type-post status-publish format-standard hentry category-linux">
				<div class="title clearfix">
					<div class="post-title">
						<h3 id="post-2420"><a href="https://chrisjean.com/fix-apt-get-update-the-following-signatures-couldnt-be-verified-because-the-public-key-is-not-available/">Fix apt-get update &#8220;the following signatures couldn&#8217;t be verified because the public key is not available&#8221;</a></h3>
					</div>
				</div>
				
				<div class="post-content">
					<p>There are times when running <code>apt-get update</code> in Ubuntu will result in error messages such as the following:</p>
<pre class="terminal notranslate"><span class="regular-prompt">[<span class="user">chris@server</span> <span class="path">~</span>]$</span> <span class="user-input">sudo apt-get update</span>
Ign http://security.ubuntu.com trusty-security InRelease
Get:1 http://security.ubuntu.com trusty-security Release.gpg [933 B]
...
Fetched 21.9 MB in 14s (1,537 kB/s)
Reading package lists... Done
W: GPG error: http://security.ubuntu.com trusty-security Release: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 40976EAF437D05B5 NO_PUBKEY 3B4FE6ACC0B21F32
W: GPG error: http://archive.canonical.com trusty Release: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 40976EAF437D05B5 NO_PUBKEY 3B4FE6ACC0B21F32
W: GPG error: http://archive.ubuntu.com trusty Release: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 40976EAF437D05B5 NO_PUBKEY 3B4FE6ACC0B21F32
W: GPG error: http://archive.ubuntu.com trusty-updates Release: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 40976EAF437D05B5 NO_PUBKEY 3B4FE6ACC0B21F32
<span class="regular-prompt">[<span class="user">chris@server</span> <span class="path">~</span>]$</span> <span class="user-input"></span></pre>
<p>If these errors aren&#8217;t fixed, apt will have problems when installing or upgrading packages. For example:</p>
<pre class="terminal notranslate"><span class="regular-prompt">[<span class="user">chris@server</span> <span class="path">~</span>]$</span> <span class="user-input">sudo apt-get upgrade</span>
Reading package lists... Done
Building dependency tree... Done
Calculating upgrade... Done
...
E: Some packages could not be authenticated
<span class="regular-prompt">[<span class="user">chris@server</span> <span class="path">~</span>]$</span> <span class="user-input"></span></pre>
<p>The apt packaging system has a set of trusted keys that determine whether a package can be authenticated and therefore trusted to be installed on the system. Sometimes the system does not have all the keys it needs and runs into this issue. Fortunately, there is a quick fix. Each key that is listed as missing needs to be added to the apt key manager so that it can authenticate the packages.</p>
<p>Looking at the error above, apt is telling us that the following keys are missing: <code>40976EAF437D05B5</code> and <code>3B4FE6ACC0B21F32</code>. Notice that these are listed multiple times. Each unique key will only need to be added once.</p>
<p>To add these keys, run the following commands:</p>
<pre class="terminal notranslate"><span class="regular-prompt">[<span class="user">chris@server</span> <span class="path">~</span>]$</span> <span class="user-input">sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 40976EAF437D05B5</span>
Executing: gpg --ignore-time-conflict --no-options --no-default-keyring --homedir /tmp/tmp.QTeppiINUh --no-auto-check-trustdb --trust-model always --keyring /etc/apt/trusted.gpg --primary-keyring /etc/apt/trusted.gpg --keyserver keyserver.ubuntu.com --recv-keys 40976EAF437D05B5
gpg: requesting key 437D05B5 from hkp server keyserver.ubuntu.com
gpg: key 437D05B5: public key "Ubuntu Archive Automatic Signing Key <ftpmaster@ubuntu.com>" imported
gpg: Total number processed: 1
gpg:               imported: 1
<span class="regular-prompt">[<span class="user">chris@server</span> <span class="path">~</span>]$</span> <span class="user-input">sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 3B4FE6ACC0B21F32</span>
Executing: gpg --ignore-time-conflict --no-options --no-default-keyring --homedir /tmp/tmp.77TqYGKU7b --no-auto-check-trustdb --trust-model always --keyring /etc/apt/trusted.gpg --primary-keyring /etc/apt/trusted.gpg --keyserver keyserver.ubuntu.com --recv-keys 3B4FE6ACC0B21F32
gpg: requesting key C0B21F32 from hkp server keyserver.ubuntu.com
gpg: key C0B21F32: public key "Ubuntu Archive Automatic Signing Key (2012) <ftpmaster@ubuntu.com>" imported
gpg: Total number processed: 1
gpg:               imported: 1  (RSA: 1)
<span class="regular-prompt">[<span class="user">chris@server</span> <span class="path">~</span>]$</span> <span class="user-input"></span></pre>
<p>If the keys that your system is missing differs, simply replace the key at the end of the above command with your key and run it.</p>
				</div>
				
				<div class="meta-bottom clearfix">
					<div class="alignleft"><span class="categories">Categories <a href="https://chrisjean.com/category/linux/" rel="category tag">Linux</a></span><br />
					<span class="comments">Comments <a href="https://chrisjean.com/fix-apt-get-update-the-following-signatures-couldnt-be-verified-because-the-public-key-is-not-available/#comments">(26)</a></span>					</div>
				</div>
			</div>
			
							
		<div class="paging clearfix">
			<div class="alignleft"></div>
			<div class="alignright"><a href="https://chrisjean.com/page/2/" >Next Page &raquo;</a></div>
		</div>
	
</div>
</div>

</div>
</div>
</div>

<div class="builder-module-background-wrapper builder-module-footer-background-wrapper builder-module-3-background-wrapper builder-module-footer-1-background-wrapper builder-module-bottom-background-wrapper builder-module-last-background-wrapper builder-module-footer-last-background-wrapper builder-module-after-content-background-wrapper default-module-style-background-wrapper" id="builder-module-4d2d3b2eb55c3-background-wrapper">
<div class="builder-module-outer-wrapper builder-module-footer-outer-wrapper builder-module-3-outer-wrapper builder-module-footer-1-outer-wrapper builder-module-bottom-outer-wrapper builder-module-last-outer-wrapper builder-module-footer-last-outer-wrapper builder-module-after-content-outer-wrapper default-module-style-outer-wrapper" id="builder-module-4d2d3b2eb55c3-outer-wrapper">
<div class="builder-module builder-module-footer builder-module-3 builder-module-footer-1 builder-module-bottom builder-module-last builder-module-footer-last builder-module-after-content default-module-style clearfix" id="builder-module-4d2d3b2eb55c3">
<div class="builder-module-block-outer-wrapper builder-module-element-outer-wrapper builder-module-column-1-outer-wrapper single clearfix">
<div class="builder-module-block builder-module-element builder-module-column-1 clearfix">
	<p>I believe that the free flow of information and ideas is key to the past and future development of mankind. Unless the content declares otherwise, the post content on this site is declared public domain (<a href="http://creativecommons.org/publicdomain/zero/1.0/">CC0 1.0 Universal</a>) and can be used in any manner with or without attribution or permission. Of course, if you wish to give attribution back to me, that would be very nice. :)</p>
	This site is running <a href="http://wordpress.org">WordPress</a> with the <a href="http://ithemes.com/purchase/builder-theme/" title="iThemes Builder">iThemes Builder</a> theme by <a href="http://ithemes.com/" title="iThemes WordPress Themes">iThemes</a>.	<script>hljs.initHighlightingOnLoad();</script>
	<script type='text/javascript' src='https://chrisjean.com/wp-content/themes/Builder/lib/builder-core/lib/responsive/js/jquery.fitvids-max-width-modification.js?ver=1.0'></script>
<script type='text/javascript' src='https://chrisjean.com/wp-content/themes/Builder/lib/builder-core/lib/responsive/js/init-fitvids.js?ver=1.0'></script>
<script type='text/javascript' src='https://chrisjean.com/wp-content/plugins/ithemes-security-pro/core/modules/wordpress-tweaks/js/blankshield/blankshield.min.js?ver=4087'></script>
<script type='text/javascript' src='https://chrisjean.com/wp-content/plugins/ithemes-security-pro/core/modules/wordpress-tweaks/js/block-tabnapping.js?ver=4087'></script>
<script type='text/javascript' src='https://chrisjean.com/wp-includes/js/wp-embed.min.js?ver=4.9.4'></script>

</div>
</div>

</div>
</div>
</div>


</div>
</div>
</div>


<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//chrisjean.com/stats/";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', 1]);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<noscript><p><img src="//chrisjean.com/stats/piwik.php?idsite=1" style="border:0;" alt="" /></p></noscript>

</body>
</html>