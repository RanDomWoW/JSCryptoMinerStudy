<!DOCTYPE HTML>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
    		<title>Tony Bai</title>							
														<meta name="keywords" content="" />
		<meta name="description" content="" />
		<meta name="viewport" content="initial-scale=1.0,user-scalable=no">
		<link rel="shortcut icon" href="https://tonybai.com/favicon.ico" type="image/x-icon" />
		<link rel="alternate" type="application/rss+xml" title="Tony Bai &raquo; Feed" href="https://tonybai.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Tony Bai &raquo; 评论 Feed" href="https://tonybai.com/comments/feed/" />

			<script type="text/javascript">//<![CDATA[
			// Google Analytics for WordPress by Yoast v4.2.8 | http://yoast.com/wordpress/google-analytics/
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-1218078-9']);
							_gaq.push(['_trackPageview']);
			(function () {
				var ga = document.createElement('script');
				ga.type = 'text/javascript';
				ga.async = true;
				ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
				var s = document.getElementsByTagName('script')[0];
				s.parentNode.insertBefore(ga, s);
			})();
			//]]></script>
			<link rel='stylesheet' id='wp-recentcomments-css'  href='https://tonybai.com/wp-content/plugins/wp-recentcomments/css/wp-recentcomments.css?ver=2.2.7' type='text/css' media='screen' />
<link rel='stylesheet' id='normalize-css'  href='https://tonybai.com/wp-content/themes/maupassant/css/normalize.css?ver=1.14' type='text/css' media='screen' />
<link rel='stylesheet' id='style-css'  href='https://tonybai.com/wp-content/themes/maupassant/style.css?ver=1.14' type='text/css' media='screen' />
<script type='text/javascript' src='https://tonybai.com/wp-includes/js/l10n.js?ver=20101110'></script>
<script type='text/javascript' src='https://cdn.bootcss.com/html5shiv/3.7.1/html5shiv.js?ver=3.7.1'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://tonybai.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://tonybai.com/wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='Tony Bai' href='https://tonybai.com/' />
<meta name="generator" content="WordPress 3.2.1" />

<!-- All in One SEO Pack 2.0.2 by Michael Torbert of Semper Fi Web Design[309,357] -->
<meta name="description" content="一个程序员的心路历程" />

<meta name="keywords" content="c,c++,java,python,golang,lisp,shell,bash,linux,unix,opensource,programmer,blog,博客,程序员,译者,IT,solaris,ubuntu,足球,梅西,巴萨,开源,果果,电影,旅游,读书,翻译,架构设计,知识管理,php,subversion,git,github,云计算,算法,数据结构,设计模式,敏捷,持续集成,家庭,生活,思想,感悟,vim,团队管理,构建,内核,lcut,cbehave,buildc" />

<link rel="canonical" href="http://tonybai.com" />
		<script type="text/javascript">

		  var _gaq = _gaq || [];
		  _gaq.push(['_setAccount', 'UA-1218078-9']);
		  _gaq.push(['_trackPageview']);
		  (function() {
		    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		  })();

		</script>
<!-- /all in one seo pack -->
	</head>
<body>
<header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                <a id="logo" href="https://tonybai.com">
                   Tony Bai                </a>
        	    <p class="description">一个程序员的心路历程</p>
            </div>
            <div>
                <div class="menu"><ul><li class="page_item page-item-13"><a href="https://tonybai.com/about/" title="关于我">关于我</a></li><li class="page_item page-item-1917"><a href="https://tonybai.com/articles/" title="文章列表">文章列表</a></li></ul></div>
            </div>
        </div>
    </div>
</header>
<div id="body">
    <div class="container">
        <div class="col-group">
<div class="col-8" id="main">
	<div class="res-cons">
					<article class="post">
				<h2 class="post-title">
					<a href="https://tonybai.com/2018/03/03/10th-issue-of-the-tech-weekly-carefully-chosen-by-tonybai/">TB一周萃选[第10期]</a>
				</h2>
				<ul class="post-meta">
					<li>三月 3, 2018</li>
					<li class="comment-count"><a href="https://tonybai.com/2018/03/03/10th-issue-of-the-tech-weekly-carefully-chosen-by-tonybai/#respond" title="《TB一周萃选[第10期]》上的评论">0 条评论</a></li>
				</ul>
				<div class="post-content">
					<p>本文是首发于<a href="https://mp.weixin.qq.com/mp/qrcode?scene=10000005&amp;size=102&amp;__biz=MzIyNzM0MDk0Mg==&amp;mid=2247483848&amp;idx=1&amp;sn=a3cd9182a2b2d3716623cc2c43d59f37&amp;send_time=" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://mp.weixin.qq.com']);">个人微信公众号</a>的文章<strong>“TB一周萃选[第10期]”</strong>的归档。</p>
<p><img src="https://tonybai.com/wp-content/uploads/weekly-issues/10th-issue/cover.jpg" alt="img{512x368}" /></p>
<blockquote>
<p>这个世界上最危险的毒药，就是成就感。而解药就是每晚都想一想，明天如何做得更好。 &#8211; 英格瓦坎普拉德，宜家创始人</p>
</blockquote>
<p>2018年元宵节已过，这个传统意义上的年就算真的过完了，我们的那颗有些闲散、有些懈怠的心需要收一收，是时候为2018年的“事业”做些规划，从2018的起跑线上起跑出去了。就连现在的孩子，在开学第一课时都要对自己的寒假生活做生动的回顾并且对新学期给予展望了。</p>
<p><img src="https://tonybai.com/wp-content/uploads/weekly-issues/10th-issue/2018-kaixue.jpg" alt="img{512x368}" /></p>
<p>春节假期匆忙且短暂，不过在这段时间里还是有很多值得关注的文章、资料、书籍以及项目的。</p>
<h2>一、一周文章精粹</h2>
<h3>1. Go官方提出新的包依赖管理工具：vgo</h3>
<p>就在上周，Go社区里发生了一件“大事”：Go大神Russ Cox一周内连发了<a href="https://research.swtch.com/vgo" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://research.swtch.com']);">七篇文章</a>，并宣布Go很可能在下一个版本：Go 1.11中加入可选的、“实验性”的新模型： vgo(versioned Go)，以试图解决长期以来Go被广泛诟病的包依赖管理问题。</p>
<p>Russ Cox在设计vgo时参考了当今比较流行的cargo、npm等工具，也从之前Go官方实验<a href="https://tonybai.com/tag/dep" >dep</a>中吸取了足够的实验结论，另辟蹊径，提出了很多很有创新的观点和方法，在社区里引起了广泛的关注和讨论。</p>
<p>vgo的一些主要设计考量如下：</p>
<ul>
<li>接受语义版本(semver)规则</li>
<li>使用semantic import versioning规则替代原有的import rule</li>
<li>引入module概念（go.mod)</li>
<li>使用minimal version selection(最小版本选择)，而不是业界事实标准的maximal version selected（最新版本选择）的方案；</li>
<li>去除vendor机制</li>
<li>去除GOPATH</li>
</ul>
<p>Russ Cox还提供了一个<a href="https://github.com/golang/vgo" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">vgo的初步实现</a>，供广大Gopher体验。</p>
<p>vgo的公开意味着Go team已经将包依赖管理问题列为高优先级待解决的问题，vgo虽然只是原型，其设计思路也可能不会全部进入到最终的解决方法中，但这毕竟迈出了坚实的一步。</p>
<p>文章链接：<a href="https://research.swtch.com/vgo" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://research.swtch.com']);">Go &amp; Verisioning</a></p>
<h3>2. Go官方2017用户调查结果</h3>
<p>本周Go官方在Blog上公布了2017用户调查结果，几个结论值得大家关注：</p>
<ul>
<li>越来越多用户在工作中正式使用Go (67%)</li>
<li>Web开发、系统编程、Devops、网络编程依旧是Go使用的主要领域，但在移动端、桌面端GUI编程的比例下滑明显</li>
<li>在API/RPC服务领域的使用占据榜首，CLI、WebService(返回html)排名2、3</li>
<li>包依赖管理以及缺少泛型依然是Gopher最希望Go team解决的两个问题</li>
<li>Linux、MacOS依然是Gopher主力开发平台</li>
<li><a href="https://tonybai.com/tag/vscode" >vscode</a>在Go编辑器市场份额升至No.1</li>
<li>最喜欢的关键字：go、defer、func、select和interface排名top5</li>
</ul>
<p>文章链接：<a href="https://blog.golang.org/survey2017-results" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://blog.golang.org']);">“Go 2017用户调查结果”</a></p>
<h3>3. 容器术语介绍入门</h3>
<p>著名开源公司Redhat近两年拥抱容器的态度十分坚决，近期来收购了coreos。近期Redhat在官博上发表了一篇文章，对容器领域的相关术语概念做了详尽的介绍，强烈推荐。</p>
<p>文章链接：<a href="https://developers.redhat.com/blog/2018/02/22/container-terminology-practical-introduction/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://developers.redhat.com']);">“容器术语介绍入门”</a></p>
<h3>4. Go语言实现的微服务系列</h3>
<p>Go语言已经被证明了是当前应用云化、面向微服务的服务端编程的头部语言之一。关于Go与Microservice的文章也有不少。Ewan Valentine的Go语言实现微服务系列（10篇）就是这类文章中难得的全面、细致讲述Go如何实现微服务应用的文章资料。在这一系列文章中，作者谈到的了mongodb, grpc, docker, Google Cloud, Kubernetes, NATS, CircleCI, Terraform、go-micro框架等诸多在编写、部署、运维微服务过程中所能用到的框架、协议、工具等。.</p>
<p>文章链接：<a href="https://ewanvalentine.io/microservices-in-golang-part-1/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://ewanvalentine.io']);">microservice in golang series</a></p>
<h3>5. Brian Ketelsen专访：Go取得快速增长的原因</h3>
<p><a href="https://github.com/bketelsen" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">Brian Ketelsen</a>是知名Gopher，GopherCon大会、GopherAcademy的联合发起人、《Go in action》一书的联合作者。在Microsoft对其的一篇专访中，Brian Ketelsen谈了对Go语言这些年取得快速成长的看法。</p>
<p>文章链接：<a href="https://open.microsoft.com/2018/02/21/go-lang-brian-ketelsen-explains-fast-growth/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://open.microsoft.com']);">Brian Ketelsen专访：Go取得快速增长的原因</a></p>
<h3>6. 在Linux上使用Go作为脚本语言</h3>
<p>Cloudflare公司的很多产品采用的是Go技术栈，公司内部支撑系统亦是。Go的简单特质以及Go tools的使用模式让Go十分适合在Linux系统上被当做“脚本语言”使用（结合shebang行），它的强类型特性又是真正的脚本语言所不具备的。cloudflare的这篇文章讲解了该公司使用go作为脚本语言在Linux上的实践方法，值得借鉴。</p>
<p>文章链接：<a href="https://blog.cloudflare.com/using-go-as-a-scripting-language-in-linux/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://blog.cloudflare.com']);">《在Linux使用Go作为脚本语言》</a></p>
<h2>二、一周资料分享</h2>
<h3>1. Google机器学习速成教程</h3>
<p><img src="https://tonybai.com/wp-content/uploads/weekly-issues/10th-issue/google-machine-learning-crash-course.png" alt="img{512x368}" /></p>
<p>Google公司本周正式推出面向普通开发者、机器学习爱好者的机器学习速成教程资料。粗略浏览了一遍，感觉该教程是目前传统程序员向机器学习、AI领域转型的最优秀资料之一。教程提供了教程中实验的全部资料和实验环境，并给出了前提条件中给出了预备知识的学习教程，包括数学知识、Python编程等。更为可贵的是该教程提供完整的中文版，国内程序员学习起来曲线也降低了不少。唯一不便的可能就是需要<strong>科学上网</strong>才能打开教程。</p>
<p>资料分享链接：<a href="https://developers.google.com/machine-learning/crash-course/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://developers.google.com']);">“Google机器学习速成教程”</a></p>
<h2>三、一周项目推荐</h2>
<h3>1. vitess</h3>
<p><img src="https://tonybai.com/wp-content/uploads/weekly-issues/10th-issue/vitess-architecture.png" alt="img{512x368}" /></p>
<p>之所以推荐vitess这个项目，是因为它在不久前成为了<a href="https://www.cncf.io" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.cncf.io']);">CNCF基金会</a>的<a href="https://www.cncf.io/blog/2018/02/05/cncf-host-vitess/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.cncf.io']);">第16个孵化级别项目</a>，并且是cncf第二个存储项目。Vitess最初是作为YouTube的一个内部解决方案来处理大量存储的扩展，它是一个数据库编排系统，通过广义分片来对MySQL进行水平缩放。通过封装分片路由逻辑，Vitess允许应用程序代码和数据库查询对于将数据分布到多个分片上保持不变。借助Vitess，组织甚至可以根据需求的增长来分割和合并碎片，原子切割步骤只需要几秒钟。</p>
<p>同时该项目还是<a href="https://tonybai.com/tag/go" >Go语言</a>的早期“尝鲜者”：在2011年就开始使用Go语言开发了。随着vitess用户的增多（包括slack、flipkart等），vitess似乎又进入一个黄金开发的阶段，将较为成熟的、业界广为使用的数据库分片技术继续延续和优化下去，并且vitess与容器、<a href="https://vitess.io/getting-started/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://vitess.io']);">kubernetes的结合使用</a>也日益成熟，为云原生应用在k8s上提供一个可扩展的存储层。</p>
<p>项目链接：<a href="https://vitess.io/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://vitess.io']);">“vitess”</a></p>
<h2>四、一周图书推荐</h2>
<h3>1.《Master Ethereum》</h3>
<p><img src="https://tonybai.com/wp-content/uploads/weekly-issues/10th-issue/book-master-ethereum.jpg" alt="img{512x368}" /></p>
<p>随着2017年<a href="https://www.bitcoin.com/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.bitcoin.com']);">比特币</a>市场的异常繁荣，2018的<a href="https://en.wikipedia.org/wiki/Blockchain" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://en.wikipedia.org']);">区块链技术</a>有迎来爆发的趋势。作为第二代区块链技术代表的<a href="https://en.wikipedia.org/wiki/Ethereum" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://en.wikipedia.org']);">以太坊</a>(Ethereum)，它试图实现一个总体上完全无需信任基础的<a href="https://en.wikipedia.org/wiki/Smart_contract" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://en.wikipedia.org']);">智能合约</a>平台和庞大的生态圈，受到了区块链业界最为广泛的关注，有关以太坊的技术书籍亦是如此。</p>
<p>《Master Ethereum》，中文名可译为“精通以太坊”，这是一本尚未完成的书，但在编写的过程中就受到了广泛的关注。除了是因为大家对以太坊技术关注之外，该书在github的开源也是其吸引眼球的重要原因。该书的两位作者是bitcoin专家，本书的目标是为开发者提供有关以太坊概念、使用、智能合约(smart contract)、经典以太坊网络、以太坊标准等全面的内容。</p>
<p>图书链接：<a href="https://github.com/ethereumbook/ethereumbook" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">《Master Ethereum》</a></p>
<hr />
<p>著名云主机服务厂商DigitalOcean发布最新的主机计划，入门级Droplet配置升级为：1 core CPU、1G内存、25G高速SSD，价格5$/月。有使用DigitalOcean需求的朋友，可以打开这个<a href="https://m.do.co/c/bff6eed92687" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://m.do.co']);">链接地址</a>：https://m.do.co/c/bff6eed92687 开启你的DO主机之路。</p>
<p>我的联系方式：</p>
<p>微博：https://weibo.com/bigwhite20xx<br />
微信公众号：iamtonybai<br />
博客：tonybai.com<br />
github: https://github.com/bigwhite</p>
<p>微信赞赏：<br />
<img src="https://tonybai.com/wp-content/uploads/wechat-zanshang-code-512x512.jpg" alt="img{512x368}" /></p>
<p>商务合作方式：撰稿、出书、培训、在线课程、合伙创业、咨询、广告合作。</p>
				</div>
			</article>
					<article class="post">
				<h2 class="post-title">
					<a href="https://tonybai.com/2018/02/17/some-changes-in-go-1-10/">Go 1.10中值得关注的几个变化</a>
				</h2>
				<ul class="post-meta">
					<li>二月 17, 2018</li>
					<li class="comment-count"><a href="https://tonybai.com/2018/02/17/some-changes-in-go-1-10/#comments" title="《Go 1.10中值得关注的几个变化》上的评论">3 条评论</a></li>
				</ul>
				<div class="post-content">
					<p>又到了Go语言新版本的发布时间窗口了！这次的主角是<a href="https://tip.golang.org/doc/go1.10" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://tip.golang.org']);">Go 1.10</a>。</p>
<p><img src="http://tonybai.com/wp-content/uploads/go-1.10-release.png" alt="img{512x368}" /></p>
<p>曾几何时， 这是很多Gopher在<a href="http://tonybai.com/2017/02/03/some-changes-in-go-1-8/" >Go 1.8</a>、<a href="http://tonybai.com/2017/07/14/some-changes-in-go-1-9/" >Go 1.9</a>时猜测是否存在的那个版本，毕竟minor version即将进化到两位数。从Go语言第一封设计mail发出到现在的<a href="http://tonybai.com/2017/09/24/go-ten-years-and-climbing/" >十年间</a>，尤其是Go语言经历了近几年的爆发式增长，基本奠定了云原生第一语言的位置之后，人们对Go语言有了更多新的、更为深刻的认知，同时对这门编程语言也有了更多的改进和优化的期望。Go2在Gopher心中的位置日益提升，直到<a href="https://swtch.com/~rsc/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://swtch.com']);">Russ Cox</a>在<a href="https://github.com/gophercon/2017-talks" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">GopherCon 2017</a>上公布了Go core team对<a href="https://blog.golang.org/toward-go2" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://blog.golang.org']);">Go2的开发策略</a>，我们才意识到：<strong>哦，Go1还将继续一段时间，甚至是一段很长的时间。2018年2月，我们将迎来Go 1.10版本</strong>。</p>
<p>从<a href="http://tonybai.com/2014/11/04/some-changes-in-go-1-4/" >Go 1.4版本</a>开始，我自己都没想到我能将<strong>“Go x.x中值得关注的几个变化”</strong>这个系列一直写到Go 1.10。不过现在看来，这个系列还会继续，以后可能还有Go 1.11、Go 1.12&#8230;，甚至是进化到Go2之后的各个版本。</p>
<p>Go从<a href="https://blog.golang.org/go-version-1-is-released" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://blog.golang.org']);">1.0版本发布</a>之日起，便遵守着自己<strong>“变与不变”</strong>的哲学。不变的是对Go对<a href="https://tip.golang.org/doc/go1compat.html" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://tip.golang.org']);">“Go1 promise of compatibility”</a>的严格遵守，变化的则是对语言性能、运行时、GC、工具以及标准库更为精细和耐心地打磨。这次发布的Go 1.10依然延续着这种理念，将重点的改进放在了运行时、工具以及标准库上。接下来，我就和大家一起看看即将发布的Go 1.10都有哪些值得重点关注的变化。</p>
<h2>一、语言</h2>
<p><a href="https://golang.org/ref/spec" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://golang.org']);">Go language Spec</a>是当前<a href="http://tonybai.com/tag/go" >Go语言</a>的唯一语言规范标准，虽然其严谨性与那些以ISO标准形式编写成的语言规范（比如：C语言、C++语言的规范）还有一定差距。因此，对go spec的优化，就是在严谨性方面下功夫。当前spec的主要修订者是Go语言三个设计者之一的<a href="https://github.com/griesemer" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">Robert Griesemer</a>，他在Go 1.10周期对spec<strong>做了较多语言概念严谨性方面的改进</strong>。</p>
<h3>1、显式定义Representability（可表示性）</h3>
<p>在<a href="https://tip.golang.org/ref/spec#Properties_of_types_and_values" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://tip.golang.org']);">Properties of types and values</a>章节下，Robert Griesemer显式引入了一个新的术语<a href="https://tip.golang.org/ref/spec#Representability" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://tip.golang.org']);">Representability</a>，这里译为<strong>可表示性</strong>。这一术语的<a href="https://github.com/golang/go/commit/b40831b115e46e9de719bddccf2d27d7d4940756#diff-94792ed6b8d17736ee79af0ca532d6fe" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">引入</a>并未带来语法的变化，只是为了更精确的阐释规范。Representability的定义明确了当规范中出现“a constant x is representable by a value of type T”时成立的几种条件，尤其是针对浮点类型和复数类型。这里摘录（不翻译）：</p>
<pre><code>A constant x is representable by a value of type T if one of the following conditions applies:

- x is in the set of values determined by T.
- T is a floating-point type and x can be rounded to T's precision without overflow. Rounding uses IEEE 754 round-to-even rules but with an IEEE negative zero further simplified to an unsigned zero. Note that constant values never result in an IEEE negative zero, NaN, or infinity.
- T is a complex type, and x's components real(x) and imag(x) are representable by values of T's component type (float32 or float64).
</code></pre>
<h3>2、澄清未指定类型的常量作为shift(移位)非常量位操作的左操作数时在某些特定上下文中的类型</h3>
<p>虽然不及ISO标准规范严谨，但凡是language spec，理解起来都是有门槛的。这个<a href="https://github.com/golang/go/commit/9690d245d56d547c40dac269140dcddc6eb80904#diff-94792ed6b8d17736ee79af0ca532d6fe" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">改进针对的是那些未指定类型的常量</a>，在作为shift非常量位操作的左操作数时，在shift表达式结果作为下标表达式中的下标、切片表达式下标或者make函数调用中的size参数时，这个常量将被赋予int类型。我们还是看个例子更加直观：</p>
<pre><code>// go1.10-examples/spec/untypedconst.go
package main

var (
    s uint = 2
)

func main() {
    a := make([]int, 10)
    a[1.0&lt;&lt;s] = 4
}

</code></pre>
<p>上面的例子中，重点看<strong>a[1.0 &lt;&lt; s] = 4</strong>这一行，这一行恰好满足了几个条件：</p>
<ul>
<li>1.0 &lt;&lt; s 是一个shift表达式，且作为slide表达式的下标；</li>
<li>shift表达式所移动的位数为s，s是一个变量，非常量，因此这是一个非常量位的移位操作；</li>
<li>1.0是未指定类型的常量(untyped const)，且作为shift表达式左操作数</li>
</ul>
<p>在Go 1.9.2下面，上面的程序编译结果如下：</p>
<pre><code>// go 1.9.2编译器build：

$go build untypedconst.go
# command-line-arguments
./untypedconst.go:9:7: invalid operation: 1 &lt;&lt; s (shift of type float64)
</code></pre>
<p>在Go 1.9.2下，1.0这个常量被compiler赋予了float64类型，导致编译出错。在Go 1.10下，根据最新的spec，1.0被赋予了int型，编译则顺利通过。</p>
<p>但一旦脱离了下标这个上下文环境，1.0这个常量依旧会被compiler识别为float64类型，比如下面代码中1.0&lt;&lt;s作为Println的参数就是不符合语法的：</p>
<pre><code>// go1.10-examples/spec/untypedconst.go
package main

import "fmt"

var (
    s uint = 2
)

func main() {
    a := make([]int, 10)
    a[1.0&lt;&lt;s] = 4
    fmt.Println(1.0&lt;&lt;s)
}

// go 1.10rc2编译器build：
 $go build untypedconst.go
# command-line-arguments
./untypedconst.go:12:17: invalid operation: 1 &lt;&lt; s (shift of type float64)
./untypedconst.go:12:17: cannot use 1 &lt;&lt; s as type interface {} in argument to fmt.Println
</code></pre>
<h3>3、明确预声明类型(predeclared type)是defined type还是alias type</h3>
<p>Go在<a href="http://tonybai.com/2017/07/14/some-changes-in-go-1-9/" >1.9版本</a>中引入了alias语法，同时引入defined type(以替代named type)和alias type，并使用alias语法对某些predeclared type的实现进行了调整。在Go 1.10 spec中，Griesemer进一步<a href="https://github.com/golang/go/commit/4a2391e7c965f7ed4d1ec189087293c1f6bae43c#diff-94792ed6b8d17736ee79af0ca532d6fe" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">明确了哪些predeclared type是alias type</a>：</p>
<pre><code>目前内置的predeclared type只有两个类型是alias type:

byte        alias for uint8
rune        alias for int32
</code></pre>
<p>其余的predeclared type都是defined type。</p>
<h3>4、移除spec中对method expression: T.m中T的类型的限制</h3>
<p>这次是spec落伍于compiler了。Go 1.9.2就可以顺利编译运行下面的代码：</p>
<pre><code>//go1.10-examples/spec/methodexpression.go
package main

import "fmt"

type foo struct{}
func (foo)f() {
    fmt.Println("i am foo")
}

func main() {
    interface{f()}.f(foo{})
}

</code></pre>
<p>但在Go 1.9.2的spec中，对Method expression的定义如下：</p>
<pre><code>Go 1.9.2 spec:

MethodExpr    = ReceiverType "." MethodName .
ReceiverType  = TypeName | "(" "*" TypeName ")" | "(" ReceiverType ")" .
</code></pre>
<p>Go 1.9.2的spec说，method expression形式:T.m中的T仅能使用Typename，而非上述代码中type实现。Go 1.10的spec中<a href="https://github.com/golang/go/commit/f2d52519e1fad35566afb46ef521934cf0f5e5fd#diff-94792ed6b8d17736ee79af0ca532d6fe" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">放开了对method expression中T的限制</a>，使得type的实现也可以作为T调用method，与编译器的实际实现行为同步：</p>
<pre><code>Go 1.10rc2 spec:

MethodExpr    = ReceiverType "." MethodName .
ReceiverType  = Type .
</code></pre>
<p>不过目前Go 1.10 rc2 compiler还存在<a href="https://github.com/golang/go/issues/22444" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">一个问题</a>，我们看一下下面的代码：</p>
<pre><code>//go1.10-examples/spec/methodexpression1.go
package main

func main() {
    (*struct{ error }).Error(nil)
}
</code></pre>
<p>使用Go 110rc2构建该源码，得到如下错误：</p>
<pre><code>$go build methodexpression1.go
# command-line-arguments
go.(*struct { error }).Error: call to external function
main.main: relocation target go.(*struct { error }).Error not defined
main.main: undefined: "go.(*struct { error }).Error"
</code></pre>
<p>该问题目前已经有<a href="https://github.com/golang/go/issues/22444" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">issue</a>对应，状态还是Open。</p>
<h2>二、工具</h2>
<p>Go语言有着让其他主流编程语言羡慕的工具集，每次Go版本更新，工具集都会得到进一步的加强，无论是功能还是从开发者体验方面，都有提升。</p>
<h3>1、默认的GOROOT</h3>
<p>继<a href="http://tonybai.com/2017/02/03/some-changes-in-go-1-8/" >Go 1.8版本</a>引入默认的GOPATH后，Go 1.10版本为继续改进Go工具的开发者体验，进一步降低新手的使用门槛，引入了默认GOROOT：即开发者无需显式设置GOROOT环境变量，go程序会自动根据自己所在路径推导出GOROOT的路径。这样一来，Gopher们就可以将下载的Go预编译好的安装包解压放置到任意本地路径下，唯一要做的就是将go二进制程序路径放置到PATH环境变量中。比如我们将go1.10rc2的安装包解压到下面路径下：</p>
<pre><code>➜  /Users/tony/.bin/go1.10rc2 $ls
AUTHORS            LICENSE            VERSION            blog/            lib/            robots.txt
CONTRIBUTING.md        PATENTS            api/            doc/            misc/            src/
CONTRIBUTORS        README.md        bin/            favicon.ico        pkg/            test/
</code></pre>
<p>在设置为PATH后，我们通过go env命令查看go自动推导的GOROOT以及其他相关变量的值：</p>
<pre><code>$go env
GOARCH="amd64"
GOBIN=""
GOCACHE="/Users/tony/Library/Caches/go-build"
GOEXE=""
GOHOSTARCH="amd64"
GOHOSTOS="darwin"
GOOS="darwin"
GOPATH="/Users/tony/go"
GORACE=""
GOROOT="/Users/tony/.bin/go1.10rc2"
GOTMPDIR=""
GOTOOLDIR="/Users/tony/.bin/go1.10rc2/pkg/tool/darwin_amd64"
GCCGO="gccgo"
CC="clang"
CXX="clang++"
CGO_ENABLED="1"
CGO_CFLAGS="-g -O2"
CGO_CPPFLAGS=""
CGO_CXXFLAGS="-g -O2"
CGO_FFLAGS="-g -O2"
CGO_LDFLAGS="-g -O2"
PKG_CONFIG="pkg-config"
GOGCCFLAGS="-fPIC -m64 -pthread -fno-caret-diagnostics -Qunused-arguments -fmessage-length=0 -gno-record-gcc-switches -fno-common"
</code></pre>
<p>从输出结果看到，go正确找到了安装路径，并得到了GOROOT信息。</p>
<h3>2、增加GOTMPDIR变量</h3>
<p>在上面的go env命令输出内容中，我们发现了一个陌生的变量：GOTMPDIR，其值默认为空串。这个<a href="https://go-review.googlesource.com/c/go/+/75475" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://go-review.googlesource.com']);">GOTMPDIR变量</a>是Go 1.10新引入的变量，用于设置Go tool创建和使用的临时文件的路径的。有人可能会说：这个变量看似没什么必要，直接用系统的/tmp路径就好了啊。但是在/tmp路径中编译和执行编译后的程序至少有两点问题，<a href="https://github.com/golang/go/issues/8451" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">这些问题</a>实际上在go的issues历史中已经存在许久了：</p>
<ul>
<li>有些机器上/tmp路径下被设置了<a href="https://github.com/golang/go/issues/8451" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">无执行权限(set noexec)</a></li>
<li>有些机器上/tmp下空间有限</li>
</ul>
<p>我们知道默认情况下，go build和go run都会在/tmp下设置一个临时WORK目录来编译源码和执行编译后的程序的，从下面的一个最简单的helloworld源码的编译执行过程输出(WORK变量)，我们就能看到这点：</p>
<pre><code>// on ubuntu 16.04

# go run -x hello.go
WORK=/tmp/go-build001434392
mkdir -p $WORK/b001/
... ...
mkdir -p $WORK/b001/exe/
cd .
/root/.bin/go1.10rc2/pkg/tool/linux_amd64/link -o $WORK/b001/exe/hello -importcfg $WORK/b001/importcfg.link -s -w -buildmode=exe -buildid=fcYMWp_1J2Xqgzc_Vdga/UpnEUti07R2GzG8dUU3x/MLkSlJVesZhf2kQUaDUU/fcYMWp_1J2Xqgzc_Vdga -extld=gcc /root/.cache/go-build/9f/9f34be2dbcc3f8a62dd6efd6d35be18ecdcbc49e3c8b52b003ecd72b6264e19e-d
$WORK/b001/exe/hello
</code></pre>
<p>我个人就遇到过由于IaaS供应商提供的系统盘（不允许定制和修改）过小，导致系统盘空间满，使得Go应用构建和执行失败的问题。我们来设置一下GOTMPDIR，看看效果。我们将GOTMPDIR设置为~/.gotmp，生效后，重新build上面的那个helloworld代码：</p>
<pre><code># go build -x hello.go
WORK=/root/.gotmp/go-build452283009
mkdir -p $WORK/b001/
cat &gt;$WORK/b001/importcfg &lt;&lt; 'EOF' # internal
... ...
mkdir -p $WORK/b001/exe/
cd .
/root/.bin/go1.10rc2/pkg/tool/linux_amd64/link -o $WORK/b001/exe/a.out -importcfg $WORK/b001/importcfg.link -buildmode=exe -buildid=kO-wBNzMZmfHCKzMDziw/jCGBCt7bcrS5NEN-cR4H/8-du6iTQz8uPH3UC-FtB/kO-wBNzMZmfHCKzMDziw -extld=gcc $WORK/b001/_pkg_.a
/root/.bin/go1.10rc2/pkg/tool/linux_amd64/buildid -w $WORK/b001/exe/a.out # internal
mv $WORK/b001/exe/a.out hello
rm -r $WORK/b001/
</code></pre>
<p>可以看到，go tool转移到我们设置的GOTMPDIR下构建和执行了。</p>
<h3>3、通过cache实现增量构建，提高go tools性能</h3>
<p>Go语言具有较高的编译性能是Go语言最初设计时就确定下来的目标，Go编译器的性能在<a href="http://tonybai.com/2014/11/04/some-changes-in-go-1-4/" >Go 1.4.3版本</a>达到顶峰，这虽然是得益于其使用C语言实现，但更重要的是其为高性能构建而定义的便于依赖分析的语言构建模型，同时避免了像C/C++那样的重复多次扫描大量头文件的负担。随着<a href="http://tonybai.com/2015/07/10/some-changes-in-go-1-5/" >Go自举的实现</a>，使用Go语言实现的go compiler性能有较大下降，但即便这样，其编译速度在主流编程语言中仍然是数一数二的。在经过了<a href="http://tonybai.com/2016/02/21/some-changes-in-go-1-6/" >Go 1.6</a>到<a href="http://tonybai.com/2017/07/14/some-changes-in-go-1-9/" >Go1.9</a>等多个版本对compiler的优化后，go compiler的编译速度已经<a href="https://dave.cheney.net/2016/11/19/go-1-8-toolchain-improvements" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://dave.cheney.net']);">恢复到Go 1.4.3 compiler的2/3左右</a>或是更为接近的水平。在<a href="http://tonybai.com/2017/07/14/some-changes-in-go-1-9/" >Go 1.9版本</a>引入并行编译后，Go team在提升工具性能方面的思路发生了些许变化：不再是一味地进行代码级的性能优化，而是选择通过Cache，重复利用中间结果，实现增量构建，来减少编译构建所用的时间。因此，笔者觉得这个功能是<strong>本次Go 1.10最大的变化之一</strong>。</p>
<h4>1) 概述</h4>
<p>Go 1.10版本以前，我们经常通过go build -i来加快Go项目源码的编译速度，其原因在于go build -i首次执行时会将目标所依赖的package安装到$GOPATH/pkg下面(.a文件)，这样后续执行go build时，构建过程将不会重新编译目标文件的依赖包，而是直接链接首次执行build -i时安装的依赖包，以实现加速编译！以gocmpp/examples/client为例，第二次构建所需时间仅为首次构建的四分之一左右：</p>
<pre><code>➜  $GOPATH/src/github.com/bigwhite/gocmpp/examples/client git:(master) ✗ $time go build -i client.go
go build -i client.go  1.34s user 0.34s system 131% cpu 1.274 total
➜  $GOPATH/src/github.com/bigwhite/gocmpp/examples/client git:(master) ✗ $time go build -i client.go
go build -i client.go  0.38s user 0.16s system 116% cpu 0.465 total
</code></pre>
<p>只有当目标文件的依赖包的源文件发生变化时（比对源文件的修改时间与.a文件的修改时间作为是否重新编译的判断依据），才会重新编译安装这些依赖包。这有些像<a href="http://tonybai.com/2011/05/19/use-command-line-vars-of-make/" >Makefile</a>的原理：make工具会比较targets文件和prerequisites文件的修改日期，如果prerequisites文件的日期要比targets文件的日期要新，或者target不存在的话，那么，make就会执行后续定义的命令。</p>
<p>不过即便这样，依然至少有两个问题困扰着Go team和广大Gopher：</p>
<ul>
<li>
<p>基于时间戳的比对，并不“合理”<br />
当某个目标文件的依赖包的源文件内容并未真正发生变化，但“修改时间”发生变化了，比如：添加了一行，保存了；然后又删除了这一行，保存。在这样的情况下，理想的操作是不需要重新编译安装这个依赖包，但目前的go build -i机制会<strong>重新编译并安装这个依赖包</strong>。</p>
</li>
<li>
<p><strong>增量构建</strong>并未实现“常态化”<br />
以前版本中，默认的不带命令行参数的go build命令是不会安装依赖包的，因此每次执行go build，都会重新编译一次依赖包的源码，并将结果放入临时目录以供最终链接使用。也就是说最为常用的go build并未实现增量编译，社区需要常态化的“增量编译”，进一步提高效率。</p>
</li>
</ul>
<p>Go 1.10引入cache机制来解决上述问题。从1.10版本开始，go build tool将维护一个package编译结果的缓存以及一些元数据，缓存默认位于操作系统指定的用户缓存目录中，其中数据用于后续构建重用；不仅go build支持“常态化”的增量构建，go test也支持在特定条件下缓存test结果，从而加快执行测试的速度。</p>
<h4>b) go build with cache</h4>
<p>我们先来直观的看看go 1.10 build带来的效果，初始情况cache为空：</p>
<p>以我的一个小项目gocmpp为例，用go 1.10第一次build该项目：</p>
<pre><code>➜  $GOPATH/src/github.com/bigwhite/gocmpp git:(master) ✗ $time go build
go build  1.22s user 0.43s system 175% cpu 0.939 total
</code></pre>
<p>我们再来构建一次：</p>
<pre><code>➜  $GOPATH/src/github.com/bigwhite/gocmpp git:(master) ✗ $time go build
go build  0.12s user 0.16s system 155% cpu 0.182 total
</code></pre>
<p>0.12s vs. 1.22s！通过cache进行的build将构建时间压缩为原来的1/10！为了弄清楚go build幕后行为，我们清除一下cache(go clean -cache)，再重新build，这次我们通过-v -x 输出详细构建过程：</p>
<p>首次编译的详细输出信息：</p>
<pre><code>➜  $GOPATH/src/github.com/bigwhite/gocmpp git:(master) ✗ $go build -x -v
WORK=/var/folders/2h/xr2tmnxx6qxc4w4w13m01fsh0000gn/T/go-build735203690
github.com/bigwhite/gocmpp/vendor/golang.org/x/text/encoding/internal/identifier
mkdir -p $WORK/b033/
cat &gt;$WORK/b033/importcfg &lt;&lt; 'EOF' # internal
# import config
EOF
cd $(GOPATH)/src/github.com/bigwhite/gocmpp/vendor/golang.org/x/text/encoding/internal/identifier
/Users/tony/.bin/go1.10rc2/pkg/tool/darwin_amd64/compile -o $WORK/b033/_pkg_.a -trimpath $WORK/b033 -p github.com/bigwhite/gocmpp/vendor/golang.org/x/text/encoding/internal/identifier -complete -buildid iZWJNg2FYmWoSCXb640o/iZWJNg2FYmWoSCXb640o -goversion go1.10rc2 -D "" -importcfg $WORK/b033/importcfg -pack -c=4 ./identifier.go ./mib.go
/Users/tony/.bin/go1.10rc2/pkg/tool/darwin_amd64/buildid -w $WORK/b033/_pkg_.a # internal
cp $WORK/b033/_pkg_.a /Users/tony/Library/Caches/go-build/14/14223040d851359359b0e531555a47e22f5dbd4bf434acc136a7c70c1fc3663f-d # internal
github.com/bigwhite/gocmpp/vendor/golang.org/x/text/transform
mkdir -p $WORK/b031/
cat &gt;$WORK/b031/importcfg &lt;&lt; 'EOF' # internal
# import config
packagefile bytes=/Users/tony/.bin/go1.10rc2/pkg/darwin_amd64/bytes.a
packagefile errors=/Users/tony/.bin/go1.10rc2/pkg/darwin_amd64/errors.a
packagefile io=/Users/tony/.bin/go1.10rc2/pkg/darwin_amd64/io.a
packagefile unicode/utf8=/Users/tony/.bin/go1.10rc2/pkg/darwin_amd64/unicode/utf8.a
EOF

.... ....

cd $(GOPATH)/src/github.com/bigwhite/gocmpp
/Users/tony/.bin/go1.10rc2/pkg/tool/darwin_amd64/compile -o $WORK/b001/_pkg_.a -trimpath $WORK/b001 -p github.com/bigwhite/gocmpp -complete -buildid 6LaoHtjkFhandbEhv7zD/6LaoHtjkFhandbEhv7zD -goversion go1.10rc2 -D "" -importcfg $WORK/b001/importcfg -pack -c=4 ./activetest.go ./client.go ./conn.go ./connect.go ./deliver.go ./fwd.go ./packet.go ./receipt.go ./server.go ./submit.go ./terminate.go
/Users/tony/.bin/go1.10rc2/pkg/tool/darwin_amd64/buildid -w $WORK/b001/_pkg_.a # internal
cp $WORK/b001/_pkg_.a /Users/tony/Library/Caches/go-build/e0/e02a5fec0835ca540b62053fdea82589e686e88bf48f18355ed38d41ad19f334-d # internal
</code></pre>
<p>再次编译的详细输出信息：</p>
<pre><code>$go build -x -v
WORK=/var/folders/2h/xr2tmnxx6qxc4w4w13m01fsh0000gn/T/go-build906548554
</code></pre>
<p>我们来分析一下。首次构建时，我们看到gocmpp依赖的每个包以及自身的包都会被编译，并被copy到/Users/tony/Library/Caches/go-build/下面的某个目录下，包括最终的gocmpp包也是这样。第二次build时，我们看到仅仅输出一行信息，这是因为go compiler在cache中找到了gocmpp包对应的编译好的缓存结果，无需进行实际的编译了。</p>
<p>前面说过，go 1.10 compiler决定是否重新编译包是content based的，而不是依照时间戳比对来决策。我们来修改一个gocmpp包中的文件fwd.go，删除一个空行，再恢复这个空行，保存退出。我们再来编译一下gocmpp:</p>
<pre><code>➜  $GOPATH/src/github.com/bigwhite/gocmpp git:(master) ✗ $go build -x -v
WORK=/var/folders/2h/xr2tmnxx6qxc4w4w13m01fsh0000gn/T/go-build857409409
</code></pre>
<p>可以看到go compiler并没有重新编译任何包。如果我们真实改变了fwd.go的内容，比如删除一个空行，保存后再次编译：</p>
<pre><code>➜  $GOPATH/src/github.com/bigwhite/gocmpp git:(master) ✗ $go build -x -v
WORK=/var/folders/2h/xr2tmnxx6qxc4w4w13m01fsh0000gn/T/go-build437927548
github.com/bigwhite/gocmpp
mkdir -p $WORK/b001/
cat &gt;$WORK/b001/importcfg &lt;&lt; 'EOF' # internal
# import config
packagefile bytes=/Users/tony/.bin/go1.10rc2/pkg/darwin_amd64/bytes.a
packagefile crypto/md5=/Users/tony/.bin/go1.10rc2/pkg/darwin_amd64/crypto/md5.a
packagefile encoding/binary=/Users/tony/.bin/go1.10rc2/pkg/darwin_amd64/encoding/binary.a
packagefile errors=/Users/tony/.bin/go1.10rc2/pkg/darwin_amd64/errors.a
packagefile fmt=/Users/tony/.bin/go1.10rc2/pkg/darwin_amd64/fmt.a
packagefile github.com/bigwhite/gocmpp/utils=/Users/tony/Test/GoToolsProjects/pkg/darwin_amd64/github.com/bigwhite/gocmpp/utils.a
packagefile io=/Users/tony/.bin/go1.10rc2/pkg/darwin_amd64/io.a
packagefile log=/Users/tony/.bin/go1.10rc2/pkg/darwin_amd64/log.a
packagefile net=/Users/tony/.bin/go1.10rc2/pkg/darwin_amd64/net.a
packagefile os=/Users/tony/.bin/go1.10rc2/pkg/darwin_amd64/os.a
packagefile strconv=/Users/tony/.bin/go1.10rc2/pkg/darwin_amd64/strconv.a
packagefile strings=/Users/tony/.bin/go1.10rc2/pkg/darwin_amd64/strings.a
packagefile sync=/Users/tony/.bin/go1.10rc2/pkg/darwin_amd64/sync.a
packagefile sync/atomic=/Users/tony/.bin/go1.10rc2/pkg/darwin_amd64/sync/atomic.a
packagefile time=/Users/tony/.bin/go1.10rc2/pkg/darwin_amd64/time.a
EOF
cd /Users/tony/Test/GoToolsProjects/src/github.com/bigwhite/gocmpp
/Users/tony/.bin/go1.10rc2/pkg/tool/darwin_amd64/compile -o $WORK/b001/_pkg_.a -trimpath $WORK/b001 -p github.com/bigwhite/gocmpp -complete -buildid trn5lvvRTk_UP3LcT5CC/trn5lvvRTk_UP3LcT5CC -goversion go1.10rc2 -D "" -importcfg $WORK/b001/importcfg -pack -c=4 ./activetest.go ./client.go ./conn.go ./connect.go ./deliver.go ./fwd.go ./packet.go ./receipt.go ./server.go ./submit.go ./terminate.go
/Users/tony/.bin/go1.10rc2/pkg/tool/darwin_amd64/buildid -w $WORK/b001/_pkg_.a # internal
cp $WORK/b001/_pkg_.a /Users/tony/Library/Caches/go-build/7a/7a5671578ed30b125257fd16d0f0b8ceaefd0acc3e44f082ffeecea9f1895499-d # internal
</code></pre>
<p>Go compiler发现了内容的变动，对gocmpp包的变动内容进行了重新compile。</p>
<h4>c) 缓存目录探索</h4>
<p>在增加cache机制时，go tools增加了GOCACHE变量，通过go env GOCACHE查看变量值：</p>
<pre><code>$go env GOCACHE
/Users/tony/Library/Caches/go-build
</code></pre>
<p>如果未重设环境变量GOCACHE，那么默认在Linux上，GOCACHE=”~/.cache/go-build”; 在Mac OS X上，GOCACHE=”/Users/UserName/Library/Caches/go-build”。在 OS X上，我们进入$GOCACHE目录，映入眼帘的是：</p>
<pre><code>➜  /Users/tony/Library/Caches/go-build $ls
00/        18/        30/        48/        60/        78/        90/        a7/        bf/        d7/        ef/
01/        19/        31/        49/        61/        79/        91/        a8/        c0/        d8/        f0/
02/        1a/        32/        4a/        62/        7a/        92/        a9/        c1/        d9/        f1/
03/        1b/        33/        4b/        63/        7b/        93/        aa/        c2/        da/        f2/
04/        1c/        34/        4c/        64/        7c/        94/        ab/        c3/        db/        f3/
05/        1d/        35/        4d/        65/        7d/        95/        ac/        c4/        dc/        f4/
06/        1e/        36/        4e/        66/        7e/        96/        ad/        c5/        dd/        f5/
07/        1f/        37/        4f/        67/        7f/        97/        ae/        c6/        de/        f6/
08/        20/        38/        50/        68/        80/        98/        af/        c7/        df/        f7/
09/        21/        39/        51/        69/        81/        99/        b0/        c8/        e0/        f8/
0a/        22/        3a/        52/        6a/        82/        9a/        b1/        c9/        e1/        f9/
0b/        23/        3b/        53/        6b/        83/        9b/        b2/        ca/        e2/        fa/
0c/        24/        3c/        54/        6c/        84/        9c/        b3/        cb/        e3/        fb/
0d/        25/        3d/        55/        6d/        85/        9d/        b4/        cc/        e4/        fc/
0e/        26/        3e/        56/        6e/        86/        9e/        b5/        cd/        e5/        fd/
0f/        27/        3f/        57/        6f/        87/        9f/        b6/        ce/        e6/        fe/
10/        28/        40/        58/        70/        88/        README        b7/        cf/        e7/        ff/
11/        29/        41/        59/        71/        89/        a0/        b8/        d0/        e8/        log.txt
12/        2a/        42/        5a/        72/        8a/        a1/        b9/        d1/        e9/        trim.txt
13/        2b/        43/        5b/        73/        8b/        a2/        ba/        d2/        ea/
14/        2c/        44/        5c/        74/        8c/        a3/        bb/        d3/        eb/
15/        2d/        45/        5d/        75/        8d/        a4/        bc/        d4/        ec/
16/        2e/        46/        5e/        76/        8e/        a5/        bd/        d5/        ed/
17/        2f/        47/        5f/        77/        8f/        a6/        be/        d6/        ee/

</code></pre>
<p>熟悉git原理的朋友一定觉得这个目录组织结构似曾相识！没错，在每个git项目的./git/object目录下，我们也能看到下面的结果：</p>
<pre><code>.git/objects git:(master) $ls
00/    0c/    18/    24/    30/    3c/    48/    54/    60/    6c/    78/    84/    90/    9c/    a8/    b4/    c0/    cc/    d8/    e4/    f0/    fc/
01/    0d/    19/    25/    31/    3d/    49/    55/    61/    6d/    79/    85/    91/    9d/    a9/    b5/    c1/    cd/    d9/    e5/    f1/    fd/
02/    0e/    1a/    26/    32/    3e/    4a/    56/    62/    6e/    7a/    86/    92/    9e/    aa/    b6/    c2/    ce/    da/    e6/    f2/    fe/
03/    0f/    1b/    27/    33/    3f/    4b/    57/    63/    6f/    7b/    87/    93/    9f/    ab/    b7/    c3/    cf/    db/    e7/    f3/    ff/
04/    10/    1c/    28/    34/    40/    4c/    58/    64/    70/    7c/    88/    94/    a0/    ac/    b8/    c4/    d0/    dc/    e8/    f4/    info/
05/    11/    1d/    29/    35/    41/    4d/    59/    65/    71/    7d/    89/    95/    a1/    ad/    b9/    c5/    d1/    dd/    e9/    f5/    pack/
06/    12/    1e/    2a/    36/    42/    4e/    5a/    66/    72/    7e/    8a/    96/    a2/    ae/    ba/    c6/    d2/    de/    ea/    f6/
07/    13/    1f/    2b/    37/    43/    4f/    5b/    67/    73/    7f/    8b/    97/    a3/    af/    bb/    c7/    d3/    df/    eb/    f7/
08/    14/    20/    2c/    38/    44/    50/    5c/    68/    74/    80/    8c/    98/    a4/    b0/    bc/    c8/    d4/    e0/    ec/    f8/
09/    15/    21/    2d/    39/    45/    51/    5d/    69/    75/    81/    8d/    99/    a5/    b1/    bd/    c9/    d5/    e1/    ed/    f9/
0a/    16/    22/    2e/    3a/    46/    52/    5e/    6a/    76/    82/    8e/    9a/    a6/    b2/    be/    ca/    d6/    e2/    ee/    fa/
0b/    17/    23/    2f/    3b/    47/    53/    5f/    6b/    77/    83/    8f/    9b/    a7/    b3/    bf/    cb/    d7/    e3/    ef/    fb/
</code></pre>
<p>这里猜测go 1.10使用的应该是与git一类内容摘要算法以及组织存储模式。在前面的build详细输出中，我们找到这一行：</p>
<pre><code>cp $WORK/b001/_pkg_.a /Users/tony/Library/Caches/go-build/7a/7a5671578ed30b125257fd16d0f0b8ceaefd0acc3e44f082ffeecea9f1895499-d # internal
</code></pre>
<p>这行命令是将gocmpp包复制到cache下，我们到cache的7a目录下一查究竟：</p>
<pre><code>➜  /Users/tony/Library/Caches/go-build/7a $tree
.
└── 7a5671578ed30b125257fd16d0f0b8ceaefd0acc3e44f082ffeecea9f1895499-d

0 directories, 1 file
</code></pre>
<p>我们用nm命令查看一下该文件：</p>
<pre><code>$go tool nm 7a5671578ed30b125257fd16d0f0b8ceaefd0acc3e44f082ffeecea9f1895499-d|more
1c319 T %22%22.(*Client).Connect
   2e279 T %22%22.(*Client).Connect.func1
   3fc22 R %22%22.(*Client).Connect.func1·f
   1c79f T %22%22.(*Client).Disconnect
   1c979 T %22%22.(*Client).RecvAndUnpackPkt
   1c807 T %22%22.(*Client).SendReqPkt
   1c8e2 T %22%22.(*Client).SendRspPkt
   1e417 T %22%22.(*Cmpp2ConnRspPkt).Pack
... ...
</code></pre>
<p>这个文件的确就是gocmpp.a文件。通过比对该文件size与go install后的文件size也可以证实这一点：</p>
<pre><code>➜  /Users/tony/Library/Caches/go-build/7a $
-rw-r--r--    1 tony  staff  445856 Feb 15 22:34 7a5671578ed30b125257fd16d0f0b8ceaefd0acc3e44f082ffeecea9f1895499-d

vs.

➜  $GOPATH/pkg/darwin_amd64/github.com/bigwhite $ll
-rw-r--r--  1 tony  staff  445856 Feb 15 23:27 gocmpp.a
</code></pre>
<p>也就是说go compiler将编译后的package的.a文件求取摘要值后，将.a文件存储在$GOCACHE下的某个目录中，这个目录名即为摘要值的前两位（比如”7a”），.a文件名字被换成其摘要值，以便后续查找并做比对。</p>
<p>cache目录下还有一个重要文件：log.txt，这个文件是用来记录缓存管理日志的，其内容格式如下：</p>
<pre><code>//log.txt
... ...

1518705271 get 7533a063cd8c37888b19674bf4a4bb7e25fa422041082566530d58538c031516
1518705271 miss b6b9f996fbd14e4fd43f72dc4f9082946cddd0d61d6c6143c88502c8a4001666
1518705271 put b6b9f996fbd14e4fd43f72dc4f9082946cddd0d61d6c6143c88502c8a4001666 7a5671578ed30b125257fd16d0f0b8ceaefd0acc3e44f082ffeecea9f1895499 445856
1518705271 put f5a641ca081a0d2d794b0b54aa9f89014dbb6ff8d14d26543846e1676eca4c21 e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855 0
1518708456 get 899589360d856265a84825dbeb8d283ca84e12f154eefc12ba84870af13e1f63
1518708456 get 8a7fcd97a5f36bd00ef084856c63e4e2facedce33d19a5b557cc67f219787661
</code></pre>
<p>该日志文件更多的用途是帮助Russ Cox对其开发的cache进行调试和问题诊断的。当然，如果您对于cache的机制原理也很精通，那么也可以让log.txt帮你诊断涉及cache的问题。</p>
<h4>d) go test with cache</h4>
<p>go 1.10版的go test也会维护一个cache，这个cache缓存了go test执行的测试结果。同时在go 1.10中，go test被分为两种执行模式：local directory mode和package list mode，在不同模式下，cache机制的介入是不同的。</p>
<p>local directory mode，即go test以整个当前目录作为隐式参数的执行模式，比如在某个目录下执行”go test”，go test后面不带任何显式的package列表参数（当然可以带着其他命令行flag参数，如-v）。在这种模式下，cache机制不会介入，go test的执行过程与go 1.10版本之前没有两样。还是以gocmpp这个项目为例，我们以local directory mode执行go test：</p>
<pre><code>➜  $GOPATH/src/github.com/bigwhite/gocmpp git:(master) ✗ $go test
PASS
ok      github.com/bigwhite/gocmpp    0.011s
</code></pre>
<p>如果缓存机制介入，输出的test结果中会出现cached字样，显然上面的go test执行过程并没有使用test cache。</p>
<p>package list mode，即go test后面显式传入了package列表，比如：go test math、go test .、go test ./&#8230;等，在这种模式下，test cache机制会介入。我们连续两次在gocmpp目录下执行go test .：</p>
<pre><code>➜  $GOPATH/src/github.com/bigwhite/gocmpp git:(master) ✗ $go test .
ok      github.com/bigwhite/gocmpp    0.011s
➜  $GOPATH/src/github.com/bigwhite/gocmpp git:(master) ✗ $go test .
ok      github.com/bigwhite/gocmpp    (cached)
</code></pre>
<p>如果你此时想进一步看看go test执行的详细输出，你可以会执行go test -v .：</p>
<pre><code>➜  $GOPATH/src/github.com/bigwhite/gocmpp git:(master) ✗ $go test -v .
=== RUN   TestTypeString
--- PASS: TestTypeString (0.00s)
=== RUN   TestCommandIdString
--- PASS: TestCommandIdString (0.00s)
=== RUN   TestOpError
--- PASS: TestOpError (0.00s)
... ...
=== RUN   TestCmppTerminateRspPktPack
--- PASS: TestCmppTerminateRspPktPack (0.00s)
=== RUN   TestCmppTerminateRspUnpack
--- PASS: TestCmppTerminateRspUnpack (0.00s)
PASS
ok      github.com/bigwhite/gocmpp    0.017s
</code></pre>
<p>你会发现，这次go test并没有使用cache。如果你再执行一次go test -v .：</p>
<pre><code>➜  $GOPATH/src/github.com/bigwhite/gocmpp git:(master) ✗ $go test -v .
=== RUN   TestTypeString
--- PASS: TestTypeString (0.00s)
=== RUN   TestCommandIdString
--- PASS: TestCommandIdString (0.00s)
=== RUN   TestOpError
--- PASS: TestOpError (0.00s)
... ...
=== RUN   TestCmppTerminateRspPktPack
--- PASS: TestCmppTerminateRspPktPack (0.00s)
=== RUN   TestCmppTerminateRspUnpack
--- PASS: TestCmppTerminateRspUnpack (0.00s)
PASS
ok      github.com/bigwhite/gocmpp    (cached)

</code></pre>
<p>test cache又起了作用。似乎cache对于go test .和go test -v .是独立的。没错，release note中给出的go test cache的介入条件如下：</p>
<ul>
<li>本次测试的执行程序以及命令行（及参数）与之前的一次test运行匹配；（这就能解释为何go test -v .没有使用go test .执行的cache了）；</li>
<li>上次测试执行时的文件和环境变量在本次没有发生变化；</li>
<li>测试结果是成功的；</li>
<li>以package list node运行测试；</li>
<li>go test的命令行参数使用”-cpu, -list, -parallel, -run, -short和 -v”的一个子集时</li>
</ul>
<p>就像前面我们看到的，cache介入的go test结果不会显示test消耗的时间，而是以(cached)字样替代。</p>
<p>绝大多数Gopher都是喜欢test with cache的，但总有一些情况，cache是不受欢迎的。其实前面的条件已经明确告知gopher们什么条件下test cache是可以不介入的。<strong>一个惯用的关闭test cache的方法</strong>是使用-count=1：</p>
<pre><code>➜  $GOPATH/src/github.com/bigwhite/gocmpp git:(master) ✗ $go test -count=1  -v .
=== RUN   TestTypeString
--- PASS: TestTypeString (0.00s)
=== RUN   TestCommandIdString
--- PASS: TestCommandIdString (0.00s)
=== RUN   TestOpError
--- PASS: TestOpError (0.00s)
... ...
=== RUN   TestCmppTerminateRspPktPack
--- PASS: TestCmppTerminateRspPktPack (0.00s)
=== RUN   TestCmppTerminateRspUnpack
--- PASS: TestCmppTerminateRspUnpack (0.00s)
PASS
ok      github.com/bigwhite/gocmpp    0.012s

</code></pre>
<p>go 1.10中的go test与之前版本还有一个不同，那就是go test在真正执行test前会自动对被测试的包执行go vet，但这个vet只会识别那些最为明显的问题。并且一旦发现问题，go test将会视这些问题与build error同级别，阻断test的执行，并让其出现在test failure中。当然gopher可以通过go test -vet=off关闭这个前置于测试的vet检查。</p>
<h3>4. pprof</h3>
<p>go tool pprof做了一个较大的改变：增加了Web UI，以后可以和go trace一起通过图形化的方法对Go程序进行调优了。可视化的pprof使用起来十分简单，我们以gocmpp为例，试用一下go 1.10的pprof，首先我们生成cpu profile文件：</p>
<pre><code>➜  $GOPATH/src/github.com/bigwhite/gocmpp git:(master) ✗ $go test -run=^$ -bench=. -cpuprofile=profile.out
goos: darwin
goarch: amd64
pkg: github.com/bigwhite/gocmpp
BenchmarkRecvAndUnpackPkt-4                1000000          1534 ns/op
BenchmarkCmppConnReqPktPack-4              1000000          1398 ns/op
BenchmarkCmppConnReqPktUnpack-4            3000000           450 ns/op
BenchmarkCmpp2DeliverReqPktPack-4          1000000          1156 ns/op
BenchmarkCmpp2DeliverReqPktUnpack-4        3000000           567 ns/op
BenchmarkCmpp3DeliverReqPktPack-4          1000000          1173 ns/op
BenchmarkCmpp3DeliverReqPktUnpack-4        3000000           465 ns/op
BenchmarkCmpp2FwdReqPktPack-4              1000000          2079 ns/op
BenchmarkCmpp2FwdReqPktUnpack-4            1000000          1276 ns/op
BenchmarkCmpp3FwdReqPktPack-4              1000000          2507 ns/op
BenchmarkCmpp3FwdReqPktUnpack-4            1000000          1286 ns/op
BenchmarkCmpp2SubmitReqPktPack-4           1000000          1845 ns/op
BenchmarkCmpp2SubmitReqPktUnpack-4         1000000          1251 ns/op
BenchmarkCmpp3SubmitReqPktPack-4           1000000          1863 ns/op
BenchmarkCmpp3SubmitReqPktUnpack-4         2000000           656 ns/op
PASS
ok      github.com/bigwhite/gocmpp    26.621s
</code></pre>
<p>启动pprof web ui：</p>
<pre><code>$go tool pprof -http=:8080 profile.out
</code></pre>
<p>pprof会自动打开默认浏览器，进入下面页面：</p>
<p><img src="http://tonybai.com/wp-content/uploads/go-1.10-pprof-web-ui.png" alt="img{512x368}" /></p>
<p>在view菜单中，我们可以看到”top”、”graph”、”peek”、”source”和”disassemble”几个选项，这些选项可以帮助你在各种视图间切换，默认初始为graph view。不过目前view菜单中并没有”Flame Graph(火焰图)”选项，要想使用Flame Graph，我们需要使用原生的pprof工具，该工具可通过go get -u github.com/google/pprof获取，install后原生pprof将出现在$GOROOT/bin下面。</p>
<p>使用原生pprof启动Web UI：</p>
<pre><code>$pprof -http=:8080 profile.out
</code></pre>
<p>原生pprof同样会自动打开浏览器，进入下面页面：</p>
<p><img src="http://tonybai.com/wp-content/uploads/go-1.10-native-pprof-web-ui.png" alt="img{512x368}" /></p>
<p>原生的pprof的web ui看起来比go 1.10 tool中的pprof更为精致，且最大的不同在于VIEW菜单下出现了”Flame Graph”菜单项！我们点击该菜单项，一幅Flame Graph便呈现在眼前：</p>
<p><img src="http://tonybai.com/wp-content/uploads/go-1.10-native-pprof-flame-graph.png" alt="img{512x368}" /></p>
<p>关于如何做火焰图分析不是这里的主要任务，请各位Gopher自行脑补。更多关于Go性能调优问题，可以参考<a href="https://tip.golang.org/doc/diagnostics.html" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://tip.golang.org']);">Go官方提供的诊断手册</a>。</p>
<h2>四、标准库</h2>
<p>和之前的每次Go版本发布一样，标准库的改变是多且细碎的，这里不能一一举例说明。并且很多涉“专业领域”的包，比如加解密，需要一定专业深度，因此这里仅列举几个“通用”的变化^0^。</p>
<h3>1、strings.Builder</h3>
<p>strings包增加一个新的类型：Builder，用于在“拼字符串”场景中替代bytes.Buffer，由于使用了一些unsafe包的黑科技，在用户调用Builder.String()返回最终拼成的字符串时，避免了一些重复的、不必要的内存copy，提升了处理性能，优化了内存分配。我们用一个demo来看看这种场景下Builder的优势：</p>
<pre><code>//go1.10-examples/stdlib/stringsbuilder/builer.go
package builder

import (
    "bytes"
    "strings"
)

type BuilderByBytesBuffer struct {
    b bytes.Buffer
}
func (b *BuilderByBytesBuffer) WriteString(s string) error {
    _, err := b.b.WriteString(s)
    return err
}
func (b *BuilderByBytesBuffer) String() string{
    return b.b.String()
}

type BuilderByStringsBuilder struct {
    b strings.Builder
}

func (b *BuilderByStringsBuilder) WriteString(s string) error {
    _, err := b.b.WriteString(s)
    return err
}
func (b *BuilderByStringsBuilder) String() string{
    return b.b.String()
}
</code></pre>
<p>针对上面代码中的BuilderByBytesBuffer和BuilderByStringsBuilder进行Benchmark的Test源文件如下：</p>
<pre><code>//go1.10-examples/stdlib/stringsbuilder/builer_test.go
package builder

import "testing"

func BenchmarkBuildStringWithBytesBuffer(b *testing.B) {
    var builder BuilderByBytesBuffer

    for i := 0; i &lt; b.N; i++ {
        builder.WriteString("Hello, ")
        builder.WriteString("Go")
        builder.WriteString("-1.10")
        _ = builder.String()
    }

}
func BenchmarkBuildStringWithStringsBuilder(b *testing.B) {

    var builder BuilderByStringsBuilder

    for i := 0; i &lt; b.N; i++ {
        builder.WriteString("Hello, ")
        builder.WriteString("Go")
        builder.WriteString("-1.10")
        _ = builder.String()
    }
}
</code></pre>
<p>执行该Benchmark，查看结果：</p>
<pre><code>$go test -bench . -benchmem
goos: darwin
goarch: amd64
pkg: github.com/bigwhite/experiments/go1.10-examples/stdlib/stringsbuilder
BenchmarkBuildStringWithBytesBuffer-4            100000        108471 ns/op      704073 B/op           1 allocs/op
BenchmarkBuildStringWithStringsBuilder-4       20000000           122 ns/op          80 B/op           0 allocs/op
PASS
ok      github.com/bigwhite/experiments/go1.10-examples/stdlib/stringsbuilder    13.616s
</code></pre>
<p>可以看到StringsBuilder在处理速度和分配优化上都全面强于bytes.Buffer，真实的差距就在Builder.String这个方法上。</p>
<h3>2、bytes包</h3>
<p>bytes包的几个方法Fields, FieldsFunc, Split和SplitAfter在底层实现上有变化，使得外部展现的行为有所变化，我们通过一个例子直观的感受一下：</p>
<pre><code>// go1.10-examples/stdlib/bytessplit/main.go
package main

import (
    "bytes"
    "fmt"
)

// 来自github.com/campoy/gotalks/blob/master/go1.10/bytes/fields.go
func desc(b []byte) string {
    return fmt.Sprintf("len: %2d | cap: %2d | %q\n", len(b), cap(b), b)
}

func main() {
    text := []byte("Hello, Go1.10 is coming!")
    fmt.Printf("text:  %s", desc(text))

    subslices := bytes.Split(text, []byte(" "))
    fmt.Printf("subslice 0:  %s", desc(subslices[0]))
    fmt.Printf("subslice 1:  %s", desc(subslices[1]))
    fmt.Printf("subslice 2:  %s", desc(subslices[2]))
    fmt.Printf("subslice 3:  %s", desc(subslices[3]))
}
</code></pre>
<p>我们先用Go 1.9.2编译运行一下该demo:</p>
<pre><code>$go run main.go
text:  len: 24 | cap: 32 | "Hello, Go1.10 is coming!"
subslice 0:  len:  6 | cap: 32 | "Hello,"
subslice 1:  len:  6 | cap: 25 | "Go1.10"
subslice 2:  len:  2 | cap: 18 | "is"
subslice 3:  len:  7 | cap: 15 | "coming!"
</code></pre>
<p>我们再用go 1.10rc2运行一下该demo：</p>
<pre><code>$go run main.go
text:  len: 24 | cap: 32 | "Hello, Go1.10 is coming!"
subslice 0:  len:  6 | cap:  6 | "Hello,"
subslice 1:  len:  6 | cap:  6 | "Go1.10"
subslice 2:  len:  2 | cap:  2 | "is"
subslice 3:  len:  7 | cap: 15 | "coming!"
</code></pre>
<p>对比两次输出结果中cap那一列，你会发现go 1.10输出的结果中的<strong>每个subslice(除了最后一个)的len与cap值都是相等的</strong>，而不是将原slice剩下所有cap都作为subslice的cap。这个行为的改变是出于安全的考虑，防止共享一个underlying slice的各个subslice的修改对相邻的subslice造成影响，因此限制它们的capacity。</p>
<p>在Fields, FieldsFunc, Split和SplitAfter这几个方法的具体实现上，Go 1.10使用了我们平时并不经常使用的”<a href="https://golang.org/ref/spec#Slice_expressions" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://golang.org']);">Full slice expression</a>“，即：a[low, high, max]来指定subslice的cap。</p>
<h2>五、性能</h2>
<p>对于静态编译类型语言Go来说，性能也一直是其重点关注的设计目标，这两年来发布的Go版本，几乎每个都给Gopher们带来惊喜。谈到Go性能，Gopher们一般关心的有如下这么几个方面：</p>
<h3>1、编译性能</h3>
<p>Go 1.10的编译性能正如我们前面所说的那样，最大的改变在于cache机制的实现。事实证明cache机制的使用在日常开发过程中，会很大程度上提升你的工作效率，越是规模较大的项目越是如此。</p>
<h3>2、目标代码的性能</h3>
<p>这些年Go team在不断优化编译器生成的目标代码的性能，比如在<a href="http://tonybai.com/2016/06/21/some-changes-in-go-1-7/" >Go 1.7版本</a>中引入ssa后端。Go 1.10延续着对目标代码生成的进一步优化，虽说动作远不如引入ssa这么大。</p>
<h3>3、GC性能</h3>
<p>GC的性能一直是广大Gopher密切关注的事情，Go 1.10在减少内存分配延迟以及GC运行时的负担两个方面做了许多工作，但从整体上来看，Go 1.10并没有引入传说中的<a href="https://groups.google.com/forum/#!topic/golang-dev/WcZaqTE51ZU" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://groups.google.com']);">TOC(Transaction Oritented Collector)</a>，因此宏观上来看，GC变化不是很大。Twitter上的GC性能测试“专家”<a href="https://twitter.com/brianhatfield" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://twitter.com']);">Brian Hatfield</a>在对Go 1.10rc1的<a href="http://tonybai.com/2017/07/04/setup-go-runtime-metrics-for-yourself/" >GC测试</a>后，也表示与Go 1.9相比，变化不是很显著。</p>
<h2>六、小结</h2>
<p>Go 1.10版本又是一个Go team和Gopher社区共同努力的结果，让全世界Gopher都对Go保持着极大的热情和期望。当然Go 1.10中的变化还有许多许多，诸如：</p>
<ul>
<li>对Unicode规范的支持升级到<a href="http://www.unicode.org/versions/Unicode10.0.0/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.unicode.org']);">10.0</a>；</li>
<li>在不同的平台上，Assembler支持更多高性能的指令；</li>
<li>plugin支持darwin/amd64等；</li>
<li>gofmt、go doc在输出格式上进一步优化和提升gopher开发者体验；</li>
<li>cgo支持直接传递go string到C代码中;<br />
&#8230; &#8230;</li>
</ul>
<p>很多很多！这里限于篇幅原因，不能一一详解了。通读一遍<a href="https://golang.org/doc/go1.10" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://golang.org']);">Go 1.10 Release Note</a>是每个Gopher都应该做的。</p>
<p>以上验证在mac OS X, go 1.10rc2上测试，demo源码可以在<a href="https://github.com/bigwhite/experiments/tree/master/go1.10-examples" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">这里下载</a>。</p>
<h2>七、参考资料</h2>
<ul>
<li><a href="https://golang.org/doc/go1.10" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://golang.org']);">Go 1.10 Release Notes</a></li>
<li><a href="https://speakerdeck.com/campoy/the-state-of-go-1-dot-10" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://speakerdeck.com']);">The State of Go by campoy</a></li>
<li><a href="https://blog.gopheracademy.com/advent-2017/go-1.10/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://blog.gopheracademy.com']);">Go 1.10</a></li>
<li><a href="https://rakyll.org/pprof-ui/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://rakyll.org']);">pprof user interface</a></li>
<li><a href="https://groups.google.com/forum/#!topic/golang-dev/EZtZsJG35ZM" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://groups.google.com']);">cmd/go content-based staleness submitted</a></li>
<li><a href="https://groups.google.com/forum/#!topic/golang-dev/qfa3mHN4ZPA" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://groups.google.com']);">Go 1.10 cmd/go: build cache, test cache, go install, go vet, test vet</a></li>
</ul>
<hr />
<p>著名云主机服务厂商DigitalOcean发布最新的主机计划，入门级Droplet配置升级为：1 core CPU、1G内存、25G高速SSD，价格5$/月。有使用DigitalOcean需求的朋友，可以打开这个<a href="https://m.do.co/c/bff6eed92687" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://m.do.co']);">链接地址</a>：https://m.do.co/c/bff6eed92687 开启你的DO主机之路。</p>
<p>我的联系方式：</p>
<p>微博：http://weibo.com/bigwhite20xx<br />
微信公众号：iamtonybai<br />
博客：tonybai.com<br />
github: https://github.com/bigwhite</p>
<p>微信赞赏：<br />
<img src="http://tonybai.com/wp-content/uploads/wechat-zanshang-code-512x512.jpg" alt="img{512x368}" /></p>
<p>商务合作方式：撰稿、出书、培训、在线课程、合伙创业、咨询、广告合作</p>
				</div>
			</article>
					<article class="post">
				<h2 class="post-title">
					<a href="https://tonybai.com/2018/02/11/9th-issue-of-the-tech-weekly-carefully-chosen-by-tonybai/">TB一周萃选[第9期]</a>
				</h2>
				<ul class="post-meta">
					<li>二月 11, 2018</li>
					<li class="comment-count"><a href="https://tonybai.com/2018/02/11/9th-issue-of-the-tech-weekly-carefully-chosen-by-tonybai/#respond" title="《TB一周萃选[第9期]》上的评论">0 条评论</a></li>
				</ul>
				<div class="post-content">
					<p>本文是首发于<a href="https://mp.weixin.qq.com/mp/qrcode?scene=10000005&amp;size=102&amp;__biz=MzIyNzM0MDk0Mg==&amp;mid=2247483848&amp;idx=1&amp;sn=a3cd9182a2b2d3716623cc2c43d59f37&amp;send_time=" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://mp.weixin.qq.com']);">个人微信公众号</a>的文章<strong>“TB一周萃选[第9期]”</strong>的归档。</p>
<p><img src="http://tonybai.com/wp-content/uploads/weekly-issues/9th-issue/go-home-during-spring-festival.jpg" alt="img{512x368}" /></p>
<blockquote>
<p>亲情犹如一江剪不断的春水，流动的是游子心中永远的思念；亲情犹如一丘数不尽的细沙，沉淀的是长年堆积的牵挂；亲情犹如夜空中那颗北斗，指引的是那迷路的羔羊回家的方向。忙碌了一年，该回家了，给心放个假，带上媳妇带上你的娃，回家看看那年迈的爸妈，出发！  &#8212;  改编自网络</p>
</blockquote>
<p>此时此刻，很多人刚刚踏上了春节回家的旅途，有些人更是已经叩开了家的大门。每逢中国传统佳节-<a href="https://en.wikipedia.org/wiki/Chinese_New_Year" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://en.wikipedia.org']);">春节</a>，令世界瞩目并为之瞠目结舌的中国式人口大迁移就会发生一次：几亿人熬夜刷票并不辞辛劳地携着夫/妻儿女，经由多种交通工具，跨越高山大河，不远千百里，战胜种种“囧况”，只为一个目的：在春节前回到那个充满熟悉味道的家乡。</p>
<p>这种在一个文明延续5000多年未中断的民族中发生的<strong>全民行为</strong>让西方社会感到十分不解，甚至指责这是对资源的一种浪费；并且也有国内的人发出类似不和谐的声音。但是<strong>它依然在发生着，每年都在发生</strong>，形式有些许变化，但剧情大体雷同。</p>
<p>曾经有国内外学者对中国特有的春节大迁徙的原因进行研究和分析，并给出了各种专业化的理由。但在我看来，对现代人来说，回家过年，是一种<strong>心灵的相互充电</strong>!  而且是<strong>充电7天，“通话”一整年</strong>。</p>
<p>对于一年到头在外奔波劳碌的人们来说，只有回家，才能真实地触摸到自己的“根”，才能切切实实地体会这种归属感，才能在一定程度上纾解那些在工作的城市中涵盖不了的人生寄托。在这种归属感中，哪怕只是获得片刻的身心安宁，也是一种极为重要的精神能量的充电；而对于守候在家乡的父母或者孩童儿，你的回家，让他们将近一年的期盼终于有了一个圆满的结果，这同样为下一个365天的期盼周期提供了强大的动力和希望。</p>
<p>如果非要给这种行为找个理由，那我要说这就是由一个体内延绵数千年的中华民族血脉的中国人的基因所决定的。</p>
<p><img src="http://tonybai.com/wp-content/uploads/weekly-issues/9th-issue/chinese-dragon.jpg" alt="img{512x368}" /></p>
<h2>一、一周文章精粹</h2>
<h3>1. Go 1.10发布Party</h3>
<p>自从<a href="http://tonybai.com/2016/02/21/some-changes-in-go-1-6/" >Go 1.6</a>开始，每逢偶数版本（一般在每年2、3月发布），Gopher社区都会举办庆祝Release的<a href="https://twitter.com/hashtag/goreleaseparty" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://twitter.com']);">全球Party</a>。在中国农历春节到来之际，也恰逢Go最新版本Go 1.10即将发布之时，Go wiki发布了<a href="https://github.com/golang/go/wiki/Go-1.10-Release-Party" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">Go 1.10 Release Party</a>的Schedule和相关资料。截至目前，已经有15个Party已经list到页面上，活动从2月15号一直延续到3月份。</p>
<ul>
<li><a href="https://github.com/golang/go/wiki/Go-1.10-Release-Party" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">Go 1.10发布Party官网页面</a></li>
<li><a href="https://tip.golang.org/doc/go1.10" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://tip.golang.org']);">Go 1.10 Release Note Draft</a></li>
<li><a href="https://speakerdeck.com/campoy/the-state-of-go-1-dot-10" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://speakerdeck.com']);">The State of Go 1.10</a></li>
</ul>
<h3>2. 避免或减少对Go context Value的使用</h3>
<p>context包最初诞生于Google公司内部，并在Google内部项目大量使用。context在golang/x中孵化了多年，并得到了很多开源项目的使用，尤其是一些使用了”middleware”模式的项目中，于是在<a href="http://tonybai.com/2016/06/21/some-changes-in-go-1-7/" >Go 1.7发布</a>时，context包正式加入Go标准库。context加入后，可谓既带来魔力，亦带来了争议，甚至有人将其视为<a href="https://faiface.github.io/post/context-should-go-away-go2/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://faiface.github.io']);">具有“病毒”属性</a>，一旦使用，便可轻易传染到项目中代码的各个角落。</p>
<p>Go开发者、培训师Jon Calhoun也在个人网站上撰写了一篇文章，来告诫大家Go context value的一些缺陷，建议大家避免或减少对Go context Value的使用，并给出自己的替代方案。其主要理由是：context.WithValue和Context.Value的使用让我们失去了编译器对类型安全性的检查。</p>
<p>文章链接：<a href="https://www.calhoun.io/pitfalls-of-context-values-and-how-to-avoid-or-mitigate-them" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.calhoun.io']);">“Pitfalls of context values and how to avoid or mitigate them in Go”</a></p>
<h3>3. 来自Google Cloud Platform的12条有关用户账号、授权和密码管理的最佳实践</h3>
<p>对于许多开发者来说，账户管理是一个黑暗的角落，没有得到足够的重视。来自Google Cloud Platform的解决方案专家Ian Maddox给我们带来了12条有关此方面的最佳实践，包括：区分用户标识与用户账号、允许用户更改用户名、用户ID大小写敏感、两步验证等。</p>
<p><img src="http://tonybai.com/wp-content/uploads/weekly-issues/9th-issue/user-account-and-password.jpg" alt="img{512x368}" /></p>
<p>文章链接：<a href="https://cloudplatform.googleblog.com/2018/01/12-best-practices-for-user-account.html" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://cloudplatform.googleblog.com']);">“12 best practices for user account, authorization and password management”</a></p>
<h3>4. AI界网红-深度学习之父Geoffrey Hinton的传奇学术生涯</h3>
<p>这几年最火爆的人工智能技术就是深度学习，可以说当下的主流人工智能就是深度学习，而深度学习的理论基石就是反向传播。和当代物理学类似，最新的计算机应用实际上也是在消化几十年前就已经建立的理论，这不：反向传播就是Geoffrey Hinton与同事David Rumelhart、Ronald Williams在1986年发布的成果，Geoffrey Hinton也因此被誉为深度学习之父。Geoffrey Hinton花了30年在AI前沿的研究，在今天终于开花结果。不过这位现在AI奠基人并没有就此停歇，去年他还提出了“<a href="https://arxiv.org/abs/1710.09829" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://arxiv.org']);">胶囊理论</a>”，不过要彻底理解他的理论，不知道AI应用界还要花多久。下面这篇文章是“多伦多生活”上发表的一篇有关Geoffrey Hinton的传奇学术生涯的新闻稿，我们可以通过它一瞥AI超级明星的学术人生。</p>
<p><img src="http://tonybai.com/wp-content/uploads/weekly-issues/9th-issue/the-father-of-deeplearning-geoffrey-hinton.jpg" alt="img{512x368}" /><br />
图：Geoffrey Hinton</p>
<p>文章链接：<a href="https://torontolife.com/tech/ai-superstars-google-facebook-apple-studied-guy/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://torontolife.com']);">“深度学习之父Geoffrey Hinton的传奇学术生涯”</a></p>
<h3>5. Go项目在github上接受PR了</h3>
<p>go语言自身的开发一直是在google内部的平台上，github上的golang项目仅仅是其一个mirror。在这之前，golang项目在github上是拒绝pr的，contributor必须注册google的开发账号才能为go语言本身做贡献，这种门槛显然有些高。近期Go项目作出了对社区更为友好的举动：<a href="https://go-review.googlesource.com/c/go/+/92995" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://go-review.googlesource.com']);">允许在github上直接提交PR</a>。不过代码的review依旧是在google原平台上，github上提交的pr将被GerritBot自动同步到Go team的Gerrit上进行code review。不过这已经是一个不错的开端了。估计会吸引更多开发者为Go做contribution。</p>
<p>文章链接：<br />
  * <a href="https://go-review.googlesource.com/c/go/+/92995" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://go-review.googlesource.com']);">“doc: remove Pull Request note in README.md”</a><br />
  * <a href="https://github.com/golang/go/wiki/GerritBot" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">“pr流程”</a></p>
<h2>二、一周资料分享</h2>
<h3>1. istio微服务教程 by Redhat</h3>
<p>下一代微服务平台日益火爆，比如：<a href="http://tonybai.com/2018/01/03/an-intro-of-microservices-governance-by-istio/" >istio</a>、<a href="https://conduit.io/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://conduit.io']);">conduit</a>等。近期Redhat开源了一套istio微服务教程，主要是for java microservice，但感觉对其他语言开发的微服务也适用。教程使用的是<a href="https://istio.io/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://istio.io']);">istio</a>最新发布的<a href="https://github.com/istio/istio/releases/tag/0.5.0" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">0.5.0版本</a>，底层使用的是redhat自身的oc平台(openshift)，但替换成<a href="http://tonybai.com/tag/kubernetes" >kubernetes</a>应该很容易。教程包含的内容还是很全面的，针对包括metrics、tracing、routerule管理、fault injection、retry&amp;timeout、mirroring traffic、access control、rate limiting、circuit breaker、egress等常见的微服务框架治理机制都提供了demo实例。</p>
<p>资料分享链接：<a href="https://github.com/redhat-developer-demos/istio-tutorial" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">Istio Tutorial for Java Microservices</a></p>
<h2>三、一周项目推荐</h2>
<h3>1. rook：致力于让存储服务成为云原生平台上的“头等”服务</h3>
<p>2018年1月30日，云原生<a href="https://www.cncf.io/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.cncf.io']);">cncf组织</a>下又增加了一位新成员:<a href="https://rook.io/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://rook.io']);">rook项目</a>，由于刚入行，其与linkerd、coredns同样处于Inception级别。rook是什么？它解决了哪些问题呢？</p>
<p>如今在Kubernetes上部署的应用在使用存储服务时，多使用k8s集群外提供的外部存储服务。在公有云上，使用较多的是诸如<a href="https://aws.amazon.com/cn/ebs/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://aws.amazon.com']);">EBS</a>、<a href="https://aws.amazon.com/s3/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://aws.amazon.com']);">S3</a>等；在定制云/私有云中，使用的则是NFS、<a href="http://tonybai.com/tag/ceph" >Ceph</a>或更为传统的存储解决方案，如下图所示：</p>
<p><img src="http://tonybai.com/wp-content/uploads/weekly-issues/9th-issue/before-using-rook.png" alt="img{512x368}" /><br />
图：使用rook前</p>
<p>Rook存在的意义就是将存储服务移入集群内部，让那些依赖存储服务的应用可以无缝地使用这些服务，这样一来，整个云原生集群环境就可以脱离厂商依赖（比如对amazon、google cloud platform的依赖），实现整体的可移植了，无论是公有云还是私有云。</p>
<p><img src="http://tonybai.com/wp-content/uploads/weekly-issues/9th-issue/after-using-rook.png" alt="img{512x368}" /><br />
图：使用rook后</p>
<p>可以说，Rook<strong>让存储服务成为云原生平台上的“头等”服务</strong>，与其他应用服务一样。</p>
<p>那Rook究竟是什么呢？Rook不是一个像ceph那样的分布式共享存储系统。rook的考虑是：与其花费几年甚至十几年实现一个成熟的、久经考验的分布式存储系统，到不如帮助现有的已经十分成熟的、久经沙场的存储系统更方便的被云原生环境中的应用所使用，比如：<a href="https://ceph.com/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://ceph.com']);">ceph</a>。于是rook通过将那些专有存储服务管理员的日常操作自动化：包括引导启动、配置、伸缩、升级、迁移、灾难恢复、监控、资源管理，将存储服务包装为云原生应用，无缝运行在云原生环境上，目前主要是在Kubernetes上。</p>
<p><img src="http://tonybai.com/wp-content/uploads/weekly-issues/9th-issue/rook-architecture.png" alt="img{512x368}" /><br />
图：rook架构</p>
<p>Rook的出现，迅速得到了来自Redhat、ceph开发者的支持，社区也在日益壮大。目前其最新版本为v0.6.2，按计划在2018年中旬发布第一个production-ready的正式版。</p>
<p>项目地址：<a href="https://github.com/rook/rook" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">Rook</a></p>
<h2>四、一周图书推荐</h2>
<h3>1.《High Performance Browser Networking》</h3>
<p><img src="http://tonybai.com/wp-content/uploads/weekly-issues/9th-issue/book-high-performance-browser-networking.jpg" alt="img{512x368}" /></p>
<p>Ilya Grigorik是Google性能优化工程师，他在2013出版的这本<a href="https://book.douban.com/subject/21866396/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://book.douban.com']);">《High Performance Browser Networking》</a>堪称当代Web性能调优的圣经。该书以调优为核心，从网络基础(101)讲起，然后深入探讨了无线和移动网络的工作机制。最后，揭示了HTTP 协议的底层细节，同时详细介绍了HTTP 2.0、 XHR、SSE、WebSocket、WebRTC 和DataChannel 等现代浏览器新增的具有革命性的新能力。该书无论是对前端开发，还是后端网络服务开发设计人员都是大有裨益的。</p>
<p>更重要的是该书当时所讲述的诸多浏览器协议技术，比如：HTTP2.0、WebSocket、SSE在如今已经成为标准，并广泛应用于生产实践中。</p>
<p>图书链接：<br />
   英文版：<a href="https://book.douban.com/subject/21866396/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://book.douban.com']);">《High Performance Browser Networking》</a><br />
   中文版：<a href="https://book.douban.com/subject/25856314/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://book.douban.com']);">《Web性能权威指南》</a><br />
   免费版：<a href="https://hpbn.co/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://hpbn.co']);">《High Performance Browser Networking》</a></p>
<hr />
<p>著名云主机服务厂商DigitalOcean发布最新的主机计划，入门级Droplet配置升级为：1 core CPU、1G内存、25G高速SSD，价格5$/月。有使用DigitalOcean需求的朋友，可以打开这个<a href="https://m.do.co/c/bff6eed92687" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://m.do.co']);">链接地址</a>：https://m.do.co/c/bff6eed92687 开启你的DO主机之路。</p>
<p>我的联系方式：</p>
<p>微博：http://weibo.com/bigwhite20xx<br />
微信公众号：iamtonybai<br />
博客：tonybai.com<br />
github: https://github.com/bigwhite</p>
<p>微信赞赏：<br />
<img src="http://tonybai.com/wp-content/uploads/wechat-zanshang-code-512x512.jpg" alt="img{512x368}" /></p>
<p>商务合作方式：撰稿、出书、培训、在线课程、合伙创业、咨询、广告合作</p>
				</div>
			</article>
				<ol class="page-navigator"><li class='current'><span>1</span></li><li><a href='https://tonybai.com/page/2/' title='第 2 页'>2</a></li><li><a href='https://tonybai.com/page/3/' title='第 3 页'>3</a></li><li><a href='https://tonybai.com/page/4/' title='第 4 页'>4</a></li><li><a href='https://tonybai.com/page/5/' title='第 5 页'>5</a></li><li><a href='https://tonybai.com/page/6/' title='第 6 页'>6</a></li><li><span>...</span></li><li><a href='https://tonybai.com/page/2/' title='Next &raquo;'>Next &raquo;</a></li></ol>	</div>
</div>
<div id="secondary">
	<section class="widget">
        <form id="search" method="get" action="https://tonybai.com">
			<input type="text" name="s" class="text" placeholder="输入关键字搜索" />
			<button type="submit" class="submit">搜索</button>
        </form>
    </section>
	<section id="wpm_subscribe_widget-3" class="widget widget_wpm_subscribe_widget"><h3 class="widget-title">欢迎使用邮件订阅我的博客</h3><form class="wpm_form" method="post"><input class="wpm_hiddenfield" name="wpm_form" type="hidden" value="1"><p class="wpm_prepend">输入邮箱订阅本站，只要有新文章发布，就会第一时间发送邮件通知你哦！</p><p class="wpm_name">
            <label class="wpm_namelabel" for="wpm_name">名字：</label>
            <input class="wpm_nameinput" placeholder="请输入您的名字" name="wpm_name" type="text" value="">
            </p><p class="wpm_email">
            <label class="wpm_emaillabel" for="wpm_email">邮箱:</label>
            <input class="wpm_emailinput" name="wpm_email" placeholder="请输入您的电子邮箱" type="text" value="">
            </p><p class="wpm_submit"><input name="submit" class="btn wpm_submitbtn" type="submit" value="马上订阅"></p></form></section><section id="text-3" class="widget widget_text">			<div class="textwidget"><p><!--<br />
<img src="/wp-content/uploads/daughter-photo-300x225.jpg" align="center" /></p>
<p><img src="/wp-content/uploads/daughter-3-years-old-225x300.jpg" align="center" /><br />
--></p>
<p><a href="http://feed.tonybai.com"><br />
<img src="/wp-content/uploads/alipay_qr_small.png" align="center" /><br />
</a><br />
这里是<a href="http://weibo.com/bigwhite20xx" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','http://weibo.com']);">Tony Bai</a>的个人Blog，欢迎访问、订阅和留言！<font size="+1" color="red">订阅Feed请点击上面图片</font>。</p>
<p>如果您觉得这里的文章对您有帮助，请扫描上方二维码进行捐赠，加油后的Tony Bai将会为您呈现更多精彩的文章，谢谢！</p>
<p>如果您希望通过微信捐赠，请用微信客户端扫描下方赞赏码：<br />
<a href="http://feed.tonybai.com"><br />
<img src="/wp-content/uploads/wechat-zanshang-qr.png" width="256" height="239" align="center" /><br />
</a></p>
<p>如果您希望通过比特币或以太币捐赠，可以扫描下方二维码：</p>
<p>比特币：<br />
<a href="http://feed.tonybai.com"><br />
<img src="/wp-content/uploads/bitcoin-qr.png" align="center" /><br />
</a></p>
<p>以太币：<br />
<a href="http://feed.tonybai.com"><br />
<img src="/wp-content/uploads/ethereum-qr.png" align="center" /><br />
</a></p>
<p>如果您喜欢通过微信App浏览本站内容，可以扫描下方二维码，订阅本站官方微信订阅号“iamtonybai”；点击二维码，可直达本人官方微博主页^_^：</p>
<p><a href="http://weibo.com/bigwhite20xx"><br />
<img src="/wp-content/uploads/qrcode_for_gh_39d38f08f440_258.jpg" align="center" /><br />
</a></p>
<p>本站Powered by Digital Ocean VPS。<br />
<a href="https://www.digitalocean.com/?refcode=bff6eed92687"><br />
选择Digital Ocean VPS主机，即可获得10美元现金充值，可免费使用两个月哟！</a></p>
<p>著名主机提供商Linode 10$优惠码：linode10，在<a href="https://www.linode.com/?r=ec42f83592f2ddfc8f487c0428a9b74fa1b2984b" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','http://www.linode.com']);">这里注册</a>即可免费获得。</p>
<p>阿里云推荐码：<font size="+1" color="red">1WFZ0V</font>，<font size="+1" color="red">立享9折！</font></p>
<p><img src="http://tonybai.com/wp-content/uploads/tonybai-gmail-image.png"   align="center" /></p>
<p><a href="http://cn.linkedin.com/in/bigwhite"></p>
<p>          <img src="http://www.linkedin.com/img/webpromo/btn_myprofile_160x33.png" width="160" height="33" border="0" alt="View Tony Bai's profile on LinkedIn"></p>
<p></a>        </p>
<p><!--<br />
<script charset="gbk" src="http://p.tanx.com/ex?i=mm_72934676_11332019_40046076"></script><br />
--><br />
<!--<br />
2014世界杯必玩手游《手指足球世界杯2014》(Flick World Cup)发布了，欢迎点击下面图片或扫描二维码下载！关于游戏的详细介绍请参见<a href="http://iwobi.net" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','http://iwobi.net']);">官方网站说明</a>。<br />
<a href="http://iwobi.net/download/FlickWorldCup.apk" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','http://iwobi.net']);"><img src="http://iwobi.net/images/flickworldcup-qr.png" alt="二维码" width="180" height="180" align="center"/></a></p>
<p>我的第一款手机游戏习作《绕桩王》(Slalom King)，欢迎点击下面图片或扫描二维码下载！<br />
<a href="http://iwobi.net/download/SlalomKing.apk" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','http://iwobi.net']);"><img src="http://iwobi.net/images/slalomking-qr.png" alt="二维码" width="180" height="180" align="center"/></a><br />
--></p>
</div>
		</section>		<section id="recent-posts-3" class="widget widget_recent_entries">		<h3 class="widget-title">文章</h3>		<ul>
				<li><a href="https://tonybai.com/2018/03/03/10th-issue-of-the-tech-weekly-carefully-chosen-by-tonybai/" title="TB一周萃选[第10期]">TB一周萃选[第10期]</a></li>
				<li><a href="https://tonybai.com/2018/02/17/some-changes-in-go-1-10/" title="Go 1.10中值得关注的几个变化">Go 1.10中值得关注的几个变化</a></li>
				<li><a href="https://tonybai.com/2018/02/11/9th-issue-of-the-tech-weekly-carefully-chosen-by-tonybai/" title="TB一周萃选[第9期]">TB一周萃选[第9期]</a></li>
				<li><a href="https://tonybai.com/2018/02/03/8th-issue-of-the-tech-weekly-carefully-chosen-by-tonybai/" title="TB一周萃选[第8期]">TB一周萃选[第8期]</a></li>
				<li><a href="https://tonybai.com/2018/01/28/7th-issue-of-the-tech-weekly-carefully-chosen-by-tonybai/" title="TB一周萃选[第7期]">TB一周萃选[第7期]</a></li>
				<li><a href="https://tonybai.com/2018/01/27/the-problems-i-encountered-when-writing-go-code-issue-2nd/" title="写Go代码时遇到的那些问题[第2期]">写Go代码时遇到的那些问题[第2期]</a></li>
				<li><a href="https://tonybai.com/2018/01/20/6th-issue-of-the-tech-weekly-carefully-chosen-by-tonybai/" title="TB一周萃选[第6期]">TB一周萃选[第6期]</a></li>
				<li><a href="https://tonybai.com/2018/01/14/5th-issue-of-the-tech-weekly-carefully-chosen-by-tonybai/" title="TB一周萃选[第5期]">TB一周萃选[第5期]</a></li>
				<li><a href="https://tonybai.com/2018/01/13/the-problems-i-encountered-when-writing-go-code-issue-1st/" title="写Go代码时遇到的那些问题[第1期]">写Go代码时遇到的那些问题[第1期]</a></li>
				<li><a href="https://tonybai.com/2018/01/06/4th-issue-of-the-tech-weekly-carefully-chosen-by-tonybai/" title="TB一周萃选[第4期]">TB一周萃选[第4期]</a></li>
				</ul>
		</section><section id="recentcomments" class="widget widget_recentcomments"><h3 class="widget-title">评论</h3><ul><li class="rc-navi rc-clearfix"><span class="rc-loading">正在加载...</span></li><li id="rc-comment-temp" class="rc-item rc-comment rc-clearfix"><div class="rc-info"></div><div class="rc-timestamp"></div><div class="rc-excerpt"></div></li><li id="rc-ping-temp" class="rc-item rc-ping rc-clearfix"><span class="rc-label"></span></li></ul></section><section id="categories-3" class="widget widget_categories"><h3 class="widget-title">分类</h3>		<ul>
	<li class="cat-item cat-item-3"><a href="https://tonybai.com/category/images-collection/" title="查看 光影汇 下的所有文章">光影汇</a> (7)
</li>
	<li class="cat-item cat-item-4"><a href="https://tonybai.com/category/media-square/" title="查看 影音坊 下的所有文章">影音坊</a> (36)
</li>
	<li class="cat-item cat-item-5"><a href="https://tonybai.com/category/thoughts-center/" title="查看 思考控 下的所有文章">思考控</a> (66)
</li>
	<li class="cat-item cat-item-6"><a href="https://tonybai.com/category/technical-notes/" title="查看 技术志 下的所有文章">技术志</a> (551)
</li>
	<li class="cat-item cat-item-2223"><a href="https://tonybai.com/category/edu-notes/" title="查看 教育记 下的所有文章">教育记</a> (1)
</li>
	<li class="cat-item cat-item-7"><a href="https://tonybai.com/category/groceries-store/" title="查看 杂货铺 下的所有文章">杂货铺</a> (75)
</li>
	<li class="cat-item cat-item-8"><a href="https://tonybai.com/category/living-notes/" title="查看 生活簿 下的所有文章">生活簿</a> (154)
</li>
	<li class="cat-item cat-item-9"><a href="https://tonybai.com/category/career-notes/" title="查看 职场录 下的所有文章">职场录</a> (14)
</li>
	<li class="cat-item cat-item-10"><a href="https://tonybai.com/category/reading-bar/" title="查看 读书吧 下的所有文章">读书吧</a> (14)
</li>
	<li class="cat-item cat-item-11"><a href="https://tonybai.com/category/sports-fan/" title="查看 运动迷 下的所有文章">运动迷</a> (107)
</li>
	<li class="cat-item cat-item-12"><a href="https://tonybai.com/category/tourist-show/" title="查看 驴友秀 下的所有文章">驴友秀</a> (40)
</li>
		</ul>
</section><section id="tag_cloud-3" class="widget widget_tag_cloud"><h3 class="widget-title">标签</h3><div class="tagcloud"><a href='https://tonybai.com/tag/blog/' class='tag-link-56' title='886 个话题' style='font-size: 22pt;'>Blog</a>
<a href='https://tonybai.com/tag/blogger/' class='tag-link-58' title='370 个话题' style='font-size: 18.27972027972pt;'>Blogger</a>
<a href='https://tonybai.com/tag/c/' class='tag-link-67' title='333 个话题' style='font-size: 17.79020979021pt;'>C</a>
<a href='https://tonybai.com/tag/cpp/' class='tag-link-92' title='48 个话题' style='font-size: 9.6643356643357pt;'>Cpp</a>
<a href='https://tonybai.com/tag/docker/' class='tag-link-1526' title='68 个话题' style='font-size: 11.132867132867pt;'>docker</a>
<a href='https://tonybai.com/tag/english/' class='tag-link-126' title='32 个话题' style='font-size: 8pt;'>English</a>
<a href='https://tonybai.com/tag/gcc/' class='tag-link-145' title='90 个话题' style='font-size: 12.307692307692pt;'>GCC</a>
<a href='https://tonybai.com/tag/github/' class='tag-link-1078' title='55 个话题' style='font-size: 10.251748251748pt;'>github</a>
<a href='https://tonybai.com/tag/gnu/' class='tag-link-152' title='57 个话题' style='font-size: 10.34965034965pt;'>GNU</a>
<a href='https://tonybai.com/tag/go/' class='tag-link-1114' title='112 个话题' style='font-size: 13.188811188811pt;'>Go</a>
<a href='https://tonybai.com/tag/golang/' class='tag-link-1137' title='112 个话题' style='font-size: 13.188811188811pt;'>Golang</a>
<a href='https://tonybai.com/tag/google/' class='tag-link-154' title='86 个话题' style='font-size: 12.111888111888pt;'>Google</a>
<a href='https://tonybai.com/tag/java/' class='tag-link-178' title='52 个话题' style='font-size: 9.958041958042pt;'>Java</a>
<a href='https://tonybai.com/tag/k8s/' class='tag-link-1992' title='40 个话题' style='font-size: 8.8811188811189pt;'>k8s</a>
<a href='https://tonybai.com/tag/kernel/' class='tag-link-191' title='38 个话题' style='font-size: 8.6853146853147pt;'>Kernel</a>
<a href='https://tonybai.com/tag/kubernetes/' class='tag-link-1794' title='56 个话题' style='font-size: 10.34965034965pt;'>Kubernetes</a>
<a href='https://tonybai.com/tag/linux/' class='tag-link-205' title='126 个话题' style='font-size: 13.678321678322pt;'>Linux</a>
<a href='https://tonybai.com/tag/m10/' class='tag-link-207' title='40 个话题' style='font-size: 8.8811188811189pt;'>M10</a>
<a href='https://tonybai.com/tag/opensource/' class='tag-link-252' title='199 个话题' style='font-size: 15.636363636364pt;'>Opensource</a>
<a href='https://tonybai.com/tag/programmer/' class='tag-link-268' title='456 个话题' style='font-size: 19.160839160839pt;'>Programmer</a>
<a href='https://tonybai.com/tag/python/' class='tag-link-275' title='45 个话题' style='font-size: 9.3706293706294pt;'>Python</a>
<a href='https://tonybai.com/tag/solaris/' class='tag-link-309' title='43 个话题' style='font-size: 9.1748251748252pt;'>Solaris</a>
<a href='https://tonybai.com/tag/subversion/' class='tag-link-318' title='37 个话题' style='font-size: 8.5874125874126pt;'>Subversion</a>
<a href='https://tonybai.com/tag/ubuntu/' class='tag-link-350' title='120 个话题' style='font-size: 13.482517482517pt;'>Ubuntu</a>
<a href='https://tonybai.com/tag/unix/' class='tag-link-354' title='88 个话题' style='font-size: 12.20979020979pt;'>Unix</a>
<a href='https://tonybai.com/tag/windows/' class='tag-link-365' title='45 个话题' style='font-size: 9.3706293706294pt;'>Windows</a>
<a href='https://tonybai.com/tag/%e4%b8%96%e7%95%8c%e6%9d%af/' class='tag-link-389' title='36 个话题' style='font-size: 8.4895104895105pt;'>世界杯</a>
<a href='https://tonybai.com/tag/%e5%8d%9a%e5%ae%a2/' class='tag-link-489' title='815 个话题' style='font-size: 21.608391608392pt;'>博客</a>
<a href='https://tonybai.com/tag/%e5%ad%a6%e4%b9%a0/' class='tag-link-581' title='48 个话题' style='font-size: 9.6643356643357pt;'>学习</a>
<a href='https://tonybai.com/tag/%e5%ae%b9%e5%99%a8/' class='tag-link-1131' title='47 个话题' style='font-size: 9.5664335664336pt;'>容器</a>
<a href='https://tonybai.com/tag/%e5%b7%a5%e4%bd%9c/' class='tag-link-600' title='96 个话题' style='font-size: 12.601398601399pt;'>工作</a>
<a href='https://tonybai.com/tag/%e5%b7%b4%e8%90%a8/' class='tag-link-603' title='62 个话题' style='font-size: 10.741258741259pt;'>巴萨</a>
<a href='https://tonybai.com/tag/%e5%bc%80%e6%ba%90/' class='tag-link-618' title='198 个话题' style='font-size: 15.636363636364pt;'>开源</a>
<a href='https://tonybai.com/tag/%e6%80%9d%e8%80%83/' class='tag-link-632' title='145 个话题' style='font-size: 14.265734265734pt;'>思考</a>
<a href='https://tonybai.com/tag/%e6%84%9f%e6%82%9f/' class='tag-link-642' title='201 个话题' style='font-size: 15.734265734266pt;'>感悟</a>
<a href='https://tonybai.com/tag/%e6%91%84%e5%bd%b1/' class='tag-link-666' title='56 个话题' style='font-size: 10.34965034965pt;'>摄影</a>
<a href='https://tonybai.com/tag/%e6%97%85%e6%b8%b8/' class='tag-link-693' title='40 个话题' style='font-size: 8.8811188811189pt;'>旅游</a>
<a href='https://tonybai.com/tag/%e6%a2%85%e8%a5%bf/' class='tag-link-738' title='74 个话题' style='font-size: 11.524475524476pt;'>梅西</a>
<a href='https://tonybai.com/tag/%e7%90%83%e7%8e%8b/' class='tag-link-819' title='34 个话题' style='font-size: 8.1958041958042pt;'>球王</a>
<a href='https://tonybai.com/tag/%e7%94%9f%e6%b4%bb/' class='tag-link-825' title='247 个话题' style='font-size: 16.517482517483pt;'>生活</a>
<a href='https://tonybai.com/tag/%e7%a8%8b%e5%ba%8f%e5%91%98/' class='tag-link-853' title='476 个话题' style='font-size: 19.356643356643pt;'>程序员</a>
<a href='https://tonybai.com/tag/%e7%bc%96%e8%af%91%e5%99%a8/' class='tag-link-886' title='44 个话题' style='font-size: 9.2727272727273pt;'>编译器</a>
<a href='https://tonybai.com/tag/%e8%a5%bf%e7%94%b2/' class='tag-link-927' title='49 个话题' style='font-size: 9.7622377622378pt;'>西甲</a>
<a href='https://tonybai.com/tag/%e8%b6%b3%e7%90%83/' class='tag-link-954' title='70 个话题' style='font-size: 11.230769230769pt;'>足球</a>
<a href='https://tonybai.com/tag/%e9%a9%b4%e5%8f%8b/' class='tag-link-1029' title='33 个话题' style='font-size: 8.0979020979021pt;'>驴友</a></div>
</section><section id="archives-3" class="widget widget_archive"><h3 class="widget-title">归档</h3>		<ul>
			<li><a href='https://tonybai.com/2018/03/' title='2018 年三月'>2018 年三月</a>&nbsp;(1)</li>
	<li><a href='https://tonybai.com/2018/02/' title='2018 年二月'>2018 年二月</a>&nbsp;(3)</li>
	<li><a href='https://tonybai.com/2018/01/' title='2018 年一月'>2018 年一月</a>&nbsp;(7)</li>
	<li><a href='https://tonybai.com/2017/12/' title='2017 年十二月'>2017 年十二月</a>&nbsp;(5)</li>
	<li><a href='https://tonybai.com/2017/11/' title='2017 年十一月'>2017 年十一月</a>&nbsp;(4)</li>
	<li><a href='https://tonybai.com/2017/10/' title='2017 年十月'>2017 年十月</a>&nbsp;(3)</li>
	<li><a href='https://tonybai.com/2017/09/' title='2017 年九月'>2017 年九月</a>&nbsp;(2)</li>
	<li><a href='https://tonybai.com/2017/08/' title='2017 年八月'>2017 年八月</a>&nbsp;(3)</li>
	<li><a href='https://tonybai.com/2017/07/' title='2017 年七月'>2017 年七月</a>&nbsp;(4)</li>
	<li><a href='https://tonybai.com/2017/06/' title='2017 年六月'>2017 年六月</a>&nbsp;(8)</li>
	<li><a href='https://tonybai.com/2017/05/' title='2017 年五月'>2017 年五月</a>&nbsp;(5)</li>
	<li><a href='https://tonybai.com/2017/04/' title='2017 年四月'>2017 年四月</a>&nbsp;(3)</li>
	<li><a href='https://tonybai.com/2017/03/' title='2017 年三月'>2017 年三月</a>&nbsp;(2)</li>
	<li><a href='https://tonybai.com/2017/02/' title='2017 年二月'>2017 年二月</a>&nbsp;(5)</li>
	<li><a href='https://tonybai.com/2017/01/' title='2017 年一月'>2017 年一月</a>&nbsp;(7)</li>
	<li><a href='https://tonybai.com/2016/12/' title='2016 年十二月'>2016 年十二月</a>&nbsp;(7)</li>
	<li><a href='https://tonybai.com/2016/11/' title='2016 年十一月'>2016 年十一月</a>&nbsp;(7)</li>
	<li><a href='https://tonybai.com/2016/10/' title='2016 年十月'>2016 年十月</a>&nbsp;(3)</li>
	<li><a href='https://tonybai.com/2016/09/' title='2016 年九月'>2016 年九月</a>&nbsp;(2)</li>
	<li><a href='https://tonybai.com/2016/08/' title='2016 年八月'>2016 年八月</a>&nbsp;(1)</li>
	<li><a href='https://tonybai.com/2016/06/' title='2016 年六月'>2016 年六月</a>&nbsp;(2)</li>
	<li><a href='https://tonybai.com/2016/05/' title='2016 年五月'>2016 年五月</a>&nbsp;(2)</li>
	<li><a href='https://tonybai.com/2016/04/' title='2016 年四月'>2016 年四月</a>&nbsp;(2)</li>
	<li><a href='https://tonybai.com/2016/03/' title='2016 年三月'>2016 年三月</a>&nbsp;(2)</li>
	<li><a href='https://tonybai.com/2016/02/' title='2016 年二月'>2016 年二月</a>&nbsp;(3)</li>
	<li><a href='https://tonybai.com/2016/01/' title='2016 年一月'>2016 年一月</a>&nbsp;(2)</li>
	<li><a href='https://tonybai.com/2015/12/' title='2015 年十二月'>2015 年十二月</a>&nbsp;(1)</li>
	<li><a href='https://tonybai.com/2015/11/' title='2015 年十一月'>2015 年十一月</a>&nbsp;(1)</li>
	<li><a href='https://tonybai.com/2015/10/' title='2015 年十月'>2015 年十月</a>&nbsp;(1)</li>
	<li><a href='https://tonybai.com/2015/09/' title='2015 年九月'>2015 年九月</a>&nbsp;(3)</li>
	<li><a href='https://tonybai.com/2015/08/' title='2015 年八月'>2015 年八月</a>&nbsp;(5)</li>
	<li><a href='https://tonybai.com/2015/07/' title='2015 年七月'>2015 年七月</a>&nbsp;(6)</li>
	<li><a href='https://tonybai.com/2015/06/' title='2015 年六月'>2015 年六月</a>&nbsp;(4)</li>
	<li><a href='https://tonybai.com/2015/05/' title='2015 年五月'>2015 年五月</a>&nbsp;(1)</li>
	<li><a href='https://tonybai.com/2015/04/' title='2015 年四月'>2015 年四月</a>&nbsp;(2)</li>
	<li><a href='https://tonybai.com/2015/03/' title='2015 年三月'>2015 年三月</a>&nbsp;(2)</li>
	<li><a href='https://tonybai.com/2015/01/' title='2015 年一月'>2015 年一月</a>&nbsp;(2)</li>
	<li><a href='https://tonybai.com/2014/12/' title='2014 年十二月'>2014 年十二月</a>&nbsp;(5)</li>
	<li><a href='https://tonybai.com/2014/11/' title='2014 年十一月'>2014 年十一月</a>&nbsp;(8)</li>
	<li><a href='https://tonybai.com/2014/10/' title='2014 年十月'>2014 年十月</a>&nbsp;(9)</li>
	<li><a href='https://tonybai.com/2014/09/' title='2014 年九月'>2014 年九月</a>&nbsp;(2)</li>
	<li><a href='https://tonybai.com/2014/08/' title='2014 年八月'>2014 年八月</a>&nbsp;(1)</li>
	<li><a href='https://tonybai.com/2014/07/' title='2014 年七月'>2014 年七月</a>&nbsp;(1)</li>
	<li><a href='https://tonybai.com/2014/05/' title='2014 年五月'>2014 年五月</a>&nbsp;(2)</li>
	<li><a href='https://tonybai.com/2014/04/' title='2014 年四月'>2014 年四月</a>&nbsp;(5)</li>
	<li><a href='https://tonybai.com/2014/03/' title='2014 年三月'>2014 年三月</a>&nbsp;(4)</li>
	<li><a href='https://tonybai.com/2014/02/' title='2014 年二月'>2014 年二月</a>&nbsp;(1)</li>
	<li><a href='https://tonybai.com/2014/01/' title='2014 年一月'>2014 年一月</a>&nbsp;(1)</li>
	<li><a href='https://tonybai.com/2013/12/' title='2013 年十二月'>2013 年十二月</a>&nbsp;(3)</li>
	<li><a href='https://tonybai.com/2013/11/' title='2013 年十一月'>2013 年十一月</a>&nbsp;(5)</li>
	<li><a href='https://tonybai.com/2013/10/' title='2013 年十月'>2013 年十月</a>&nbsp;(6)</li>
	<li><a href='https://tonybai.com/2013/09/' title='2013 年九月'>2013 年九月</a>&nbsp;(4)</li>
	<li><a href='https://tonybai.com/2013/08/' title='2013 年八月'>2013 年八月</a>&nbsp;(5)</li>
	<li><a href='https://tonybai.com/2013/07/' title='2013 年七月'>2013 年七月</a>&nbsp;(6)</li>
	<li><a href='https://tonybai.com/2013/06/' title='2013 年六月'>2013 年六月</a>&nbsp;(2)</li>
	<li><a href='https://tonybai.com/2013/05/' title='2013 年五月'>2013 年五月</a>&nbsp;(6)</li>
	<li><a href='https://tonybai.com/2013/04/' title='2013 年四月'>2013 年四月</a>&nbsp;(3)</li>
	<li><a href='https://tonybai.com/2013/03/' title='2013 年三月'>2013 年三月</a>&nbsp;(7)</li>
	<li><a href='https://tonybai.com/2013/02/' title='2013 年二月'>2013 年二月</a>&nbsp;(4)</li>
	<li><a href='https://tonybai.com/2013/01/' title='2013 年一月'>2013 年一月</a>&nbsp;(6)</li>
	<li><a href='https://tonybai.com/2012/12/' title='2012 年十二月'>2012 年十二月</a>&nbsp;(8)</li>
	<li><a href='https://tonybai.com/2012/11/' title='2012 年十一月'>2012 年十一月</a>&nbsp;(10)</li>
	<li><a href='https://tonybai.com/2012/10/' title='2012 年十月'>2012 年十月</a>&nbsp;(5)</li>
	<li><a href='https://tonybai.com/2012/09/' title='2012 年九月'>2012 年九月</a>&nbsp;(3)</li>
	<li><a href='https://tonybai.com/2012/08/' title='2012 年八月'>2012 年八月</a>&nbsp;(10)</li>
	<li><a href='https://tonybai.com/2012/07/' title='2012 年七月'>2012 年七月</a>&nbsp;(4)</li>
	<li><a href='https://tonybai.com/2012/06/' title='2012 年六月'>2012 年六月</a>&nbsp;(2)</li>
	<li><a href='https://tonybai.com/2012/05/' title='2012 年五月'>2012 年五月</a>&nbsp;(4)</li>
	<li><a href='https://tonybai.com/2012/04/' title='2012 年四月'>2012 年四月</a>&nbsp;(10)</li>
	<li><a href='https://tonybai.com/2012/03/' title='2012 年三月'>2012 年三月</a>&nbsp;(8)</li>
	<li><a href='https://tonybai.com/2012/02/' title='2012 年二月'>2012 年二月</a>&nbsp;(6)</li>
	<li><a href='https://tonybai.com/2012/01/' title='2012 年一月'>2012 年一月</a>&nbsp;(6)</li>
	<li><a href='https://tonybai.com/2011/12/' title='2011 年十二月'>2011 年十二月</a>&nbsp;(4)</li>
	<li><a href='https://tonybai.com/2011/11/' title='2011 年十一月'>2011 年十一月</a>&nbsp;(4)</li>
	<li><a href='https://tonybai.com/2011/10/' title='2011 年十月'>2011 年十月</a>&nbsp;(5)</li>
	<li><a href='https://tonybai.com/2011/09/' title='2011 年九月'>2011 年九月</a>&nbsp;(8)</li>
	<li><a href='https://tonybai.com/2011/08/' title='2011 年八月'>2011 年八月</a>&nbsp;(7)</li>
	<li><a href='https://tonybai.com/2011/07/' title='2011 年七月'>2011 年七月</a>&nbsp;(6)</li>
	<li><a href='https://tonybai.com/2011/06/' title='2011 年六月'>2011 年六月</a>&nbsp;(7)</li>
	<li><a href='https://tonybai.com/2011/05/' title='2011 年五月'>2011 年五月</a>&nbsp;(8)</li>
	<li><a href='https://tonybai.com/2011/04/' title='2011 年四月'>2011 年四月</a>&nbsp;(6)</li>
	<li><a href='https://tonybai.com/2011/03/' title='2011 年三月'>2011 年三月</a>&nbsp;(10)</li>
	<li><a href='https://tonybai.com/2011/02/' title='2011 年二月'>2011 年二月</a>&nbsp;(7)</li>
	<li><a href='https://tonybai.com/2011/01/' title='2011 年一月'>2011 年一月</a>&nbsp;(10)</li>
	<li><a href='https://tonybai.com/2010/12/' title='2010 年十二月'>2010 年十二月</a>&nbsp;(7)</li>
	<li><a href='https://tonybai.com/2010/11/' title='2010 年十一月'>2010 年十一月</a>&nbsp;(6)</li>
	<li><a href='https://tonybai.com/2010/10/' title='2010 年十月'>2010 年十月</a>&nbsp;(7)</li>
	<li><a href='https://tonybai.com/2010/09/' title='2010 年九月'>2010 年九月</a>&nbsp;(12)</li>
	<li><a href='https://tonybai.com/2010/08/' title='2010 年八月'>2010 年八月</a>&nbsp;(8)</li>
	<li><a href='https://tonybai.com/2010/07/' title='2010 年七月'>2010 年七月</a>&nbsp;(3)</li>
	<li><a href='https://tonybai.com/2010/06/' title='2010 年六月'>2010 年六月</a>&nbsp;(5)</li>
	<li><a href='https://tonybai.com/2010/05/' title='2010 年五月'>2010 年五月</a>&nbsp;(4)</li>
	<li><a href='https://tonybai.com/2010/04/' title='2010 年四月'>2010 年四月</a>&nbsp;(2)</li>
	<li><a href='https://tonybai.com/2010/03/' title='2010 年三月'>2010 年三月</a>&nbsp;(6)</li>
	<li><a href='https://tonybai.com/2010/02/' title='2010 年二月'>2010 年二月</a>&nbsp;(4)</li>
	<li><a href='https://tonybai.com/2010/01/' title='2010 年一月'>2010 年一月</a>&nbsp;(6)</li>
	<li><a href='https://tonybai.com/2009/12/' title='2009 年十二月'>2009 年十二月</a>&nbsp;(6)</li>
	<li><a href='https://tonybai.com/2009/11/' title='2009 年十一月'>2009 年十一月</a>&nbsp;(6)</li>
	<li><a href='https://tonybai.com/2009/10/' title='2009 年十月'>2009 年十月</a>&nbsp;(5)</li>
	<li><a href='https://tonybai.com/2009/09/' title='2009 年九月'>2009 年九月</a>&nbsp;(8)</li>
	<li><a href='https://tonybai.com/2009/08/' title='2009 年八月'>2009 年八月</a>&nbsp;(8)</li>
	<li><a href='https://tonybai.com/2009/07/' title='2009 年七月'>2009 年七月</a>&nbsp;(8)</li>
	<li><a href='https://tonybai.com/2009/06/' title='2009 年六月'>2009 年六月</a>&nbsp;(2)</li>
	<li><a href='https://tonybai.com/2009/05/' title='2009 年五月'>2009 年五月</a>&nbsp;(5)</li>
	<li><a href='https://tonybai.com/2009/04/' title='2009 年四月'>2009 年四月</a>&nbsp;(7)</li>
	<li><a href='https://tonybai.com/2009/03/' title='2009 年三月'>2009 年三月</a>&nbsp;(12)</li>
	<li><a href='https://tonybai.com/2009/02/' title='2009 年二月'>2009 年二月</a>&nbsp;(9)</li>
	<li><a href='https://tonybai.com/2009/01/' title='2009 年一月'>2009 年一月</a>&nbsp;(15)</li>
	<li><a href='https://tonybai.com/2008/12/' title='2008 年十二月'>2008 年十二月</a>&nbsp;(9)</li>
	<li><a href='https://tonybai.com/2008/11/' title='2008 年十一月'>2008 年十一月</a>&nbsp;(5)</li>
	<li><a href='https://tonybai.com/2008/10/' title='2008 年十月'>2008 年十月</a>&nbsp;(10)</li>
	<li><a href='https://tonybai.com/2008/09/' title='2008 年九月'>2008 年九月</a>&nbsp;(13)</li>
	<li><a href='https://tonybai.com/2008/08/' title='2008 年八月'>2008 年八月</a>&nbsp;(13)</li>
	<li><a href='https://tonybai.com/2008/07/' title='2008 年七月'>2008 年七月</a>&nbsp;(3)</li>
	<li><a href='https://tonybai.com/2008/06/' title='2008 年六月'>2008 年六月</a>&nbsp;(1)</li>
	<li><a href='https://tonybai.com/2008/05/' title='2008 年五月'>2008 年五月</a>&nbsp;(7)</li>
	<li><a href='https://tonybai.com/2008/04/' title='2008 年四月'>2008 年四月</a>&nbsp;(4)</li>
	<li><a href='https://tonybai.com/2008/03/' title='2008 年三月'>2008 年三月</a>&nbsp;(9)</li>
	<li><a href='https://tonybai.com/2008/02/' title='2008 年二月'>2008 年二月</a>&nbsp;(11)</li>
	<li><a href='https://tonybai.com/2008/01/' title='2008 年一月'>2008 年一月</a>&nbsp;(15)</li>
	<li><a href='https://tonybai.com/2007/12/' title='2007 年十二月'>2007 年十二月</a>&nbsp;(11)</li>
	<li><a href='https://tonybai.com/2007/11/' title='2007 年十一月'>2007 年十一月</a>&nbsp;(14)</li>
	<li><a href='https://tonybai.com/2007/10/' title='2007 年十月'>2007 年十月</a>&nbsp;(4)</li>
	<li><a href='https://tonybai.com/2007/09/' title='2007 年九月'>2007 年九月</a>&nbsp;(5)</li>
	<li><a href='https://tonybai.com/2007/08/' title='2007 年八月'>2007 年八月</a>&nbsp;(1)</li>
	<li><a href='https://tonybai.com/2007/07/' title='2007 年七月'>2007 年七月</a>&nbsp;(10)</li>
	<li><a href='https://tonybai.com/2007/06/' title='2007 年六月'>2007 年六月</a>&nbsp;(10)</li>
	<li><a href='https://tonybai.com/2007/05/' title='2007 年五月'>2007 年五月</a>&nbsp;(10)</li>
	<li><a href='https://tonybai.com/2007/04/' title='2007 年四月'>2007 年四月</a>&nbsp;(8)</li>
	<li><a href='https://tonybai.com/2007/03/' title='2007 年三月'>2007 年三月</a>&nbsp;(15)</li>
	<li><a href='https://tonybai.com/2007/02/' title='2007 年二月'>2007 年二月</a>&nbsp;(4)</li>
	<li><a href='https://tonybai.com/2007/01/' title='2007 年一月'>2007 年一月</a>&nbsp;(17)</li>
	<li><a href='https://tonybai.com/2006/12/' title='2006 年十二月'>2006 年十二月</a>&nbsp;(18)</li>
	<li><a href='https://tonybai.com/2006/11/' title='2006 年十一月'>2006 年十一月</a>&nbsp;(9)</li>
	<li><a href='https://tonybai.com/2006/10/' title='2006 年十月'>2006 年十月</a>&nbsp;(11)</li>
	<li><a href='https://tonybai.com/2006/09/' title='2006 年九月'>2006 年九月</a>&nbsp;(6)</li>
	<li><a href='https://tonybai.com/2006/08/' title='2006 年八月'>2006 年八月</a>&nbsp;(5)</li>
	<li><a href='https://tonybai.com/2006/07/' title='2006 年七月'>2006 年七月</a>&nbsp;(22)</li>
	<li><a href='https://tonybai.com/2006/06/' title='2006 年六月'>2006 年六月</a>&nbsp;(35)</li>
	<li><a href='https://tonybai.com/2006/05/' title='2006 年五月'>2006 年五月</a>&nbsp;(24)</li>
	<li><a href='https://tonybai.com/2006/04/' title='2006 年四月'>2006 年四月</a>&nbsp;(26)</li>
	<li><a href='https://tonybai.com/2006/03/' title='2006 年三月'>2006 年三月</a>&nbsp;(25)</li>
	<li><a href='https://tonybai.com/2006/02/' title='2006 年二月'>2006 年二月</a>&nbsp;(18)</li>
	<li><a href='https://tonybai.com/2006/01/' title='2006 年一月'>2006 年一月</a>&nbsp;(15)</li>
	<li><a href='https://tonybai.com/2005/12/' title='2005 年十二月'>2005 年十二月</a>&nbsp;(10)</li>
	<li><a href='https://tonybai.com/2005/11/' title='2005 年十一月'>2005 年十一月</a>&nbsp;(10)</li>
	<li><a href='https://tonybai.com/2005/09/' title='2005 年九月'>2005 年九月</a>&nbsp;(13)</li>
	<li><a href='https://tonybai.com/2005/08/' title='2005 年八月'>2005 年八月</a>&nbsp;(11)</li>
	<li><a href='https://tonybai.com/2005/07/' title='2005 年七月'>2005 年七月</a>&nbsp;(6)</li>
	<li><a href='https://tonybai.com/2005/06/' title='2005 年六月'>2005 年六月</a>&nbsp;(2)</li>
	<li><a href='https://tonybai.com/2005/05/' title='2005 年五月'>2005 年五月</a>&nbsp;(3)</li>
	<li><a href='https://tonybai.com/2005/04/' title='2005 年四月'>2005 年四月</a>&nbsp;(6)</li>
	<li><a href='https://tonybai.com/2005/03/' title='2005 年三月'>2005 年三月</a>&nbsp;(1)</li>
	<li><a href='https://tonybai.com/2005/01/' title='2005 年一月'>2005 年一月</a>&nbsp;(15)</li>
	<li><a href='https://tonybai.com/2004/12/' title='2004 年十二月'>2004 年十二月</a>&nbsp;(9)</li>
	<li><a href='https://tonybai.com/2004/11/' title='2004 年十一月'>2004 年十一月</a>&nbsp;(14)</li>
	<li><a href='https://tonybai.com/2004/10/' title='2004 年十月'>2004 年十月</a>&nbsp;(2)</li>
	<li><a href='https://tonybai.com/2004/09/' title='2004 年九月'>2004 年九月</a>&nbsp;(2)</li>
		</ul>
</section><section id="linkcat-2214" class="widget widget_links"><h3 class="widget-title">私人</h3>
	<ul class='xoxo blogroll'>
<li><a href="http://daughter.tonybai.com/" rel="child" title="我的女儿的博客" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://daughter.tonybai.com/']);">我的女儿</a></li>

	</ul>
</section>
<section id="linkcat-1042" class="widget widget_links"><h3 class="widget-title">链接</h3>
	<ul class='xoxo blogroll'>
<li><a href="http://douban.com/people/tony_bai" rel="me" title="我的豆瓣" target="" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://douban.com/people/tony_bai']);">@douban</a></li>
<li><a href="http://www.flickr.com/photos/bigwhite/" title="我的Flickr" target="" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://www.flickr.com/photos/bigwhite/']);">@flickr</a></li>
<li><a href="https://github.com/bigwhite" rel="me" title="我的Github">@github</a></li>
<li><a href="http://code.google.com/p/bigwhite-code/" rel="me" title="我的Google Code" target="" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://code.google.com/p/bigwhite-code/']);">@googlecode</a></li>
<li><a href="http://picasaweb.google.com/bigwhite.cn" rel="me" title="我的PicasaWeb" target="" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://picasaweb.google.com/bigwhite.cn']);">@picasa</a></li>
<li><a href="http://www.slideshare.net/bigwhite20xx" rel="me" title="我的SlideShare" target="" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://www.slideshare.net/bigwhite20xx']);">@slideshare</a></li>
<li><a href="http://twitter.com/tony_bai" rel="me" title="我的Twitter" target="" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://twitter.com/tony_bai']);">@twitter</a></li>
<li><a href="http://weibo.com/bigwhite20xx" rel="me" target="" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://weibo.com/bigwhite20xx']);">@weibo</a></li>
<li><a href="http://www.hoterran.info/" rel="friend" title="Hoterran" target="" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://www.hoterran.info/']);">Hoterran</a></li>
<li><a href="http://leomessi.com" title="Lionel Messi" target="" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://leomessi.com']);">Lionel Messi</a></li>
<li><a href="http://puras.cn" rel="friend co-worker" title="Puras He" target="" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://puras.cn']);">Puras He</a></li>
<li><a href="http://dreamhead.blogbus.com" rel="friend" title="梦想风暴" target="" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://dreamhead.blogbus.com']);">梦想风暴</a></li>
<li><a href="http://84tt.com/blog" rel="friend" title="过眼云烟" target="" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://84tt.com/blog']);">过眼云烟</a></li>

	</ul>
</section>
<section id="linkcat-1043" class="widget widget_links"><h3 class="widget-title">开源项目</h3>
	<ul class='xoxo blogroll'>
<li><a href="http://code.google.com/p/buildc" rel="me" title="An assistant tool for c project building and packing management" target="" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://code.google.com/p/buildc']);">buildc</a></li>
<li><a href="http://code.google.com/p/cbehave" rel="me" title="A Behavior Driven Development Framework for C" target="" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://code.google.com/p/cbehave']);">cbehave</a></li>
<li><a href="http://code.google.com/p/lcut" rel="me" title="a Lightweight C Unit Testing framework" target="" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://code.google.com/p/lcut']);">lcut</a></li>

	</ul>
</section>
<section id="linkcat-1057" class="widget widget_links"><h3 class="widget-title">翻译项目</h3>
	<ul class='xoxo blogroll'>
<li><a href="http://code.google.com/p/recommended-c-style-and-coding-standards-cn/" title="C语言编码风格和标准" target="" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://code.google.com/p/recommended-c-style-and-coding-standards-cn/']);">C语言编码风格和标准</a></li>
<li><a href="http://code.google.com/p/programming-in-haskell-cn/" title="《Programming in Haskell》中文翻译项目" target="" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://code.google.com/p/programming-in-haskell-cn/']);">《Programming in Haskell》中文翻译项目</a></li>

	</ul>
</section>
<section id="text-4" class="widget widget_text">			<div class="textwidget"><!-- Google Reader Share-->
<script type="text/javascript" src="http://www.google.com/reader/ui/publisher-zh_CN.js"></script>
<script type="text/javascript" src="http://www.google.com/reader/public/javascript/user/01833917921607907799/state/com.google/broadcast?n=5&callback=GRC_p(%7Bc%3A%22blue%22%2Ct%3A%22Tony%20Bai%20%5Cu7684%5Cu5171%5Cu4EAB%5Cu6761%5Cu76EE%22%2Cs%3A%22true%22%2Cn%3A%22true%22%2Cb%3A%22false%22%7D)%3Bnew%20GRC"></script>
</a><br/><br/>

<!-- sina weibo widget -->
<iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=0&speed=0&skin=1&isTitle=1&noborder=1&isWeibo=1&isFans=1&uid=1823106383&verifier=6cf4cab8&dpc=1"></iframe>
</a><br/><br/>

<!-- douban show -->
<script type="text/javascript" src="http://www.douban.com/service/badge/tony_bai/?show=collection&amp;n=9&amp;columns=3&amp;hidelogo=yes" ></script>
<br/>
<!-- douban show end-->

<!-- my clustrmap -->
<!--
<div id="clustrmaps-widget"></div><script type="text/javascript">var _clustrmaps = {'url' : 'http://tonybai.com', 'user' : 1075598, 'server' : '4', 'id' : 'clustrmaps-widget', 'version' : 1, 'date' : '2013-01-30', 'lang' : 'zh', 'corners' : 'square' };(function (){ var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true; s.src = 'http://www4.clustrmaps.com/counter/map.js'; var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x);})();</script><noscript><a href="http://www4.clustrmaps.com/user/8d910698e" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','http://www4.clustrmaps.com']);"><img src="http://www4.clustrmaps.com/stats/maps-no_clusters/tonybai.com-thumb.jpg" alt="Locations of visitors to this page" /></a></noscript>
-->
<!-- my clustrmap end-->
<br/>


<br>
<script type="text/javascript" src="//rc.revolvermaps.com/0/0/2.js?i=2hcet0tjcib&amp;m=6&amp;s=130&amp;c=ff0000&amp;t=1" async="async"></script>
<br/>

<!-- Feedsky FEED 订阅统计发布代码开始 -->
<!--
<a href="http://feed.feedsky.com/bigwhite" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','http://feed.feedsky.com']);" title="Tony Bai" target="_blank"><img src="http://www.feedsky.com/feed/bigwhite/sc/orange.gif" style="border:0" alt="" /></a>
-->
<!-- Feedsky FEED 订阅统计发布代码结束 -->
<br/>

<div id="statcounter_image" style="display:inline;"><a
title="wordpress hit counter"
href="http://statcounter.com/wordpress.org/"
class="statcounter"><img
src="http://c.statcounter.com/7675050/0/05345dc4/0/"
alt="wordpress hit counter" style="border:none;" /></a>
<a href="http://statcounter.com/p7675050/?guest=1">View My
Stats</a></div>
<br/>

<!-- Baidu Button BEGIN -->
<div id="bdshare" class="bdshare_t bds_tools get-codes-bdshare">
<a class="bds_qzone"></a>
<a class="bds_tsina"></a>
<a class="bds_tqq"></a>
<a class="bds_renren"></a>
<a class="bds_t163"></a>
<span class="bds_more">更多</span>
<a class="shareCount"></a>
</div>
<script type="text/javascript" id="bdshare_js" data="type=tools&amp;uid=456117" ></script>
<script type="text/javascript" id="bdshell_js"></script>
<script type="text/javascript">
document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=" + Math.ceil(new Date()/3600000)
</script>
<!-- Baidu Button END -->

<!-- page rank button -->
<!--
<a href="http://www.prchecker.info/" title="Page Rank" target="_blank">
<img src="http://pr.prchecker.info/getpr.php?codex=aHR0cDovL3RvbnliYWkuY29t&tag=3" alt="Page Rank" style="border:0;" /></a>
-->
<! -- end of page rank button --></div>
		</section>    
</div>		</div>
    </div>
</div>
<footer id="footer">
	<div class="container">
		&copy; 2018 <a href="https://tonybai.com">Tony Bai</a>.
		由 <a href="http://wordpress.org">Wordpress</a> 强力驱动. 模板由<a href="http://pagecho.com">cho</a>制作.
	</div>
</footer>
<script type='text/javascript' src='https://tonybai.com/wp-content/plugins/wp-recentcomments/js/wp-recentcomments.js?ver=2.2.7'></script>
<script>
/* <![CDATA[ */
var rcGlobal = {
	serverUrl		:'https://tonybai.com',
	infoTemp		:'%REVIEWER% 在 %POST%',
	loadingText		:'正在加载',
	noCommentsText	:'没有任何评论',
	newestText		:'&laquo; 最新的',
	newerText		:'&laquo; 上一页',
	olderText		:'下一页 &raquo;',
	showContent		:'1',
	external		:'1',
	avatarSize		:'32',
	avatarPosition	:'left',
	anonymous		:'匿名'
};
/* ]]> */
</script>
</body>
</html>