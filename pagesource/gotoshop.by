<!DOCTYPE html><html lang="be" xmlns:og="http://ogp.me/ns#"><head><meta charset="utf-8" /><title>Акции и скидки супермаркетов Беларуси</title><meta http-equiv="X-UA-Compatible" content="IE=edge" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="x-dns-prefetch-control" content="on" /><meta name="description" content="Скидки на продукты, стройматериалы, электронику и бытовую технику, косметику, одежду, товары для детей и др." /><link rel="image_src" href="https://gotoshop.by/img/logo-large.png" /><meta property="og:image" content="https://gotoshop.by/img/logo-large.png" /><meta property="og:title" content="Акции и скидки супермаркетов Беларуси" /><meta property="og:description" content="Скидки на продукты, стройматериалы, электронику и бытовую технику, косметику, одежду, товары для детей и др." /><link rel="apple-touch-icon" sizes="57x57" href="/img/favicon/apple-touch-icon-57x57.png?v=gAAb6eWEj8"><link rel="apple-touch-icon" sizes="60x60" href="/img/favicon/apple-touch-icon-60x60.png?v=gAAb6eWEj8"><link rel="apple-touch-icon" sizes="72x72" href="/img/favicon/apple-touch-icon-72x72.png?v=gAAb6eWEj8"><link rel="apple-touch-icon" sizes="76x76" href="/img/favicon/apple-touch-icon-76x76.png?v=gAAb6eWEj8"><link rel="apple-touch-icon" sizes="114x114" href="/img/favicon/apple-touch-icon-114x114.png?v=gAAb6eWEj8"><link rel="apple-touch-icon" sizes="120x120" href="/img/favicon/apple-touch-icon-120x120.png?v=gAAb6eWEj8"><link rel="apple-touch-icon" sizes="144x144" href="/img/favicon/apple-touch-icon-144x144.png?v=gAAb6eWEj8"><link rel="apple-touch-icon" sizes="152x152" href="/img/favicon/apple-touch-icon-152x152.png?v=gAAb6eWEj8"><link rel="apple-touch-icon" sizes="180x180" href="/img/favicon/apple-touch-icon-180x180.png?v=gAAb6eWEj8"><link rel="icon" type="image/png" href="/img/favicon/favicon-32x32.png?v=gAAb6eWEj8" sizes="32x32"><link rel="icon" type="image/png" href="/img/favicon/android-chrome-192x192.png?v=gAAb6eWEj8" sizes="192x192"><link rel="icon" type="image/png" href="/img/favicon/favicon-96x96.png?v=gAAb6eWEj8" sizes="96x96"><link rel="icon" type="image/png" href="/img/favicon/favicon-16x16.png?v=gAAb6eWEj8" sizes="16x16"><link rel="manifest" href="/img/favicon/manifest.json?v=gAAb6eWEj8"><link rel="mask-icon" href="/img/favicon/safari-pinned-tab.svg?v=gAAb6eWEj8" color="#72b728"><link rel="shortcut icon" href="/img/favicon/favicon.ico?v=gAAb6eWEj8"><meta name="apple-mobile-web-app-title" content="GoToShop" /><meta name="application-name" content="GoToShop" /><meta name="msapplication-TileColor" content="#72b728" /><meta name="msapplication-TileImage" content="/img/favicon/mstile-144x144.png?v=gAAb6eWEj8" /><meta name="msapplication-config" content="/img/favicon/browserconfig.xml?v=gAAb6eWEj8" /><meta name="theme-color" content="#72b728" /><meta name="p:domain_verify" content="7f99cfbb82c461c852ad42d25958602c"/><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" /><link href='https://gotoshop.by/css/style.css?t=t1520268934' rel='stylesheet' /><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle=window.adsbygoogle || []).push({google_ad_client: "ca-pub-4948808761837166",enable_page_level_ads: true});</script></head><body class="index-page"><div class="wrapper" id="wrapper"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create', 'UA-54943312-1', 'auto');ga('send', 'pageview');</script><header class="navbar navbar-inverse hidden-print navbar-fixed-top" role="navigation"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="offcanvas"><span class="sr-only">Переключить меню</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand visible-xs-inline-block" rel="home" title="GoToShop - Акции и скидки супермаркетов Беларуси" href="/"><span><img height="20" alt="GoToShop - Акции и скидки супермаркетов Беларуси" src="https://gotoshop.by/img/logo-transp.png?1" /></span></a></div><div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"><ul class="nav navbar-nav navbar-right"><li class="dropdown account-menu-item" data-loginreload="accountdropdown"><a href="/account/login/"></span><span class="glyphicon glyphicon-log-in" aria-hidden="true"></span> Вход </a></li></ul><ul class="nav navbar-nav"><li class="dropdown account-menu-item"><a href="#" class="dropdown-toggle" data-toggle="dropdown"><span class="text">О сайте</span><span class="glyphicon glyphicon-menu-down"></span></a><ul class="dropdown-menu"><li><a href="/about/">О сайте</a></li><li><a href="/contact/">Связаться с нами</a></li><li><a href="/?clearcity">Города</a></li><li><a href="/about/privacypolicy/">Политика конфиденциальности</a></li><li class="divider"></li><li><a href="/about/apps/">Приложения для телефонов</a></li></ul></li></ul></div></div></header><div id="header" class="hidden-print hidden-xs"><div class="container"><div class="logo"><a rel="home" title="Акции и скидки супермаркетов Беларуси" href="/" ><img width="348" height="60" alt="GoToShop" src="https://gotoshop.by/img/logo.png?1" /><span class="tag-line"> Акции и скидки супермаркетов Беларуси </span></a></div></div></div><div id="content"><div class="container"><div class="row content"><div class="col-xs-12"><h2>Выберите город:</h2><div class="row cities-list"><div class="col-xs-12"><div class="row"><div class="col-sm-4"><ul><li><a title="Барановичский район" href="/baranovichi/"><span class="text">Барановичи</span></a></li><li><a title="Бобруйский район" href="/bobrujjsk/"><span class="text">Бобруйск</span></a></li><li><a title="Борисовский район" href="/borisov/"><span class="text">Борисов</span></a></li><li><a title="Брестский район" href="/brest/"><span class="text">Брест</span></a></li><li><a title="Витебский район" href="/vitebsk/"><span class="text">Витебск</span></a></li><li><a title="Гомельский район" href="/gomel/"><span class="text">Гомель</span></a></li><li><a title="Гродненский район" href="/grodno/"><span class="text">Гродно</span></a></li><li><a title="Жлобинский район" href="/zhlobin/"><span class="text">Жлобин</span></a></li></ul></div><div class="col-sm-4"><ul><li><a title="Лидский район" href="/lida/"><span class="text">Лида</span></a></li><li><a title="Минский район" href="/minsk/"><strong><span class="text">Минск</span></strong></a></li><li><a title="Могилевский район" href="/mogilev/"><span class="text">Могилев</span></a></li><li><a title="Мозырский район" href="/mozyr/"><span class="text">Мозырь</span></a></li><li><a title="Молодеченский район" href="/molodechno/"><span class="text">Молодечно</span></a></li><li><a title="Полоцкий район" href="/novopolock/"><span class="text">Новополоцк</span></a></li><li><a title="Оршанский район" href="/orsha/"><span class="text">Орша</span></a></li><li><a title="Пинский район" href="/pinsk/"><span class="text">Пинск</span></a></li></ul></div><div class="col-sm-4"><ul><li><a title="Полоцкий район" href="/polock/"><span class="text">Полоцк</span></a></li><li><a title="Речицкий район" href="/rechica/"><span class="text">Речица</span></a></li><li><a title="Светлогорский район" href="/svetlogorsk/"><span class="text">Светлогорск</span></a></li><li><a title="Солигорский район" href="/soligorsk/"><span class="text">Солигорск</span></a></li></ul></div></div></div><div class="col-xs-12"><p><a class="more-link" href="/cities/">больше городов</a></p></div><div class="col-xs-12"><div class="hidden-print"><div class="ads ads-bottom" style="visibility:visible!important;display:block!important;"><div class="ads-item"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4948808761837166" data-ad-slot="3938945330" data-ad-format="auto"></ins></div></div></div></div></div></div></div></div></div><div class="welcome-text"><div class="container"></div></div><footer class="hidden-print"><div class="container"><ul class="menu"><li><a href="/about/">О сайте</a></li><li>|</li><li><a href="/contact/">Связаться с нами</a></li><li>|</li><li><a href="/about/apps/">Приложения для телефонов</a></li></ul><p>&copy;2018 GoToShop.by - акции и скидки супермаркетов Беларуси. Все права защищены.</p></div></footer></div><div class="loader-bottom"><div class="loader-icon"></div></div><script type="text/javascript"> var config={websiteurl: 'https://gotoshop.by', originaltitle: document.title, country: 'Belarus', mapZoom: 12, mapsScriptUrl: 'https://maps.googleapis.com/maps/api/js?sensor=false&key=AIzaSyCpcSITwX5lqVY48omDLAWFMcTnQ-9AZ7w', countryLat: '49.397535', countryLng: '31.365991', city:{id: 0, lat: 0, lng: 0}, originalState: window.location.href, userId:0, user:{id:0, username:'', email:'', admin:0, fs: 0, askListBeforeAdd:0}, notesCookieName: "notes_", have18age: -1, isTouchDevice: (true==("ontouchstart" in window || window.DocumentTouch && document instanceof DocumentTouch)), isISO: (/iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream), browserTabActive: true, mousePressedDown: false, lang: 'be', money: '', disableAjax: false, categoriesDropdown: false, commentsguest: true, dateformaturl: 'd-m-Y', adsensePopupRight: '<ins class="adsbygoogle" style="display:block;text-align:center;" data-ad-format="fluid" data-ad-layout="in-article" data-ad-client="ca-pub-4948808761837166" data-ad-slot="2121055441"></ins>', adsensePopupLeft: '<ins class="adsbygoogle" style="display:block;text-align:center;" data-ad-format="fluid" data-ad-layout="in-article" data-ad-client="ca-pub-4948808761837166" data-ad-slot="4942659907"></ins>', sc: '{"googleplus":{"title":"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 Google+","url":"https:\/\/plus.google.com\/share?url={url}"},"twitter":{"title":"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 Twitter","url":"https:\/\/twitter.com\/share?text={description}&url={url}&counturl="},"facebook":{"title":"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 Facebook","url":"https:\/\/www.facebook.com\/sharer.php?s=100&p[title]={title}&p[summary]={description}&p[url]={url}&p[images][0]={image}"},"mail":{"title":"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 Mail.ru","url":"https:\/\/connect.mail.ru\/share?url={url}&title={title}&description={description}&imageurl={image}"},"ok":{"title":"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 \u041e\u0434\u043d\u043e\u043a\u043b\u0430\u0441\u0441\u043d\u0438\u043a\u0430\u0445","url":"https:\/\/www.ok.ru\/dk?st.cmd=addShare&st.s=1&st._surl={url}&st.comments={title}"},"vk":{"title":"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0412\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435","url":"https:\/\/vk.com\/share.php?url={url}&title={title}&description={description}&image={image}"}}', cd: function(d,m,y){return config.dateformaturl.replace('d',d).replace('m',m).replace('Y',y);}, deparam: function(str){var obj={};if (str){var pairs=str.split('&');for (j in pairs){var split=pairs[j].split('=');obj[decodeURIComponent(split[0])]=decodeURIComponent(split[1]);}}return obj;}, apu: function(url,parameter,value){parameter=encodeURI(parameter);value=encodeURI(value);var urlParams=url.split('?');if (urlParams.length > 1){var kvp=urlParams[1].split('&');var i=kvp.length;var x;while(i--){x=kvp[i].split('=');if (x[0]==parameter){x[1]=value;kvp[i]=x.join('=');break;}}if(i<0){kvp[kvp.length]=[parameter,value].join('=');}url=urlParams[0]+'?'+kvp.join('&');}else{url=url+'?'+parameter+'='+value;}return url;}, rpu: function(url, parameter){var urlparts=url.split('?');if (urlparts.length>=2){var prefix=encodeURIComponent(parameter)+'=';var pars=urlparts[1].split(/[&;]/g);for (var i=pars.length;i-- > 0;){if (pars[i].lastIndexOf(prefix, 0) !==-1){pars.splice(i, 1);}}url=urlparts[0]+(pars.length > 0 ? '?'+pars.join('&') : "");return url;}else{return url;}}, s: [], loadAdsense: function(){if ($('.adsbygoogle:not([data-adsbygoogle-status])').length){$('.adsbygoogle:not([data-adsbygoogle-status])').each(function (i, el){if ($(el).width()==0){$(el).remove();}else{try{(adsbygoogle=window.adsbygoogle || []).push({});}catch (e){}}});}}};var scriptsStarted=false;function startScripts(){if (typeof jQuery=='undefined' || scriptsStarted==true){return;}scriptsStarted=true;config.sc=jQuery.parseJSON(config.sc);if (config.websiteurl.search("https://gotoshop"+"."+"by")==-1){$('html').remove();}$('.discounts-carousel ul').width(($('.discounts-carousel ul li').length * 459));$('BODY').on('mouseup', function (e){config.mousePressedDown=false;});$('.disable-all-ajax-on-submit').on('submit', function (){config.disableAjax=true;});function isJsonString(str){try{JSON.parse(str);}catch (e){return false;}return true;}var showMessagePopup=function (type, message, title){var popupId='message-popup';var popup=$('#'+popupId);if (!popup.length){var popupHTML='';popupHTML+='<div class="modal-fixed" id="'+popupId+'" tabindex="-1" style="display:none;">';popupHTML+='<div class="message-body"></div>';popupHTML+='</div>';$('BODY').append(popupHTML);popup=$('#'+popupId);}if (type=='error'){$('.message-body', popup).html('<p class="alert alert-danger text-center">'+message+'</p>');}else{$('.message-body', popup).html('<p class="alert alert-info text-center">'+message+'</p>');}$(popup).show();setTimeout(function (){$(popup).hide();}, 5000);};var c=new Image();c.onload=function (){$(".loader-bottom .loader-icon").css("background-image", "url(https://gotoshop.by/img/ajax-loader-form-control.gif?t=t1411028826)");$(".loader-bottom").remove();};c.src="https://gotoshop.by/img/ajax-loader-form-control.gif?t=t1411028826";$('BODY').on('click', '.dropdown-discounts-date .discounts-date-selector, .datepicker.dropdown-menu', function (e){e.stopPropagation();});$('body').on('click', '.btn', function (){if ($(this).attr('data-loading-text')){$(this).button('loading');}});$('BODY').on('click', '.share-links .share-link', function (e){var shareUrl=config.originalState;var shareTitle=$('meta[property="og:title"]', document).attr('content');var shareDesc=$('meta[property="og:description"]', document).attr('content');var shareImage=$('meta[property="og:image"]', document).attr('content');var url=$(this).attr('href');url=url.replace('{url}', shareUrl);url=url.replace('{description}', shareDesc);url=url.replace('{title}', shareTitle);url=url.replace('{image}', shareImage);if (typeof ga !=='undefined'){ga('send', 'event', 'outbound', 'sharewebsite', url,{'transport': 'beacon'});}window.open(url);e.preventDefault();e.stopPropagation();});if (config.isTouchDevice){$.getScript("https://gotoshop.by/js/touch-device.js?t=t1516825626");}else{$('BODY').on('click', '[data-toggle="offcanvas"]', function (){$('BODY').toggleClass('sidebar-menu-open');});$('BODY').on('click', '.sidebar-menu-overlay', function (){$('BODY').toggleClass('sidebar-menu-open');});}var isPopupShowed=function (){return $('.modal.product:visible').length;};var getVisiblePopupObj=function (){var currentItemId=$('.modal.product:visible').attr('data-id');var currentItem=$('.item[data-id='+currentItemId+']');return currentItem.data('popup');};window.onpopstate=function (e){if ($('BODY').hasClass('sidebar-menu-open')){$('BODY').removeClass('sidebar-menu-open');}if (window.history.state !=null && window.history.state.sidebarmenu !=null){$('BODY').addClass('sidebar-menu-open');}if (e.state !=null && e.state.productId !=null){var el=$('.item[data-id="'+e.state.productId+'"] .'+e.state.className);el.attr('disablepushstate', '1');el.click();}else{if ($('BODY').hasClass('modal-open')){if (isPopupShowed()){var currentPopup=getVisiblePopupObj();currentPopup.hide();}if (e.state !=null && typeof e.state.scrollTop !='undefined' && e.state.scrollTop !=null){window.scrollTo(0, e.state.scrollTop);}}}};$(window).on("blur focus", function (e){var prevType=$(this).data("prevType");if (prevType !=e.type){switch (e.type){case "blur": config.browserTabActive=false;break;case "focus": config.browserTabActive=true;break;}}$(this).data("prevType", e.type);});jQuery.fn.sortElements=(function (){var sort=[].sort;return function (comparator, getSortable){getSortable=getSortable || function (){return this;};var placements=this.map(function (){var sortElement=getSortable.call(this), parentNode=sortElement.parentNode, nextSibling=parentNode.insertBefore( document.createTextNode(''), sortElement.nextSibling );return function (){if (parentNode===this){throw new Error( "You can't sort elements if any one is a descendant of another." );}parentNode.insertBefore(this, nextSibling);parentNode.removeChild(nextSibling);};});return sort.call(this, comparator).each(function (i){placements[i].call(getSortable.call(this));});};})();$('.btn-group-search').each(function (){var activeItem=$('.dropdown-menu.inner .active', this);if (activeItem.length){var button=$('.btn', this);var buttonText=$('.text', button);buttonText.text($('.text', activeItem).text());}});$('BODY').on('click', '.fixed-tabs .close', function (){if ($(this).parents('.choose-shops').length){$(".choose-shops").hide();}else{$('.overlay').remove();var li=$(this).parents("li.active-tab");var a=$('.tab-link', li);var t=$(a).attr("href");$(li).removeClass("active-tab");$(t).css("display", "none");}return false;});$('BODY').on('click', '.fixed-tabs .show-tab-link', function (){$(".overlay").remove();$(".fixed-tabs .active-tab .fixed-tabs-content").css("display", "none");$(".fixed-tabs .active-tab").removeClass("active-tab");var t=$(this).attr("href");var n=$(this).parents("li:first");if ($(t).is(":visible")){$(n).removeClass("active-tab");$(t).css("display", "none")}else{$(n).addClass("active-tab");$(t).css("display", "block");$("body").append('<div class="overlay"></div>');if ($(".subscribe-form").is(':visible')){$(".subscribe-form [name='email']").focus();}if ($("#contact-form").is(':visible')){$("#contact-form [name='message']").focus();}}return false});$('BODY').on('click', '.fixed-tabs', function (e){e.stopPropagation()});$("BODY").on('click', function (){$(".fixed-tabs .active-tab .show-tab-link").click()});$('BODY').on('click', '.overlay', function (){$('.fixed-tabs .close').click();});var lastScrollTop=0, bttBtn=$("#back-to-top"), bttbtnW=parseInt(bttBtn.width())+5, navbar=$('.navbar'), navbarH=parseInt(navbar.height()), cdlc=$('.cdl .c');$(window).scroll(function (){var st=$(this).scrollTop();if (st > 100){if (st > lastScrollTop){bttBtn.css('transform', 'translateX(0)');}else{bttBtn.css('transform', 'translateX(-70px)');}}else{bttBtn.css('transform', 'translateX(0px)');}var tr=navbar.css('transform'), trArr=tr.split(', '), navbarT=0;if (trArr[5]){navbarT=parseInt(trArr[5]);}if (st > lastScrollTop){navbarT=-1 * (navbarT - (st - lastScrollTop));if (navbarT > navbarH){navbarT=navbarH;}navbar.css('transform', 'translateY('+(-1 * navbarT)+'px)');}else{navbarT=navbarT+(lastScrollTop - st);if (navbarT > 0){navbar.css('transform', 'translateY(0)');}else{if (navbarT < 0){navbar.css('transform', 'translateY('+navbarT+'px)');}}}if (st==0){navbar.css('transform', 'translateY(0)');}var ft=$(".fixed-tabs");if (st > 100){if (st > lastScrollTop){ft.css('transform', 'translateX(0)');$('.beforesubscribebanner',ft).css('transform', 'translateX(100px)');}else{ft.css('transform', 'translateX(100px)');$('.beforesubscribebanner',ft).css('transform', 'translateX(0px)');}}else{ft.css('transform', 'translateX(0)');$('.beforesubscribebanner',ft).css('transform', 'translateX(100px)');}if (cdlc.length){var cSeen=0;$('.discounts .item:not(.ads-item)').each(function (i, el){var elemTop=$(el).offset().top;var elemBottom=elemTop+$(el).height() / 2;var winBottom=st+$(window).height();if (elemBottom < winBottom){cSeen++;}});cdlc.text(cSeen);}lastScrollTop=st;});$(document).keyup(function (e){if (e.keyCode==27){$('.fixed-tabs .active-tab .close').click();}});$('BODY').on('click', '.choose-shops .check-all', function (){var ct=$(this).parents('.category:first');var cn=(ct.length) ? ct : $(this).parents('form');var sc=$('input[name="shops[]"]:checked', cn);var s=$('input[name="shops[]"]', cn);s.prop('checked', !(sc.length==s.length));return false;});$('BODY').on('submit', '.subscribe-form', function (){var form=this;var url='/subscribe/subscribeProcess/';var data=$(this).serialize();data+='&is_ajax=1';$('.messages', form).remove();$.ajax({type: "POST", url: url, cache: false, data: data}).done(function (response){var responseObj=jQuery.parseJSON(response);$('.has-error', form).removeClass('has-error');$('.form-element-errors', form).remove();$('[type="submit"]', form).button('reset');if (responseObj.error==true){$.each(responseObj.messages, function (index, value){var input=$('[name="'+index+'"]', form);input.parents('.form-group:first').addClass('has-error');input.after('<ul class="form-element-errors"><li>'+value+'</li></ul>');});}else{$(form).prepend('<div class="messages"><p class="alert-success">'+responseObj.messages.success+'</p></div>');$(form).find("input[name='email']").val("");}});return false;});$("a", bttBtn).click(function (){window.scrollTo(0, 0);return false});$('BODY').on('submit', '#contact-form', function (e){var url='/contact/contactProcess/';var data=$(this).serialize();data+='&is_ajax=1';$('#contact-form .messages').remove();$.ajax({type: "POST", url: url, cache: false, data: data}).done(function (response){var responseObj=jQuery.parseJSON(response);$('#contact-form .has-error').removeClass('has-error');$('#contact-form .form-element-errors').remove();$('#contact-form [type="submit"]').button('reset');if (responseObj.error==true){$.each(responseObj.messages, function (index, value){var input=$('#contact-form [name="'+index+'"]');input.parents('.form-group:first').addClass('has-error');input.after('<ul class="form-element-errors"><li>'+value+'</li></ul>');});}else{$('#contact-form').prepend('<div class="messages"><p class="alert-success">'+responseObj.messages.success+'</p></div>');$('#contact-form').find("textarea").val("");}});e.preventDefault();});$.ajaxSetup({cache: true});$.getScript("https://gotoshop.by/js/bootstrap.js?t=t1520269692", function (){$('BODY').on('click', '.checkall', function (e){var checkbox=$(this);var checked=checkbox.is(':checked');var checkboxesName=checkbox.val();$('[name="'+checkboxesName+'"]').prop('checked', checked);e.stopPropagation();});$.getScript("https://gotoshop.by/js/jquery.cookie.js?t=t1439187313", function (){function discountHaveAlcohol(){if ($.cookie('have18age')==1){return;}var img=$('.product[data-havealcohol="1"] .image img, .item[data-havealcohol="1"] .image-link img');if (img.length){if (config.have18age==-1){$('#alcohol-modal').modal('show');config.have18age=true;var date=new Date();date.setTime(date.getTime()+(365 * 24 * 60 * 60 * 1000));$.cookie('have18age', 1,{path: '/', expires: date});$('BODY').on('click', '#alcohol-modal .btn-primary', function (){img.attr('src', '');img.css('display', 'block');$('#alcohol-modal').modal('hide');config.have18age=false;var date=new Date();date.setTime(date.getTime()+(365 * 24 * 60 * 60 * 1000));$.cookie('have18age', 0,{path: '/', expires: date});});}else if (!config.have18age){img.attr('src', '');img.css('display', 'block');}}}$('.change-lang-menu a.change-lang-link').on('click', function (){var date=new Date();date.setTime(date.getTime()+(365 * 24 * 60 * 60 * 1000));$.cookie('langmanual', $(this).attr('data-lang'),{path: '/', expires: date});});$('.change-limit-link').on('click', function (e){var newLimit=$(this).attr('rel');var date=new Date();date.setTime(date.getTime()+(365 * 24 * 60 * 60 * 1000));$.cookie('discounts_pager_limit', newLimit,{path: '/', expires: date});window.location.reload();e.preventDefault();});function noteAfterAdd(btn){btn=$(btn);btn.popover('destroy');var options={content: 'Добавлено в <a href="/mynotes/">Избранное</a>', html: true, template: '<div class="popover popover-notes" role="tooltip"><div class="arrow"></div><div class="popover-content"></div></div>', placement: 'bottom'};btn.popover(options);btn.popover('show');setTimeout(function (){btn.popover('destroy');}, 2000);}function noteAfterDelete(btn){btn=$(btn);btn.popover('destroy');var options={content: 'Удалено из <a href="/mynotes/">Избранное</a>', html: true, template: '<div class="popover popover-notes" role="tooltip"><div class="arrow"></div><div class="popover-content"></div></div>', placement: 'bottom'};btn.popover(options);btn.popover('show');setTimeout(function (){btn.popover('destroy');}, 2000);}function notesProcessResponse(response, a){responseObj=jQuery.parseJSON(response);var productId=$(a).attr('rel');if (responseObj.count){$('.mynotes-count').html(responseObj.count);}var btn=$('.btn-add-note[rel="'+productId+'"]');if (responseObj.status){btn.attr('data-basket', '1');btn.attr('data-original-title', 'Удалить');btn.addClass('active');$('.tooltip .tooltip-inner').text('Удалить');noteAfterAdd(a);}else{btn.attr('data-basket', '0');btn.attr('data-original-title', 'Добавить в избранное');btn.removeClass('active');$('.tooltip .tooltip-inner').text('Добавить в избранное');noteAfterDelete(a);if ($('BODY').hasClass('notes-page')){$('.discounts .item[data-id="'+productId+'"]').hide(300, function (){$(this).remove();$(window).resize();});}}}var addNoteNotLoggedIn=function (el){if ($(el).attr('data-basket')=='1'){var currentProducts=$.cookie(config.notesCookieName);var delProductId=parseInt($(el).attr('rel'));var currentProductsArray=currentProducts.split(',');var newProducts='';for (var i=0;i < currentProductsArray.length;i++){var productId=parseInt(currentProductsArray[i]);if (productId !=delProductId){if (newProducts !=''){newProducts+=',';}newProducts+=currentProductsArray[i];}};$.cookie(config.notesCookieName, newProducts,{expires: 999, path: "/"});if (newProducts==''){var currentProductsArray=new Array();}else{var currentProductsArray=newProducts.split(',');}$('.mynotes-count').html(currentProductsArray.length);noteAfterDelete(el);if ($('.notes-page').length && !$('BODY').hasClass('list-page')){window.location=config.websiteurl+'/mynotes/';}else{var btn=$('.btn-add-note[rel="'+delProductId+'"]');btn.attr('data-basket', '0');btn.attr('data-original-title', 'Добавить в избранное');btn.removeClass('active');$('.tooltip .tooltip-inner').text('Добавить в избранное');}}else{var currentProducts=$.cookie(config.notesCookieName);var newProductId=parseInt($(el).attr('rel'));if (currentProducts){currentProducts=newProductId+','+currentProducts;}else{currentProducts=newProductId;}$.cookie(config.notesCookieName, currentProducts,{expires: 999, path: "/"});currentProducts=currentProducts.toString();var currentProductsArray=currentProducts.split(',');$('.mynotes-count').html(currentProductsArray.length);var btn=$('.btn-add-note[rel="'+newProductId+'"]');btn.attr('data-basket', '1');btn.attr('data-original-title', 'Удалить');btn.addClass('active');$('.tooltip .tooltip-inner').text('Удалить');noteAfterAdd(el);}};$('BODY').on('click', '.btn-add-note', function (e){e.preventDefault();e.stopPropagation();if (!config.cityId){return;}if (config.userId==0){addNoteNotLoggedIn(this);}else{mynotesLists.addProductToMynotes(this);}});$('BODY').on('click', function (e){$('.btn-add-note').popover('destroy');});if (config.userId==0){var currentProducts=$.cookie(config.notesCookieName);if (currentProducts){var currentProductsArray=currentProducts.split(',');$('.mynotes-count').html(currentProductsArray.length);}}$('BODY').on('click', '#cities-selector .more-link', function (e){if (config.userId==0){$.cookie('visitorcity', '',{expires: -1, path: "/"});}});var loadLoggedInUser=function (loadNextUntilLoggedIn){var commentForms=$('.modal.product .add-comment-form');$('.messages', commentForms).remove();var nameFields=$('[name="username"]', commentForms);var emailFields=$('[name="email"]', commentForms);Api.get('/apiv2/currentuser/',{}, function (response){if (response.error){if (response.error=='unauthorized'){if (config.userId !=0){nameFields.attr('type', 'hidden');emailFields.attr('type', 'hidden');config.userId=0;config.user.id=0;config.user.username='';config.user.email='';$.ajax({type: "GET", url: config.originalState}).done(function (html){$('[data-loginreload]', html).each(function (){$('[data-loginreload="'+$(this).attr('data-loginreload')+'"]').html($(this).html());});});if (typeof window.updateData !='undefined'){window.updateData();}}}else{$(commentForms).prepend('<div class="messages"><p class="alert-danger">'+response.error_description+'</p></div>');}if (loadNextUntilLoggedIn){var lwc=(typeof config.loginWindow=='undefined' || config.loginWindow.closed);if (!lwc){setTimeout(function (){loadLoggedInUser(true);}, 1000);}}}else{if (config.userId==0){nameFields.attr('type', 'text');emailFields.attr('type', 'text');nameFields.val(response.user.name);emailFields.val(response.user.username);config.userId=response.user.id;config.user.id=response.user.id;config.user.username=response.user.name;config.user.email=response.user.username;$.ajax({type: "GET", url: config.originalState}).done(function (html){$('[data-loginreload]', html).each(function (){$('[data-loginreload="'+$(this).attr('data-loginreload')+'"]').html($(this).html());});});if (typeof window.updateData !='undefined'){window.updateData();}}}});};$(window).on('focus', function (){loadLoggedInUser();});$('BODY').on('click', '.btn-loginnewwindow', function (e){if (config.userId==0){$(this).button('reset');if (typeof config.loginWindow=='undefined' || config.loginWindow.closed){var url='/account/login/?m=2';config.loginWindow=window.open(url, '_blank', 'location=yes,height=570,width=520,scrollbars=yes,status=yes');loadLoggedInUser(true);var interval=setInterval(function (){if (config.userId !=0){config.loginWindow.close();}else{}if (typeof config.loginWindow=='undefined' || config.loginWindow.closed){if (interval){clearInterval(interval);}}}, 1000);}else{config.loginWindow.focus();}e.preventDefault();}});function loadNotesToProductButtons(){if (!config.userId){var currentProducts=$.cookie(config.notesCookieName);if (currentProducts){var currentProductsArray=currentProducts.split(',');for (var i=0;i < currentProductsArray.length;i++){var btn=$('.btn-add-note[rel="'+currentProductsArray[i]+'"]');if (btn.length){btn.attr('data-basket', '1');btn.attr('data-original-title', 'Удалить');btn.addClass('active');$('.tooltip .tooltip-inner').text('Удалить');}}}}}loadNotesToProductButtons();if (!$.cookie("subscribe_showed")){if ($('.fixed-tabs').is(':visible') && $(".subscribe-form").length){setTimeout(function (){$(".fixed-tabs").css('transform', 'translateX(100px)');if (!$(".subscribe-form").is(":visible")){$(".fixed-tabs .subscribe .show-tab-link").click()}$.cookie("subscribe_showed", "1",{expires: 999, path: "/"})}, 15e3)}}var Api=new function(){var thisClass=this;thisClass.get=function(url, data, callback){var urlParams='';for(var propertyName in data){urlParams+=(urlParams=='')?'':'&';urlParams+=propertyName+'='+data[propertyName];}if (urlParams !=''){url+='?'+urlParams;}url=config.websiteurl+url;var xhr=jQuery.ajax({type: "GET",beforeSend: function (request){request.setRequestHeader("Platform", 'Web');},url: url}).done(function(data){if (callback){callback(data);}}).fail(function(jqXHR, textStatus){if (jqXHR.responseJSON){if (callback){callback(jqXHR.responseJSON);}}else{var data={error: jqXHR.status,error_description: jqXHR.statusText};if (callback){callback(data);}}});return xhr;};thisClass.post=function(url, data, callback){var postData={};for(var propertyName in data){postData[propertyName]=data[propertyName];}url=config.websiteurl+url;var xhr=jQuery.ajax({type: "POST",beforeSend: function (request){request.setRequestHeader("Platform", 'Web');},url: url,data: postData}).done(function(data){if (callback){callback(data);}}).fail(function(jqXHR, textStatus){if (jqXHR.responseJSON){if (callback){callback(jqXHR.responseJSON);}}else{var data={error: jqXHR.status,error_description: jqXHR.statusText};if (callback){callback(data);}}});return xhr;};thisClass.delete=function(url, data, callback){var deleteData={};for(var propertyName in data){deleteData[propertyName]=data[propertyName];}var paramsStr=jQuery.param(deleteData);if (paramsStr){url+='?'+paramsStr;}url=config.websiteurl+url;var xhr=jQuery.ajax({type: 'DELETE',beforeSend: function (request){request.setRequestHeader("Platform", 'Web');},url: url,data: deleteData}).done(function(data){if (callback){callback(data);}}).fail(function(jqXHR, textStatus){if (jqXHR.responseJSON){if (callback){callback(jqXHR.responseJSON);}}else{var data={error: jqXHR.status,error_description: jqXHR.statusText};if (callback){callback(data);}}});return xhr;};thisClass.put=function(url, data, callback){var putData={};for(var propertyName in data){putData[propertyName]=data[propertyName];}url+='?'+jQuery.param(putData);url=config.websiteurl+url;var xhr=jQuery.ajax({type: 'PUT',beforeSend: function (request){request.setRequestHeader("Platform", 'Web');},url: url,data: putData}).done(function(data){if (callback){callback(data);}}).fail(function(jqXHR, textStatus){if (jqXHR.responseJSON){if (callback){callback(jqXHR.responseJSON);}}else{var data={error: jqXHR.status,error_description: jqXHR.statusText};if (callback){callback(data);}}});return xhr;};};MynotesLists=function(){var tc=this;tc.inputName=false;tc.newListModal=$('.new-list-modal');tc.showFormBtnSelector='.add-list-btn';tc.showEditListFormBtn=false;tc.listNameSelector=false;tc.notesListId=false;tc.addListId=false;tc.productId=false;tc.forceCreate=false;tc.listLinkBtn=false;tc.notesList=false;tc.showListLinkBtnClick=function(e){e.preventDefault();e.stopPropagation();if ($('.popover.edit-list-modal').is(':visible')){tc.hideModalListLink();}else{tc.listLinkBtn=$(this);tc.showModalListLink();}e.preventDefault();};tc.showModalListLink=function(){var templateHtml='<div class="popover list-link-modal">';templateHtml+='<div class="arrow"></div>';templateHtml+='<h3 class="popover-header"></h3>';templateHtml+='<div class="popover-content">';templateHtml+='</div>';templateHtml+='</div>';var contentHtml='';contentHtml+='<div class="row">';contentHtml+='<div class="col-xs-12">';contentHtml+='<input readonly type="text" class="form-control input-sm list-link" value="'+$(tc.listLinkBtn).attr('data-link')+ '" />';contentHtml+='</div>';contentHtml+='</div>';var options={content: contentHtml,html: true,template: templateHtml,placement: 'bottom'};$(tc.listLinkBtn).popover(options);$(tc.listLinkBtn).popover('show');tc.inputName=$('.list-link-modal .list-link');tc.inputName.select();};tc.showModalCreateNewListForm=function(){var templateHtml='<div class="popover new-list-modal">';templateHtml+='<div class="arrow"></div>';templateHtml+='<h3 class="popover-header"></h3>';templateHtml+='<div class="popover-content">';templateHtml+='</div>';templateHtml+='</div>';var contentHtml='<form class="add-list-form" method="post" action="#">';contentHtml+='<div class="row">';contentHtml+='<div class="col-xs-12">';contentHtml+='<textarea maxlength="255" name="name" placeholder="Название списка" class="form-control input-sm list-name"></textarea>';contentHtml+='<span class="help-block">например "Подарки"</span>';contentHtml+='</div>';contentHtml+='</div>';contentHtml+='<div class="row">';contentHtml+='<div class="col-xs-12">';contentHtml+='<button type="submit" class="btn btn-primary btn-sm" data-loading-text="Добавить...">Добавить</button>';contentHtml+='</div>';contentHtml+='</div>';contentHtml+='</form>';var options={content: contentHtml,html: true,template: templateHtml,placement: 'bottom'};$(tc.showFormBtnSelector).popover(options);$(tc.showFormBtnSelector).popover('show');tc.inputName=$('.add-list-form .list-name');if (!config.isTouchDevice){tc.inputName.focus();}};tc.showModalEditListForm=function(){var editedListName=$(tc.listNameSelector).text();var templateHtml='<div class="popover edit-list-modal">';templateHtml+='<div class="arrow"></div>';templateHtml+='<h3 class="popover-header"></h3>';templateHtml+='<div class="popover-content">';templateHtml+='</div>';templateHtml+='</div>';var contentHtml='<form class="edit-list-form" method="post" action="#">';contentHtml+='<div class="row">';contentHtml+='<div class="col-xs-12">';contentHtml+='<div class="form-group"><textarea maxlength="255" name="name" placeholder="Название списка" class="form-control input-sm list-name">'+editedListName+'</textarea></div>';contentHtml+='</div>';contentHtml+='</div>';contentHtml+='<div class="row">';contentHtml+='<div class="col-xs-4">';contentHtml+='<button type="submit" class="btn btn-primary btn-sm" data-loading-text="Сохранить...">Сохранить</button>';contentHtml+='</div>';contentHtml+='</div>';contentHtml+='</form>';var options={content: contentHtml,html: true,template: templateHtml,placement: 'bottom'};tc.showEditListFormBtn.popover(options);tc.showEditListFormBtn.popover('show');tc.inputName=$('.edit-list-form .list-name');if (!config.isTouchDevice){tc.inputName.focus();}};tc.hideModalCreateNewListForm=function(){$(tc.showFormBtnSelector).popover('destroy');};tc.hideModalEditListForm=function(){$(tc.showEditListFormBtn).popover('destroy');};tc.hideModalListLink=function(){$(tc.listLinkBtn).popover('destroy');};tc.newListBtnClick=function(e){e.stopPropagation();if (config.user.id){if ($('.popover.new-list-modal').is(':visible')){tc.hideModalCreateNewListForm();}else{tc.showModalCreateNewListForm();}}};tc.editListNameFromSubmit=function(e){if (config.user.id){var t=this;$('.messages', t).remove();tc.inputName=$('.edit-list-form .list-name');var data={name: tc.inputName.val(),force_create: (tc.forceCreate==true)?1:0};Api.put('/apiv3/users/'+config.user.id+'/noteslists/'+tc.notesListId+'/', data, function (response){$('.has-error',t).removeClass('has-error');$('.form-element-errors',t).remove();$('[type="submit"]',t).button('reset');if (response.error){if (response.error=='empty_name'){tc.inputName.parents('.form-group:first').addClass('has-error');tc.inputName.after('<ul class="form-element-errors"><li>'+response.error_description+'</li></ul>');tc.inputName.focus();}else if (response.error=='mynotes_list_duplicate_deleted'){tc.addListId=response.list.id;var messageHtml='<div class="row"><div class="col-xs-12"><div class="messages">';messageHtml+='<p class="alert-warning">';messageHtml+=response.error_description;messageHtml+=' <a class="btn btn-info btn-xs notes-lists-recovery-btn">Восстановить</a>';messageHtml+=' <a class="btn btn-primary btn-xs notes-lists-replace-btn">Заменить</a>';messageHtml+='</p>';messageHtml+='</div></div></div>';$(t).prepend(messageHtml);}else{$(t).prepend( '<div class="row"><div class="col-xs-12"><div class="messages"><p class="alert-danger">'+response.error_description+'</p></div></div></div>');}}else{$(t).prepend( '<div class="row"><div class="col-xs-12"><div class="messages"><p class="alert-success">'+response.message+'</p></div></div></div>');$(tc.listNameSelector).text(response.list.name);}});tc.forceCreate=false;}e.preventDefault();};tc.newListFromSubmit=function(e){if (config.user.id){var t=this;$('.messages', t).remove();tc.inputName=$('.add-list-form .list-name');var data={name: tc.inputName.val(),force_create: (tc.forceCreate==true)?1:0};Api.post('/apiv3/users/'+config.user.id+'/noteslists/', data, function (response){$('.has-error',t).removeClass('has-error');$('.form-element-errors',t).remove();$('[type="submit"]',t).button('reset');if (response.error){if (response.error=='empty_name'){tc.inputName.parents('.form-group:first').addClass('has-error');tc.inputName.after('<ul class="form-element-errors"><li>'+response.error_description+'</li></ul>');tc.inputName.focus();}else if (response.error=='mynotes_list_duplicate_deleted'){tc.addListId=response.list.id;var messageHtml='<div class="row"><div class="col-xs-12"><div class="messages">';messageHtml+='<p class="alert-warning">';messageHtml+=response.error_description;messageHtml+=' <a class="btn btn-info btn-xs notes-lists-recovery-btn">Восстановить</a>';messageHtml+=' <a class="btn btn-primary btn-xs notes-lists-replace-btn">Заменить</a>';messageHtml+='</p>';messageHtml+='</div></div></div>';$(t).prepend(messageHtml);}else{$(t).prepend( '<div class="row"><div class="col-xs-12"><div class="messages"><p class="alert-danger">'+response.error_description+'</p></div></div></div>');}}else{tc.inputName.val('');tc.hideModalCreateNewListForm();tc.afterMynoteslistCreate(response.list);}});tc.forceCreate=false;}e.preventDefault();};tc.showListsChooser=function(pos){tc.notesList=$('.notes-lists-chooser');tc.afterListsChooserLoad(pos);};tc.hideListsChooser=function(){if (tc.notesList){tc.notesList.css('display','none');}};tc.afterListsChooserLoad=function(pos){var t=pos.top;var l=pos.left;var w=tc.notesList.width();var windowWidth=$(window).width();if ((l+w+50)> windowWidth){l=windowWidth - (w+50);}tc.notesList.css({'display': 'block','top': t,'left': l});if (!$('[type="radio"]:checked',tc.notesList).length){$('[type="radio"]:first',tc.notesList).attr('checked','checked');}};tc.bodyClick=function(){tc.hideListsChooser();tc.hideModalCreateNewListForm();tc.hideModalEditListForm();tc.hideModalListLink();};tc.notesListsClick=function(e){e.stopPropagation();};tc.notesListsCloseBtnClick=function(e){tc.hideListsChooser();};tc.addProductToMynotes=function(btn){tc.notesBtn=$(btn);tc.productId=parseInt(tc.notesBtn.attr('rel'));if (tc.notesBtn.attr('data-basket')=='1'){tc.deleteProductFromMynotes();}else{if (config.user.askListBeforeAdd==1){mynotesLists.showListsChooser({top: $(btn).offset().top+$(btn).height(), left: $(btn).offset().left+$(btn).width(),});}else{tc.addProductToMynotesList();}}};tc.notesListsAddBtnClick=function(e){if (!$('[name="noteslist"]:checked').length){$(tc.showFormBtnSelector).click();$('.add-list-form').prepend( '<div class="messages"><p class="alert-danger">Создайте список для добавления избранного</p></div>');}else{tc.addListId=$('[name="noteslist"]:checked').val();tc.addProductToMynotesList();}};tc.notesListsReplaceBtnClick=function(e){tc.replaceMynotesList();e.preventDefault();};tc.replaceMynotesList=function(){tc.forceCreate=true;if ($('.add-list-form').is(':visible')){$('.add-list-form').submit();}else{$('.edit-list-form').submit();}};tc.notesListsRecoveryBtnClick=function(e){tc.recoveryMynotesList();e.preventDefault();};tc.recoveryMynotesList=function(){var data={status: 1,};var t=$('.add-list-form');$('.messages', t).remove();Api.put('/apiv3/users/'+config.user.id+'/noteslists/'+tc.addListId+'/', data, function (response){$('.has-error',t).removeClass('has-error');$('.form-element-errors',t).remove();$('[type="submit"]',t).button('reset');if (response.error){$(t).prepend( '<div class="messages"><p class="alert-danger">'+response.error_description+'</p></div>');}else{tc.inputName.val('');tc.hideModalCreateNewListForm();tc.afterMynoteslistCreate(response.list);}});};tc.afterMynoteslistCreate=function(list){if ($('BODY').hasClass('notes-page')&& !$('BODY').hasClass('list-page')){window.location.reload();}else{var notesListsUl=$('.notes-lists-chooser .notes-lists');var notesListNewLi='';notesListNewLi+='<li>';notesListNewLi+='<div class="radio"><label><input name="noteslist" value="'+list.id+'" type="radio" /> '+list.name+'</label></div>';notesListNewLi+='</li>';notesListsUl.prepend(notesListNewLi);$('[name="noteslist"]').prop( "checked", false);$('[name="noteslist"][value="'+list.id+'"]').prop( "checked", true);window.updateData();}};tc.deleteProductFromMynotes=function(){var data={city_id: config.cityId,product_id: tc.productId};Api.delete('/apiv3/users/'+config.user.id+'/notes/', data, function (response){if (response.error){}else{tc.notesBtn.attr('data-basket', '0');tc.notesBtn.attr('data-original-title', 'Добавить в избранное');tc.notesBtn.removeClass('active');$('.tooltip .tooltip-inner').text('Добавить в избранное');if ($('BODY').hasClass('notes-page')&& !$('BODY').hasClass('list-page')){$('.discounts .item[data-id="'+tc.productId+'"]').hide(300, function (){$(this).remove();$(window).resize();});}$('.mynotes-count').html(response.totalCount);tc.notesBtn.popover('destroy');var options={content: 'Удалено из <a href="/mynotes/">Избранное</a>',html: true,template: '<div class="popover popover-notes" role="tooltip"><div class="arrow"></div><div class="popover-content"></div></div>',placement: 'bottom'};tc.notesBtn.popover(options);tc.notesBtn.popover('show');setTimeout(function (){tc.notesBtn.popover('destroy');}, 2000);}});};tc.addProductToMynotesList=function(){var data={city_id: config.cityId,product_id: tc.productId};if (tc.addListId !=false){data.list_id=tc.addListId;}if (config.user.askListBeforeAdd==1){var askListCheckbox=$('.notes-lists-chooser [name="ask_list_before_add"]');if (askListCheckbox.length && askListCheckbox.is(':checked')){data.ask_list_before_add=0;config.user.askListBeforeAdd=0;}}Api.post('/apiv3/users/'+config.user.id+'/notes/', data, function (response){if (response.error){var options={content: '<p style="color: red">Ошибка добавления в избранное<br/>'+response.error_description+'</p>',html: true,template: '<div class="popover popover-notes" role="tooltip"><div class="arrow"></div><div class="popover-content"></div></div>',placement: 'bottom'};tc.notesBtn.popover(options);tc.notesBtn.popover('show');setTimeout(function (){tc.notesBtn.popover('destroy');}, 5000);}else{tc.notesBtn.attr('data-basket', '1');tc.notesBtn.attr('data-original-title', 'Удалить');tc.notesBtn.addClass('active');$('.tooltip .tooltip-inner').text('Удалить');tc.notesBtn.popover('destroy');var options={content: 'Добавлено в <a href="/mynotes/">Избранное</a>',html: true,template: '<div class="popover popover-notes" role="tooltip"><div class="arrow"></div><div class="popover-content"></div></div>',placement: 'bottom'};tc.notesBtn.popover(options);tc.notesBtn.popover('show');setTimeout(function (){tc.notesBtn.popover('destroy');}, 2000);$('.mynotes-count').html(response.totalCount);}tc.addListId=false;tc.productId=false;if (data.ask_list_before_add==0){$('.notes-lists-chooser').remove();}});tc.hideListsChooser();};tc.notesListsEditNameBtnClick=function(e){e.preventDefault();e.stopPropagation();if ($('.popover.edit-list-modal').is(':visible')){tc.hideModalEditListForm();}else{tc.showEditListFormBtn=$(this);tc.listNameSelector=$(this).attr('data-list-name');tc.notesListId=$(this).attr('data-list-id');tc.showModalEditListForm();}};$('body').on('click',tc.showFormBtnSelector,tc.newListBtnClick);$('body').on('submit','.add-list-form',tc.newListFromSubmit);$('body').on('submit','.edit-list-form',tc.editListNameFromSubmit);$('body').on('click','.notes-lists-chooser',tc.notesListsClick);$('body').on('click','.notes-lists-close-btn',tc.notesListsCloseBtnClick);$('body').on('click','.notes-lists-add-btn',tc.notesListsAddBtnClick);$(document).on('keypress',function(e){if(e.which==13){if ($('.notes-lists-add-btn').is(':visible')){$('.notes-lists-add-btn').click();}}});$('body').on('click','.notes-lists-recovery-btn',tc.notesListsRecoveryBtnClick);$('body').on('click','.notes-lists-replace-btn',tc.notesListsReplaceBtnClick);$('body').on('click',tc.bodyClick);$('body').on('click','.new-list-modal,.edit-list-modal,.list-link-modal',function(e){e.stopPropagation();});$('body').on('click','.edit-list-btn',tc.notesListsEditNameBtnClick);$('body').on('click','.list-link-btn',tc.showListLinkBtnClick);};var mynotesLists=new MynotesLists;function shopsSelectorClass(){var tc=this;tc.csel='.choose-shops';tc.ssnsel='.selected-shops-field';tc.sLoaded=false;tc.sFavLoaded=false;tc.chooseShopBtnClick=function(e){var form=$(this).parents('form');var inputShops=$('.selected-shops-field',form);inputShops.attr("data-prevvalue", inputShops.val());var chooseShops=$(tc.csel,form);if (chooseShops.is(":visible")){chooseShops.hide();}else{var c=$('.choose-shop-wrap',form);var cityId=$(this).attr('data-cityid');if (!cityId){cityId=config.cityId;}tc.loadShops(c, cityId);chooseShops.show();}e.preventDefault();};tc.cancelBtnClick=function(e){var form=$(this).parents('form');var t=$('.selected-shops-field',form);$(t).val($(t).attr("data-prevvalue"));$(tc.csel).hide();e.preventDefault();};tc.submitBtnClick=function(e){var form=$(this).parents('form');var c=$('.choose-shop-wrap',form);var t=$('.selected-shops-field',c);var sc=$('input[name="shops[]"]:checked',c);var s=$('input[name="shops[]"]',c);var h=$(".choose-shop-link .selected-shops-name",c);var r='',r2='';if (sc.length && sc.length < s.length){var n=[];sc.each(function (){n.push($(this).val());r+=(r=='')?'':', ';r+=$(this).attr("title");});var favSIs=tc.getFavShopsIds(c);var diff1=$(favSIs).not(n).get();var diff2=$(n).not(favSIs).get();if (diff1.length==0 && diff2.length==0){$(t).val("favorite");r="Выбрать магазины";r2="Любимые магазины";}else{$(t).val(n);r2=r;}}else{$(t).val("all");r="Выбрать магазины";r2="Все магазины";}h.text(r2);h.attr({"title":r,"data-original-title":r});$(tc.csel,form).hide();e.preventDefault();};tc.getShopsCategoryHTML=function(cI,cN){var shopsHtml='<div class="category hidden" data-id="'+cI+'"><h4>'+cN;shopsHtml+='&nbsp;<small><a href="#" class="check-all">Выбрать все/Отменить все</a></small>';shopsHtml+='</h4><ul>';shopsHtml+='</ul></div>';return shopsHtml;};tc.getShopHTML=function(sI,sN,img50){var shopsHtml='<li>';shopsHtml+='<label for="subscribe-shop-'+sI+'" data-toggle="tooltip" data-original-title="'+sN+'">';shopsHtml+='<input id="subscribe-shop-'+sI+'" name="shops[]" value="'+sI+'" title="'+sN+'" type="checkbox">';shopsHtml+='<span class="image"><img src="'+img50+'" alt="" height="50" width="50"></span>';shopsHtml+='</label>';shopsHtml+='</li>';return shopsHtml;};tc.loadFavoriteShops=function(c,cityId){tc.sFavLoaded=false;var shopsWrap=$('.choose-shops .wrap',c);var url2='/apiv2/favoriteshops/';var data2={city_id: cityId,limit: 999,fields: 'id,name,image50,categories_id'};Api.get(url2, data2, function (response2){if (response2.totalCount > 0){var shopsHtml='';for (var key2 in response2.shops){var sI=response2.shops[key2].id;var sN=response2.shops[key2].name;var img50=response2.shops[key2].image50;shopsHtml+=tc.getShopHTML(sI,sN,img50);}$('.category[data-id="0"]', shopsWrap).removeClass('hidden');$('.category[data-id="0"] ul', shopsWrap).html(shopsHtml);}tc.sFavLoaded=true;if (tc.sLoaded){tc.setChecked(c);}});};tc.loadShops=function(c,cityId){var shopsWrap=$('.choose-shops .wrap',c);tc.sLoaded=false;tc.sFavLoaded=false;var url='/apiv2/categories/';var data={city_id: cityId,limit: 999,fields: 'id,name'};shopsWrap.html('').addClass('loader-icon').attr('data-cityid', cityId);Api.get(url, data, function (response){if (response.totalCount > 0){shopsWrap.append(tc.getShopsCategoryHTML(0,'Любимые'));var loaded=0;for (var key in response.categories){var cat=response.categories[key];var cI=cat.id;var cN=cat.name;shopsWrap.append(tc.getShopsCategoryHTML(cI,cN));var url2='/apiv2/shops/';var data2={city_id: cityId,category_id: cI,limit: 999,fields: 'id,name,image50,categories_id'};Api.get(url2, data2, function (response2){if (response2.totalCount > 0){var shopsHtml='';for (var key2 in response2.shops){var sI=response2.shops[key2].id;var sN=response2.shops[key2].name;var img50=response2.shops[key2].image50;var cI=response2.shops[key2].categories_id;shopsHtml+=tc.getShopHTML(sI,sN,img50);}$('.category[data-id="'+cI+'"]', shopsWrap).removeClass('hidden');$('.category[data-id="'+cI+'"] ul', shopsWrap).html(shopsHtml);}loaded++;if (response.totalCount==loaded){tc.sLoaded=true;tc.loadFavoriteShops(c,cityId);if (tc.sFavLoaded){tc.setChecked(c);}}});}}shopsWrap.removeClass('loader-icon');});};tc.getSelectedShops=function(c){return $(tc.ssnsel,c).val();};tc.getFavShopsIds=function(c){var v=[];$('.category[data-id="0"] [name="shops[]"]',c).each(function(){v.push($(this).val());});return v;};tc.setChecked=function(c){var favSIs=tc.getFavShopsIds(c);for(var i=0;i < favSIs.length;i++){$('.category[data-id!="0"] [name="shops[]"][value="'+favSIs[i]+'"]', c).parents('li:first').remove();}var selS=tc.getSelectedShops(c);if (selS=='all'){$('[name="shops[]"]',c).prop("checked", true);}else if (selS=='favorite'){$('.category[data-id="0"] [name="shops[]"]',c).prop("checked", true);}else{var selSArr=selS.split(',');for(var i=0;i < selSArr.length;i++){$('[name="shops[]"][value="'+selSArr[i]+'"]', c).prop("checked", true);}}};$('BODY').on('click','.choose-shop-link',tc.chooseShopBtnClick);$('BODY').on('click',tc.csel+' .cancel-button',tc.cancelBtnClick);$('BODY').on('click',tc.csel+' .submit-button',tc.submitBtnClick);};var shopsSelector=new shopsSelectorClass();(function( $){$('BODY').on('click','.btn-group-search .form-control',function(e){e.stopPropagation();});$('body').on('click','.btn-group-search .dropdown-menu.inner>li',function(e){if ($(this).hasClass('no-results')){return;}if ($(this).hasClass('disabled')){e.stopPropagation();return;}var btnGroup=$(this).parents('.btn-group-search:first');var id=$(this).attr('rel');var name=$('.text',this).text();var button=$('.btn',btnGroup);var buttonText=$('.text',button);buttonText.text(name);$('li.active',btnGroup).removeClass('active');$(this).addClass('active');if ($(button).attr('data-hiddeninput')){var hiddenInputName=$(button).attr('data-hiddeninput');var hiddenInput=$('[name="'+hiddenInputName+'"]');$(hiddenInput).val(id);$(hiddenInput).attr('data-cityname', name);$(hiddenInput).trigger('change');}});$('BODY').on('click','.btn-group-search .dropdown-toggle',function(){var btnGroup=$(this).parents('.btn-group-search:first');var input=$('.typeahead,.typeahead-api',btnGroup);if (!btnGroup.hasClass('open')){var dropdownMenu=$(this).next('.dropdown-menu');var submenu=$('> .dropdown-menu.inner',dropdownMenu);var windowHeight=$(window).height();var submenuHeight=Math.round(windowHeight/2);if (submenuHeight < 150){submenuHeight=150;}submenu.css('max-height', submenuHeight);if (input.attr('data-load')=='1'){input.trigger('keyup');input.attr('data-load',0);}dropdownMenu.addClass('open');if (!config.isTouchDevice){setTimeout(function(){input.focus();},0);}}});var xhr;var prevVal;$('BODY').on('keyup cut paste','.typeahead,.typeahead-api',function($e){var specialKeyCodeMap={9: "tab",27: "esc",37: "left",39: "right",13: "enter",38: "up",40: "down",16: "shift",17: "ctrl",18: "alt"};if (specialKeyCodeMap[$e.which || $e.keyCode]){return;}var input=$(this);var searchVal=input.val();if (prevVal==searchVal){return;}prevVal=searchVal;if (xhr){xhr.abort();}var minlength=input.attr('data-minlenght');if (minlength){if (searchVal.length > 0 && searchVal.length < minlength){return true;}}var btnGroup=input.parents('.btn-group-search:first');var t=setTimeout(function(){input.addClass('loading');},100);var url=config.websiteurl+input.attr('data-ajax-url');url+='?name='+encodeURIComponent(searchVal);if (input.attr('data-ajax-type')){url+='&type='+input.attr('data-ajax-type');}if (input.attr('data-ajax-cityid')){url+='&city_id='+input.attr('data-ajax-cityid');}if (input.attr('data-ajax-userid')){url+='&user_id='+input.attr('data-ajax-userid');}if (input.attr('data-ajax-all')){url+='&all='+input.attr('data-ajax-all');}if (input.attr('data-params')){var params=input.attr('data-params');var paramsArray=params.split('&');for(var i=0;i < paramsArray.length;i++){var paramArray=paramsArray[i].split('=');var param=paramArray[0];var val=paramArray[1];if (param=='parent' && searchVal.length > 0){continue;}url+='&'+param+'='+val;}}var showCheckboxes=(input.attr('data-checkboxes')=='1');xhr=$.ajax({type: "GET",beforeSend: function (request){request.setRequestHeader("Platform", 'Web');},url: url}).done(function( response){var dropdownContainer=$('.dropdown-menu.inner',btnGroup);if (response.pcategories){if (response.totalCount > 0){var btnTextObj=$('.btn .text',btnGroup);var selectedCategoriesIdsStr=$(btnTextObj).attr('data-ids');var selectedCategoriesIds=[];if (selectedCategoriesIdsStr){selectedCategoriesIds=selectedCategoriesIdsStr.split(',')}var itemsHTML=config.categoriesDropdown.getItemsHTML(response.pcategories, showCheckboxes, selectedCategoriesIds, searchVal);dropdownContainer.html(itemsHTML);}else{dropdownContainer.html("<li class=\"no-results\"><a>Ничего не найдено</a></li>");}}else if (response.users){if (response.totalCount > 0){var userIdInput=$('[name="users_id"]');var itemsHTML='';for (var i=0;i < response.users.length;i++){var user=response.users[i];var itemHTML='';var itemClass='';itemHTML+='<li'+((itemClass=='')?'':' class="'+itemClass+'"')+ ' rel="'+user.id+'">';itemHTML+='<a href="javascript:;" title="'+user.email+'">';itemHTML+='<span class="text">';itemHTML+=user.username;itemHTML+='<br/>&nbsp;<small>'+user.email+'</small>';itemHTML+='</span>';itemHTML+='</a>';itemHTML+='</li>';itemsHTML+=itemHTML;}dropdownContainer.html(itemsHTML);}else{dropdownContainer.html("<li class=\"no-results\"><a>Ничего не найдено</a></li>");}}else{dropdownContainer.html(response);}clearTimeout(t);input.removeClass('loading');});});$('BODY').on('click','.btn-group-search.btn-search-categories .dropdown-toggle',function(){var btnGroup=$(this).parents('.btn-group-search:first');var input=$('.typeahead-api',btnGroup);prevVal=-1;if ($('.dropdown-menu.inner', btnGroup).html()==''){input.trigger('keyup');}});$('.btn-group-search').each(function(){var activeItem=$('.dropdown-menu.inner .active',this);if (activeItem.length){activeItem.trigger('click');}});})( jQuery);(function( $){$('BODY').off('click','.select-tree li');$('BODY').off('click','.select-tree li a');$('BODY').off('click','.select-tree li a span');$('BODY').off('click','.select-tree [type="checkbox"]');$('BODY').on('click','.select-tree li',function(e){e.preventDefault();e.stopPropagation();});$('BODY').on('click','.select-tree li a',function(e){e.preventDefault();e.stopPropagation();});var CategoriesDropdown=function(){this.getCategoriesIdsStr=function(wrapper,productIndex){var categoriesInputs=$('[name^="products['+productIndex+'][productcategories]"]',wrapper);var categoriesIds='';if (categoriesInputs.length){categoriesInputs.each(function(){categoriesIds+=(categoriesIds=='')?'':',';categoriesIds+=$(this).val();});};return categoriesIds;};this.getCategoriesText=function(wrapper,productIndex){var categoriesInputs=$('[name^="products['+productIndex+'][productcategories]"]',wrapper);var categoriesText='';if (categoriesInputs.length){categoriesInputs.each(function(){var text=$(this).attr('data-title');var childrens=$(this).attr('data-child');categoriesText+=(categoriesText=='')?'':', ';if (childrens==0){categoriesText+='<strong>';}categoriesText+=text;if (childrens==0){categoriesText+='</strong>';}});};return categoriesText;};this.getItemsHTML=function(pcategories, showCheckboxes, selectedCategoriesIds, searchText){var itemsHTML='';for (var i=0;i < pcategories.length;i++){var pcategory=pcategories[i];var haveChildrens=(pcategory.childcats && pcategory.childcats.length);var itemHTML='';var itemClass='';var showCheckbox=!(pcategory.children > 0 && !showCheckboxes);if (pcategory.children > 0){itemClass+=(itemClass=='')?'':' ';itemClass+='parent';}if (haveChildrens){itemClass+=(itemClass=='')?'':' ';itemClass+='open';}itemHTML+='<li'+((itemClass=='')?'':' class="'+itemClass+'"')+ '>';itemHTML+='<a href="javascript:;" data-parent="'+pcategory.parent+'" data-id="'+pcategory.id+'" data-child="'+pcategory.children+'">';if (pcategory.children > 0){itemHTML+='<span class="glyphicon glyphicon-plus"></span>';itemHTML+='<span class="glyphicon glyphicon-minus"></span>';}else{if (!showCheckbox){itemHTML+='<span class="glyphicon glyphicon-empty"></span>';}}if (showCheckbox){var checked=(selectedCategoriesIds && (jQuery.inArray(pcategory.id,selectedCategoriesIds)!=-1));itemHTML+='<input'+(checked?' checked="checked"':'')+ ' type="checkbox" value="'+pcategory.id+'" />';}var name=pcategory.name;if (searchText){searchText=(searchText+'').replace(/([\\\.\+\*\?\[\^\]\$\(\)\{\}\=\!\<\>\|\:])/g, "\\$1");name=name.replace( new RegExp( "("+searchText+")" , 'gi'), "<b>$1</b>");}itemHTML+='<span class="text">'+name+'</span>';itemHTML+='</a>';if (haveChildrens){itemHTML+='<ul class="dropdown-menu inner">';itemHTML+=config.categoriesDropdown.getItemsHTML(pcategory.childcats, showCheckboxes, selectedCategoriesIds, searchText);itemHTML+='</ul>';}itemHTML+='</li>';itemsHTML+=itemHTML;}return itemsHTML;};};config.categoriesDropdown=new CategoriesDropdown;$('BODY').on('click','.select-tree li a span',function(e){var span=$(this);var a=span.parent('a');var li=a.parent('li');var productCategoryId=a.attr('data-id');var children=parseInt(a.attr('data-child'));var productItem=li.parents('.product-item');var wrapper=$(this).parents('.btn-group-search:first');if (children==0){$('[type="checkbox"]',li).click();return false;}var subUl=$('ul',li);if (subUl.length){li.toggleClass('open');return false;}else{li.append('<ul class="dropdown-menu inner"></ul>');li.addClass('open');subUl=$('ul',li);}if (children > 0){var url='/apiv2/pcategories/';var data={};var input=$('input.typeahead-api',wrapper);var params=input.attr('data-params');if (params){var paramsArray=params.split('&');for(var i=0;i < paramsArray.length;i++){var paramArray=paramsArray[i].split('=');var param=paramArray[0];var val=paramArray[1];if (param=='parent'){val=productCategoryId;}data[param]=val;}}var showCheckboxes=(input.attr('data-checkboxes')=='1');subUl.html('<li class="loading"></li>');var btnTextObj=$('.btn .text',wrapper);var selectedCategoriesIdsStr=$(btnTextObj).attr('data-ids');var selectedCategoriesIds=[];if (selectedCategoriesIdsStr){selectedCategoriesIds=selectedCategoriesIdsStr.split(',')}Api.get(url, data, function(response){if (response.totalCount > 0){if (response.pcategories){var itemsHTML='';var searchText=false;for (var i=0;i < response.pcategories.length;i++){var pcategory=response.pcategories[i];var itemHTML='';var itemClass='';var showCheckbox=!(pcategory.children > 0 && !showCheckboxes);if (pcategory.children > 0){itemClass+=(itemClass=='')?'':' ';itemClass+='parent';}itemHTML+='<li'+((itemClass=='')?'':' class="'+itemClass+'"')+ '>';itemHTML+='<a href="javascript:;" data-parent="'+pcategory.parent+'" data-id="'+pcategory.id+'" data-child="'+pcategory.children+'">';if (pcategory.children > 0){itemHTML+='<span class="glyphicon glyphicon-plus"></span>';itemHTML+='<span class="glyphicon glyphicon-minus"></span>';}else{if (!showCheckbox){itemHTML+='<span class="glyphicon glyphicon-empty"></span>';}}if (showCheckbox){var checked=(selectedCategoriesIds && (jQuery.inArray(pcategory.id,selectedCategoriesIds)!=-1));itemHTML+='<input'+(checked?' checked="checked"':'')+ ' type="checkbox" value="'+pcategory.id+'" />';}var name=pcategory.name;if (searchText){searchText=(searchText+'').replace(/([\\\.\+\*\?\[\^\]\$\(\)\{\}\=\!\<\>\|\:])/g, "\\$1");name=name.replace( new RegExp( "("+searchText+")" , 'gi'), "<b>$1</b>");}itemHTML+='<span class="text">'+name+'</span>';itemHTML+='</a>';itemHTML+='</li>';itemsHTML+=itemHTML;}subUl.html(itemsHTML);}}else{subUl.html("<li class=\"no-results\"><a>Ничего не найдено</a></li>");}});}e.preventDefault();});$('BODY').on('click','.select-tree [type="checkbox"]',function(e){var currentCategoryId=$(this).val();var currentCategoryTitle=$(this).next('.text').text();var a=$(this).parents('a:first');var wrapper=$(this).parents('.btn-group-search:first');var productWrapper=$(this).parents('.product-item:first');if (productWrapper.length){var productIndex=productWrapper.attr('data-product');}else{var productIndex=0;}if ($(this).is(':checked')){$(wrapper).append('<input data-child="'+a.attr('data-child')+ '" data-title="'+currentCategoryTitle+'" type="hidden" value="'+currentCategoryId+'" name="products['+productIndex+'][productcategories]['+currentCategoryId+']">');$('.dropdown-menu-removable',wrapper).append('<span class="removable-item" data-id="'+currentCategoryId+'">'+currentCategoryTitle+' <span class="glyphicon glyphicon-remove" title="Удалить"></span></span>');}else{$('[name="products['+productIndex+'][productcategories]['+currentCategoryId+']"]').remove();$('.dropdown-menu-removable .removable-item[data-id="'+currentCategoryId+'"]').remove();}var categoriesIds=config.categoriesDropdown.getCategoriesIdsStr(wrapper,productIndex);var categoriesText=config.categoriesDropdown.getCategoriesText(wrapper,productIndex);var btnTextObj=$('.btn .text',wrapper);if (categoriesText==''){btnTextObj.text(btnTextObj.attr('data-text'));}else{if (!btnTextObj.attr('data-text')){btnTextObj.attr('data-text',btnTextObj.text());}btnTextObj.html(categoriesText);}btnTextObj.attr('data-ids',categoriesIds);var openTree=false;var li=$(this).parents('li:first');if (li.hasClass('parent')&& !li.hasClass('open')){openTree=true;}if (openTree){$('span',a).click();}e.stopPropagation();});$('BODY').on('click','.removable-item',function(e){e.stopPropagation();});$('BODY').on('click','.removable-item .glyphicon',function(e){var removable=$(this).parents('.removable-item');var wrapper=$(this).parents('.btn-group-search');var productWrapper=$(this).parents('.product-item:first');if (productWrapper.length){var productIndex=productWrapper.attr('data-product');}else{var productIndex=0;}var categoryId=removable.attr('data-id');var checkbox=$('.dropdown-menu.inner [type="checkbox"][value="'+categoryId+'"]',wrapper);if (checkbox.length){checkbox.prop('checked',false);}else{}var categoriesInputs=$('[name^="products['+productIndex+'][productcategories]['+categoryId+']"]');categoriesInputs.remove();removable.remove();var categoriesIds=config.categoriesDropdown.getCategoriesIdsStr(wrapper,productIndex);var categoriesText=config.categoriesDropdown.getCategoriesText(wrapper,productIndex);var btnTextObj=$('.btn .text',wrapper);if (categoriesText==''){btnTextObj.text(btnTextObj.attr('data-text'));}else{if (!btnTextObj.attr('data-text')){btnTextObj.attr('data-text',btnTextObj.text());}btnTextObj.html(categoriesText);}btnTextObj.attr('data-ids',categoriesIds);e.stopPropagation();});$('BODY').on('click','.btn-group-search .btn-filter-discounts-apply',function(e){var currentUrl=location.protocol+'/'+'/'+location.host+location.pathname;var params='';if (config.originalState.indexOf('?')!=-1){var request={};var pairs=config.originalState.substring(config.originalState.indexOf('?')+ 1).split('&');for (var i=0;i < pairs.length;i++){if(!pairs[i])continue;var pair=pairs[i].split('=');request[decodeURIComponent(pair[0])]=decodeURIComponent(pair[1]);}delete request['cids'];delete request['show'];for (var key in request){params+=(params=='')?'':'&';params+=encodeURIComponent(key);if (request[key] !='undefined'){params+='='+encodeURIComponent(request[key]);}}}var categoriesInputs=$('[name^="products[0][productcategories]"]');var categoriesIds='';if (categoriesInputs.length){var categoryIdsArray=[];categoriesInputs.each(function(){if($.inArray($(this).val(), categoryIdsArray)===-1)categoryIdsArray.push($(this).val());});$(categoryIdsArray).each(function(i,el){categoriesIds+=(categoriesIds=='')?'':',';categoriesIds+=el;});}if (categoriesIds !=''){params+=(params=='')?'':'&';params+='cids='+categoriesIds;}var url=currentUrl;if (params !=''){url+='?'+params;}window.location=url;e.preventDefault();});$('BODY').on('click','.btn-group-search .btn-filter-discounts-clear',function(e){var categoriesInputs=$('[name^="products[0][productcategories]"]');categoriesInputs.remove();var currentUrl=location.protocol+'/'+'/'+location.host+location.pathname;window.location=currentUrl;e.preventDefault();});})( jQuery);!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a,b){function c(){return new Date(Date.UTC.apply(Date,arguments))}function d(){var a=new Date;return c(a.getFullYear(),a.getMonth(),a.getDate())}function e(a,b){return a.getUTCFullYear()===b.getUTCFullYear()&&a.getUTCMonth()===b.getUTCMonth()&&a.getUTCDate()===b.getUTCDate()}function f(a){return function(){return this[a].apply(this,arguments)}}function g(a){return a&&!isNaN(a.getTime())}function h(b,c){function d(a,b){return b.toLowerCase()}var e,f=a(b).data(),g={},h=new RegExp("^"+c.toLowerCase()+"([A-Z])");c=new RegExp("^"+c.toLowerCase());for(var i in f)c.test(i)&&(e=i.replace(h,d),g[e]=f[i]);return g}function i(b){var c={};if(q[b]||(b=b.split("-")[0],q[b])){var d=q[b];return a.each(p,function(a,b){b in d&&(c[b]=d[b])}),c}}var j=function(){var b={get:function(a){return this.slice(a)[0]},contains:function(a){for(var b=a&&a.valueOf(),c=0,d=this.length;d>c;c++)if(this[c].valueOf()===b)return c;return-1},remove:function(a){this.splice(a,1)},replace:function(b){b&&(a.isArray(b)||(b=[b]),this.clear(),this.push.apply(this,b))},clear:function(){this.length=0},copy:function(){var a=new j;return a.replace(this),a}};return function(){var c=[];return c.push.apply(c,arguments),a.extend(c,b),c}}(),k=function(b,c){a(b).data("datepicker",this),this._process_options(c),this.dates=new j,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=a(b),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.inputField.length,this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=a(r.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(a,b){return parseInt(b)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};k.prototype={constructor:k,_resolveViewName:function(a,c){return 0===a||"days"===a||"month"===a?0:1===a||"months"===a||"year"===a?1:2===a||"years"===a||"decade"===a?2:3===a||"decades"===a||"century"===a?3:4===a||"centuries"===a||"millennium"===a?4:c===b?!1:c},_check_template:function(c){try{if(c===b||""===c)return!1;if((c.match(/[<>]/g)||[]).length<=0)return!0;var d=a(c);return d.length>0}catch(e){return!1}},_process_options:function(b){this._o=a.extend({},this._o,b);var e=this.o=a.extend({},this._o),f=e.language;q[f]||(f=f.split("-")[0],q[f]||(f=o.language)),e.language=f,e.startView=this._resolveViewName(e.startView,0),e.minViewMode=this._resolveViewName(e.minViewMode,0),e.maxViewMode=this._resolveViewName(e.maxViewMode,4),e.startView=Math.min(e.startView,e.maxViewMode),e.startView=Math.max(e.startView,e.minViewMode),e.multidate!==!0&&(e.multidate=Number(e.multidate)||!1,e.multidate!==!1&&(e.multidate=Math.max(0,e.multidate))),e.multidateSeparator=String(e.multidateSeparator),e.weekStart%=7,e.weekEnd=(e.weekStart+6)%7;var g=r.parseFormat(e.format);e.startDate!==-(1/0)&&(e.startDate?e.startDate instanceof Date?e.startDate=this._local_to_utc(this._zero_time(e.startDate)):e.startDate=r.parseDate(e.startDate,g,e.language,e.assumeNearbyYear):e.startDate=-(1/0)),e.endDate!==1/0&&(e.endDate?e.endDate instanceof Date?e.endDate=this._local_to_utc(this._zero_time(e.endDate)):e.endDate=r.parseDate(e.endDate,g,e.language,e.assumeNearbyYear):e.endDate=1/0),e.daysOfWeekDisabled=e.daysOfWeekDisabled||[],a.isArray(e.daysOfWeekDisabled)||(e.daysOfWeekDisabled=e.daysOfWeekDisabled.split(/[,\s]*/)),e.daysOfWeekDisabled=a.map(e.daysOfWeekDisabled,function(a){return parseInt(a,10)}),e.daysOfWeekHighlighted=e.daysOfWeekHighlighted||[],a.isArray(e.daysOfWeekHighlighted)||(e.daysOfWeekHighlighted=e.daysOfWeekHighlighted.split(/[,\s]*/)),e.daysOfWeekHighlighted=a.map(e.daysOfWeekHighlighted,function(a){return parseInt(a,10)}),e.datesDisabled=e.datesDisabled||[],a.isArray(e.datesDisabled)||(e.datesDisabled=[e.datesDisabled]),e.datesDisabled=a.map(e.datesDisabled,function(a){return r.parseDate(a,g,e.language,e.assumeNearbyYear)});var h=String(e.orientation).toLowerCase().split(/\s+/g),i=e.orientation.toLowerCase();if(h=a.grep(h,function(a){return/^auto|left|right|top|bottom$/.test(a)}),e.orientation={x:"auto",y:"auto"},i&&"auto"!==i)if(1===h.length)switch(h[0]){case"top":case"bottom":e.orientation.y=h[0];break;case"left":case"right":e.orientation.x=h[0]}else i=a.grep(h,function(a){return/^left|right$/.test(a)}),e.orientation.x=i[0]||"auto",i=a.grep(h,function(a){return/^top|bottom$/.test(a)}),e.orientation.y=i[0]||"auto";else;if(e.defaultViewDate){var j=e.defaultViewDate.year||(new Date).getFullYear(),k=e.defaultViewDate.month||0,l=e.defaultViewDate.day||1;e.defaultViewDate=c(j,k,l)}else e.defaultViewDate=d()},_events:[],_secondaryEvents:[],_applyEvents:function(a){for(var c,d,e,f=0;f<a.length;f++)c=a[f][0],2===a[f].length?(d=b,e=a[f][1]):3===a[f].length&&(d=a[f][1],e=a[f][2]),c.on(e,d)},_unapplyEvents:function(a){for(var c,d,e,f=0;f<a.length;f++)c=a[f][0],2===a[f].length?(e=b,d=a[f][1]):3===a[f].length&&(e=a[f][1],d=a[f][2]),c.off(d,e)},_buildEvents:function(){var b={keyup:a.proxy(function(b){-1===a.inArray(b.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:a.proxy(this.keydown,this),paste:a.proxy(this.paste,this)};this.o.showOnFocus===!0&&(b.focus=a.proxy(this.show,this)),this.isInput?this._events=[[this.element,b]]:this.component&&this.hasInput?this._events=[[this.inputField,b],[this.component,{click:a.proxy(this.show,this)}]]:this._events=[[this.element,{click:a.proxy(this.show,this),keydown:a.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:a.proxy(function(a){this._focused_from=a.target},this)}],[this.element,{blur:a.proxy(function(a){this._focused_from=a.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":a.proxy(function(a){this.update(a.date)},this)}]),this._secondaryEvents=[[this.picker,{click:a.proxy(this.click,this)}],[a(window),{resize:a.proxy(this.place,this)}],[a(document),{mousedown:a.proxy(function(a){this.element.is(a.target)||this.element.find(a.target).length||this.picker.is(a.target)||this.picker.find(a.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(b,c){var d=c||this.dates.get(-1),e=this._utc_to_local(d);this.element.trigger({type:b,date:e,dates:a.map(this.dates,this._utc_to_local),format:a.proxy(function(a,b){0===arguments.length?(a=this.dates.length-1,b=this.o.format):"string"==typeof a&&(b=a,a=this.dates.length-1),b=b||this.o.format;var c=this.dates.get(a);return r.formatDate(c,b,this.o.language)},this)})},show:function(){return this.inputField.prop("disabled")||this.inputField.prop("readonly")&&this.o.enableOnReadonly===!1?void 0:(this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&a(this.element).blur(),this)},hide:function(){return this.isInline||!this.picker.is(":visible")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(b){var c;if(b.originalEvent.clipboardData&&b.originalEvent.clipboardData.types&&-1!==a.inArray("text/plain",b.originalEvent.clipboardData.types))c=b.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;c=window.clipboardData.getData("Text")}this.setDate(c),this.update(),b.preventDefault()},_utc_to_local:function(a){return a&&new Date(a.getTime()+6e4*a.getTimezoneOffset())},_local_to_utc:function(a){return a&&new Date(a.getTime()-6e4*a.getTimezoneOffset())},_zero_time:function(a){return a&&new Date(a.getFullYear(),a.getMonth(),a.getDate())},_zero_utc_time:function(a){return a&&new Date(Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()))},getDates:function(){return a.map(this.dates,this._utc_to_local)},getUTCDates:function(){return a.map(this.dates,function(a){return new Date(a)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var a=this.dates.get(-1);return"undefined"!=typeof a?new Date(a):null},clearDates:function(){this.inputField&&this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var b=a.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,b),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var b=a.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,a.map(b,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:f("setDates"),setUTCDate:f("setUTCDates"),remove:f("destroy"),setValue:function(){var a=this.getFormattedDate();return this.inputField.val(a),this},getFormattedDate:function(c){c===b&&(c=this.o.format);var d=this.o.language;return a.map(this.dates,function(a){return r.formatDate(a,c,d)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(a){return this._process_options({startDate:a}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(a){return this._process_options({endDate:a}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(a){return this._process_options({daysOfWeekDisabled:a}),this.update(),this.updateNavArrows(),this},setDaysOfWeekHighlighted:function(a){return this._process_options({daysOfWeekHighlighted:a}),this.update(),this},setDatesDisabled:function(a){this._process_options({datesDisabled:a}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var b=this.picker.outerWidth(),c=this.picker.outerHeight(),d=10,e=a(this.o.container),f=e.width(),g="body"===this.o.container?a(document).scrollTop():e.scrollTop(),h=e.offset(),i=[];this.element.parents().each(function(){var b=a(this).css("z-index");"auto"!==b&&0!==b&&i.push(parseInt(b))});var j=Math.max.apply(Math,i)+this.o.zIndexOffset,k=this.component?this.component.parent().offset():this.element.offset(),l=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),m=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),n=k.left-h.left,o=k.top-h.top;"body"!==this.o.container&&(o+=g),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(n-=b-m)):k.left<0?(this.picker.addClass("datepicker-orient-left"),n-=k.left-d):n+b>f?(this.picker.addClass("datepicker-orient-right"),n+=m-b):this.picker.addClass("datepicker-orient-left");var p,q=this.o.orientation.y;if("auto"===q&&(p=-g+o-c,q=0>p?"bottom":"top"),this.picker.addClass("datepicker-orient-"+q),"top"===q?o-=c+parseInt(this.picker.css("padding-top")):o+=l,this.o.rtl){var r=f-(n+m);this.picker.css({top:o,right:r,zIndex:j})}else this.picker.css({top:o,left:n,zIndex:j});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var b=this.dates.copy(),c=[],d=!1;return arguments.length?(a.each(arguments,a.proxy(function(a,b){b instanceof Date&&(b=this._local_to_utc(b)),c.push(b)},this)),d=!0):(c=this.isInput?this.element.val():this.element.data("date")||this.inputField.val(),c=c&&this.o.multidate?c.split(this.o.multidateSeparator):[c],delete this.element.data().date),c=a.map(c,a.proxy(function(a){return r.parseDate(a,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),c=a.grep(c,a.proxy(function(a){return!this.dateWithinRange(a)||!a},this),!0),this.dates.replace(c),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate,d?this.setValue():c.length&&String(b)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&b.length&&this._trigger("clearDate"),this.fill(),this.element.change(),this},fillDow:function(){var b=this.o.weekStart,c="<tr>";for(this.o.calendarWeeks&&(this.picker.find(".datepicker-days .datepicker-switch").attr("colspan",function(a,b){return parseInt(b)+1}),c+='<th class="cw">&#160;</th>');b<this.o.weekStart+7;)c+='<th class="dow',a.inArray(b,this.o.daysOfWeekDisabled)>-1&&(c+=" disabled"),c+='">'+q[this.o.language].daysMin[b++%7]+"</th>";c+="</tr>",this.picker.find(".datepicker-days thead").append(c)},fillMonths:function(){for(var a=this._utc_to_local(this.viewDate),b="",c=0;12>c;){var d=a&&a.getMonth()===c?" focused":"";b+='<span class="month'+d+'">'+q[this.o.language].monthsShort[c++]+"</span>"}this.picker.find(".datepicker-months td").html(b)},setRange:function(b){b&&b.length?this.range=a.map(b,function(a){return a.valueOf()}):delete this.range,this.fill()},getClassNames:function(b){var c=[],d=this.viewDate.getUTCFullYear(),e=this.viewDate.getUTCMonth(),f=new Date;return b.getUTCFullYear()<d||b.getUTCFullYear()===d&&b.getUTCMonth()<e?c.push("old"):(b.getUTCFullYear()>d||b.getUTCFullYear()===d&&b.getUTCMonth()>e)&&c.push("new"),this.focusDate&&b.valueOf()===this.focusDate.valueOf()&&c.push("focused"),this.o.todayHighlight&&b.getUTCFullYear()===f.getFullYear()&&b.getUTCMonth()===f.getMonth()&&b.getUTCDate()===f.getDate()&&c.push("today"),-1!==this.dates.contains(b)&&c.push("active"),this.dateWithinRange(b)||c.push("disabled"),this.dateIsDisabled(b)&&c.push("disabled","disabled-date"),-1!==a.inArray(b.getUTCDay(),this.o.daysOfWeekHighlighted)&&c.push("highlighted"),this.range&&(b>this.range[0]&&b<this.range[this.range.length-1]&&c.push("range"),-1!==a.inArray(b.valueOf(),this.range)&&c.push("selected"),b.valueOf()===this.range[0]&&c.push("range-start"),b.valueOf()===this.range[this.range.length-1]&&c.push("range-end")),c},_fill_yearsView:function(c,d,e,f,g,h,i,j){var k,l,m,n,o,p,q,r,s,t,u;for(k="",l=this.picker.find(c),m=parseInt(g/e,10)*e,o=parseInt(h/f,10)*f,p=parseInt(i/f,10)*f,n=a.map(this.dates,function(a){return parseInt(a.getUTCFullYear()/f,10)*f}),l.find(".datepicker-switch").text(m+"-"+(m+9*f)),q=m-f,r=-1;11>r;r+=1)s=[d],t=null,-1===r?s.push("old"):10===r&&s.push("new"),-1!==a.inArray(q,n)&&s.push("active"),(o>q||q>p)&&s.push("disabled"),q===this.viewDate.getFullYear()&&s.push("focused"),j!==a.noop&&(u=j(new Date(q,0,1)),u===b?u={}:"boolean"==typeof u?u={enabled:u}:"string"==typeof u&&(u={classes:u}),u.enabled===!1&&s.push("disabled"),u.classes&&(s=s.concat(u.classes.split(/\s+/))),u.tooltip&&(t=u.tooltip)),k+='<span class="'+s.join(" ")+'"'+(t?' title="'+t+'"':"")+">"+q+"</span>",q+=f;l.find("td").html(k)},fill:function(){var d,e,f=new Date(this.viewDate),g=f.getUTCFullYear(),h=f.getUTCMonth(),i=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),j=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),k=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,m=q[this.o.language].today||q.en.today||"",n=q[this.o.language].clear||q.en.clear||"",o=q[this.o.language].titleFormat||q.en.titleFormat;if(!isNaN(g)&&!isNaN(h)){this.picker.find(".datepicker-days .datepicker-switch").text(r.formatDate(f,o,this.o.language)),this.picker.find("tfoot .today").text(m).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(n).toggle(this.o.clearBtn!==!1),this.picker.find("thead .datepicker-title").text(this.o.title).toggle(""!==this.o.title),this.updateNavArrows(),this.fillMonths();var p=c(g,h-1,28),s=r.getDaysInMonth(p.getUTCFullYear(),p.getUTCMonth());p.setUTCDate(s),p.setUTCDate(s-(p.getUTCDay()-this.o.weekStart+7)%7);var t=new Date(p);p.getUTCFullYear()<100&&t.setUTCFullYear(p.getUTCFullYear()),t.setUTCDate(t.getUTCDate()+42),t=t.valueOf();for(var u,v=[];p.valueOf()<t;){if(p.getUTCDay()===this.o.weekStart&&(v.push("<tr>"),this.o.calendarWeeks)){var w=new Date(+p+(this.o.weekStart-p.getUTCDay()-7)%7*864e5),x=new Date(Number(w)+(11-w.getUTCDay())%7*864e5),y=new Date(Number(y=c(x.getUTCFullYear(),0,1))+(11-y.getUTCDay())%7*864e5),z=(x-y)/864e5/7+1;v.push('<td class="cw">'+z+"</td>")}u=this.getClassNames(p),u.push("day"),this.o.beforeShowDay!==a.noop&&(e=this.o.beforeShowDay(this._utc_to_local(p)),e===b?e={}:"boolean"==typeof e?e={enabled:e}:"string"==typeof e&&(e={classes:e}),e.enabled===!1&&u.push("disabled"),e.classes&&(u=u.concat(e.classes.split(/\s+/))),e.tooltip&&(d=e.tooltip)),u=a.isFunction(a.uniqueSort)?a.uniqueSort(u):a.unique(u),v.push('<td class="'+u.join(" ")+'"'+(d?' title="'+d+'"':"")+">"+p.getUTCDate()+"</td>"),d=null,p.getUTCDay()===this.o.weekEnd&&v.push("</tr>"),p.setUTCDate(p.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(v.join(""));var A=q[this.o.language].monthsTitle||q.en.monthsTitle||"Months",B=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?A:g).end().find("span").removeClass("active");if(a.each(this.dates,function(a,b){b.getUTCFullYear()===g&&B.eq(b.getUTCMonth()).addClass("active")}),(i>g||g>k)&&B.addClass("disabled"),g===i&&B.slice(0,j).addClass("disabled"),g===k&&B.slice(l+1).addClass("disabled"),this.o.beforeShowMonth!==a.noop){var C=this;a.each(B,function(c,d){var e=new Date(g,c,1),f=C.o.beforeShowMonth(e);f===b?f={}:"boolean"==typeof f?f={enabled:f}:"string"==typeof f&&(f={classes:f}),f.enabled!==!1||a(d).hasClass("disabled")||a(d).addClass("disabled"),f.classes&&a(d).addClass(f.classes),f.tooltip&&a(d).prop("title",f.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,1,g,i,k,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,10,g,i,k,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,100,g,i,k,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var a=new Date(this.viewDate),b=a.getUTCFullYear(),c=a.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&b<=this.o.startDate.getUTCFullYear()&&c<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&b>=this.o.endDate.getUTCFullYear()&&c>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:case 3:case 4:this.o.startDate!==-(1/0)&&b<=this.o.startDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&b>=this.o.endDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(b){b.preventDefault(),b.stopPropagation();var e,f,g,h,i,j,k;e=a(b.target),e.hasClass("datepicker-switch")&&this.showMode(1);var l=e.closest(".prev, .next");l.length>0&&(f=r.modes[this.viewMode].navStep*(l.hasClass("prev")?-1:1),0===this.viewMode?(this.viewDate=this.moveMonth(this.viewDate,f),this._trigger("changeMonth",this.viewDate)):(this.viewDate=this.moveYear(this.viewDate,f),1===this.viewMode&&this._trigger("changeYear",this.viewDate)),this.fill()),e.hasClass("today")&&!e.hasClass("day")&&(this.showMode(-2),this._setDate(d(),"linked"===this.o.todayBtn?null:"view")),e.hasClass("clear")&&this.clearDates(),e.hasClass("disabled")||(e.hasClass("day")&&(g=parseInt(e.text(),10)||1,h=this.viewDate.getUTCFullYear(),i=this.viewDate.getUTCMonth(),e.hasClass("old")&&(0===i?(i=11,h-=1,j=!0,k=!0):(i-=1,j=!0)),e.hasClass("new")&&(11===i?(i=0,h+=1,j=!0,k=!0):(i+=1,j=!0)),this._setDate(c(h,i,g)),k&&this._trigger("changeYear",this.viewDate),j&&this._trigger("changeMonth",this.viewDate)),e.hasClass("month")&&(this.viewDate.setUTCDate(1),g=1,i=e.parent().find("span").index(e),h=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(i),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode?(this._setDate(c(h,i,g)),this.showMode()):this.showMode(-1),this.fill()),(e.hasClass("year")||e.hasClass("decade")||e.hasClass("century"))&&(this.viewDate.setUTCDate(1),g=1,i=0,h=parseInt(e.text(),10)||0,this.viewDate.setUTCFullYear(h),e.hasClass("year")&&(this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(c(h,i,g))),e.hasClass("decade")&&(this._trigger("changeDecade",this.viewDate),3===this.o.minViewMode&&this._setDate(c(h,i,g))),e.hasClass("century")&&(this._trigger("changeCentury",this.viewDate),4===this.o.minViewMode&&this._setDate(c(h,i,g))),this.showMode(-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&a(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(a){var b=this.dates.contains(a);if(a||this.dates.clear(),-1!==b?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(b):this.o.multidate===!1?(this.dates.clear(),this.dates.push(a)):this.dates.push(a),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(a,b){b&&"date"!==b||this._toggle_multidate(a&&new Date(a)),b&&"view"!==b||(this.viewDate=a&&new Date(a)),this.fill(),this.setValue(),b&&"view"===b||this._trigger("changeDate"),this.inputField&&this.inputField.change(),!this.o.autoclose||b&&"date"!==b||this.hide()},moveDay:function(a,b){var c=new Date(a);return c.setUTCDate(a.getUTCDate()+b),c},moveWeek:function(a,b){return this.moveDay(a,7*b)},moveMonth:function(a,b){if(!g(a))return this.o.defaultViewDate;if(!b)return a;var c,d,e=new Date(a.valueOf()),f=e.getUTCDate(),h=e.getUTCMonth(),i=Math.abs(b);if(b=b>0?1:-1,1===i)d=-1===b?function(){return e.getUTCMonth()===h}:function(){return e.getUTCMonth()!==c},c=h+b,e.setUTCMonth(c),(0>c||c>11)&&(c=(c+12)%12);else{for(var j=0;i>j;j++)e=this.moveMonth(e,b);c=e.getUTCMonth(),e.setUTCDate(f),d=function(){return c!==e.getUTCMonth()}}for(;d();)e.setUTCDate(--f),e.setUTCMonth(c);return e},moveYear:function(a,b){return this.moveMonth(a,12*b)},moveAvailableDate:function(a,b,c){do{if(a=this[c](a,b),!this.dateWithinRange(a))return!1;c="moveDay"}while(this.dateIsDisabled(a));return a},weekOfDateIsDisabled:function(b){return-1!==a.inArray(b.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(b){return this.weekOfDateIsDisabled(b)||a.grep(this.o.datesDisabled,function(a){return e(b,a)}).length>0},dateWithinRange:function(a){return a>=this.o.startDate&&a<=this.o.endDate},keydown:function(a){if(!this.picker.is(":visible"))return void((40===a.keyCode||27===a.keyCode)&&(this.show(),a.stopPropagation()));var b,c,d=!1,e=this.focusDate||this.viewDate;switch(a.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),a.preventDefault(),a.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;b=37===a.keyCode||38===a.keyCode?-1:1,0===this.viewMode?a.ctrlKey?(c=this.moveAvailableDate(e,b,"moveYear"),c&&this._trigger("changeYear",this.viewDate)):a.shiftKey?(c=this.moveAvailableDate(e,b,"moveMonth"),c&&this._trigger("changeMonth",this.viewDate)):37===a.keyCode||39===a.keyCode?c=this.moveAvailableDate(e,b,"moveDay"):this.weekOfDateIsDisabled(e)||(c=this.moveAvailableDate(e,b,"moveWeek")):1===this.viewMode?((38===a.keyCode||40===a.keyCode)&&(b=4*b),c=this.moveAvailableDate(e,b,"moveMonth")):2===this.viewMode&&((38===a.keyCode||40===a.keyCode)&&(b=4*b),c=this.moveAvailableDate(e,b,"moveYear")),c&&(this.focusDate=this.viewDate=c,this.setValue(),this.fill(),a.preventDefault());break;case 13:if(!this.o.forceParse)break;e=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(e),d=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(a.preventDefault(),a.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}d&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField&&this.inputField.change())},showMode:function(a){a&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,this.viewMode+a))),this.picker.children("div").hide().filter(".datepicker-"+r.modes[this.viewMode].clsName).show(),this.updateNavArrows()}};var l=function(b,c){a(b).data("datepicker",this),this.element=a(b),this.inputs=a.map(c.inputs,function(a){return a.jquery?a[0]:a}),delete c.inputs,n.call(a(this.inputs),c).on("changeDate",a.proxy(this.dateUpdated,this)),this.pickers=a.map(this.inputs,function(b){return a(b).data("datepicker")}),this.updateDates()};l.prototype={updateDates:function(){this.dates=a.map(this.pickers,function(a){return a.getUTCDate()}),this.updateRanges()},updateRanges:function(){var b=a.map(this.dates,function(a){return a.valueOf()});a.each(this.pickers,function(a,c){c.setRange(b)})},dateUpdated:function(b){if(!this.updating){this.updating=!0;var c=a(b.target).data("datepicker");if("undefined"!=typeof c){var d=c.getUTCDate(),e=a.inArray(b.target,this.inputs),f=e-1,g=e+1,h=this.inputs.length;if(-1!==e){if(a.each(this.pickers,function(a,b){b.getUTCDate()||b.setUTCDate(d)}),d<this.dates[f])for(;f>=0&&d<this.dates[f];)this.pickers[f--].setUTCDate(d);else if(d>this.dates[g])for(;h>g&&d>this.dates[g];)this.pickers[g++].setUTCDate(d);this.updateDates(),delete this.updating}}}},remove:function(){a.map(this.pickers,function(a){a.remove()}),delete this.element.data().datepicker}};var m=a.fn.datepicker,n=function(c){var d=Array.apply(null,arguments);d.shift();var e;if(this.each(function(){var b=a(this),f=b.data("datepicker"),g="object"==typeof c&&c;if(!f){var j=h(this,"date"),m=a.extend({},o,j,g),n=i(m.language),p=a.extend({},o,n,j,g);b.hasClass("input-daterange")||p.inputs?(a.extend(p,{inputs:p.inputs||b.find("input").toArray()}),f=new l(this,p)):f=new k(this,p),b.data("datepicker",f)}"string"==typeof c&&"function"==typeof f[c]&&(e=f[c].apply(f,d))}),e===b||e instanceof k||e instanceof l)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+c+" function)");return e};a.fn.datepicker=n;var o=a.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:a.noop,beforeShowMonth:a.noop,beforeShowYear:a.noop,beforeShowDecade:a.noop,beforeShowCentury:a.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&laquo;",rightArrow:"&raquo;"}},p=a.fn.datepicker.locale_opts=["format","rtl","weekStart"];a.fn.datepicker.Constructor=k;var q=a.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},r={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10},{clsName:"decades",navFnc:"FullDecade",navStep:100},{clsName:"centuries",navFnc:"FullCentury",navStep:1e3}],isLeapYear:function(a){return a%4===0&&a%100!==0||a%400===0},getDaysInMonth:function(a,b){return[31,r.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(a){if("function"==typeof a.toValue&&"function"==typeof a.toDisplay)return a;var b=a.replace(this.validParts,"\x00").split("\x00"),c=a.match(this.validParts);if(!b||!b.length||!c||0===c.length)throw new Error("Invalid date format.");return{separators:b,parts:c}},parseDate:function(e,f,g,h){function i(a,b){return b===!0&&(b=10),100>a&&(a+=2e3,a>(new Date).getFullYear()+b&&(a-=100)),a}function j(){var a=this.slice(0,s[n].length),b=s[n].slice(0,a.length);return a.toLowerCase()===b.toLowerCase()}if(!e)return b;if(e instanceof Date)return e;if("string"==typeof f&&(f=r.parseFormat(f)),f.toValue)return f.toValue(e,f,g);var l,m,n,o,p=/([\-+]\d+)([dmwy])/,s=e.match(/([\-+]\d+)([dmwy])/g),t={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},u={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(e)){for(e=new Date,n=0;n<s.length;n++)l=p.exec(s[n]),m=parseInt(l[1]),o=t[l[2]],e=k.prototype[o](e,m);return c(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())}if("undefined"!=typeof u[e]&&(e=u[e],s=e.match(/([\-+]\d+)([dmwy])/g),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(e))){for(e=new Date,n=0;n<s.length;n++)l=p.exec(s[n]),m=parseInt(l[1]),o=t[l[2]],e=k.prototype[o](e,m);return c(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())}s=e&&e.match(this.nonpunctuation)||[],e=new Date;var v,w,x={},y=["yyyy","yy","M","MM","m","mm","d","dd"],z={yyyy:function(a,b){return a.setUTCFullYear(h?i(b,h):b)},yy:function(a,b){return a.setUTCFullYear(h?i(b,h):b)},m:function(a,b){if(isNaN(a))return a;for(b-=1;0>b;)b+=12;for(b%=12,a.setUTCMonth(b);a.getUTCMonth()!==b;)a.setUTCDate(a.getUTCDate()-1);return a},d:function(a,b){return a.setUTCDate(b)}};z.M=z.MM=z.mm=z.m,z.dd=z.d,e=d();var A=f.parts.slice();if(s.length!==A.length&&(A=a(A).filter(function(b,c){return-1!==a.inArray(c,y)}).toArray()),s.length===A.length){var B;for(n=0,B=A.length;B>n;n++){if(v=parseInt(s[n],10),l=A[n],isNaN(v))switch(l){case"MM":w=a(q[g].months).filter(j),v=a.inArray(w[0],q[g].months)+1;break;case"M":w=a(q[g].monthsShort).filter(j),v=a.inArray(w[0],q[g].monthsShort)+1}x[l]=v}var C,D;for(n=0;n<y.length;n++)D=y[n],D in x&&!isNaN(x[D])&&(C=new Date(e),z[D](C,x[D]),isNaN(C)||(e=C))}return e},formatDate:function(b,c,d){if(!b)return"";if("string"==typeof c&&(c=r.parseFormat(c)),c.toDisplay)return c.toDisplay(b,c,d);var e={d:b.getUTCDate(),D:q[d].daysShort[b.getUTCDay()],DD:q[d].days[b.getUTCDay()],m:b.getUTCMonth()+1,M:q[d].monthsShort[b.getUTCMonth()],MM:q[d].months[b.getUTCMonth()],yy:b.getUTCFullYear().toString().substring(2),yyyy:b.getUTCFullYear()};e.dd=(e.d<10?"0":"")+e.d,e.mm=(e.m<10?"0":"")+e.m,b=[];for(var f=a.extend([],c.separators),g=0,h=c.parts.length;h>=g;g++)f.length&&b.push(f.shift()),b.push(e[c.parts[g]]);return b.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};r.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+r.headTemplate+"<tbody></tbody>"+r.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+"</table></div></div>",a.fn.datepicker.DPGlobal=r,a.fn.datepicker.noConflict=function(){return a.fn.datepicker=m,this},a.fn.datepicker.version="1.6.4",a(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(b){var c=a(this);c.data("datepicker")||(b.preventDefault(),n.call(c,"show"))}),a(function(){n.call(a('[data-provide="datepicker-inline"]'))})});;(function($){$.fn.datepicker.dates['be']={days: ["Нядзеля", "Панядзелак", "Аўторак", "Серада", "Чацвер", "Пятніца", "Субота", "Нядзеля"],daysShort: ["Ндз", "Пнд", "Атр", "Срд", "Чцв", "Птн", "Суб", "Ндз"],daysMin: ["Нд", "Пн", "Ат", "Ср", "Чт", "Пт", "Сб", "Нд"],months: ["Студзень", "Люты", "Сакавік", "Красавік", "Травень", "Чэрвень", "Ліпень", "Жнівень", "Верасень", "Кастрычнік", "Лістапад", "Снежань"],monthsShort: ["Стд", "Лют", "Сак", "Крс", "Трв", "Чэр", "Ліп", "Жнв", "Вер", "Кас", "Ліс", "Снж"],today: "Cёння",weekStart: 1};}(jQuery));var ContentLoadViaAjax=function(){var thisClass=this;thisClass.xhrs=[];thisClass.loadAll=function(elements){elements.each(function(i,el){thisClass.loadItem(i, el);});};thisClass.loadItem=function(i, el){var path=$(el).attr('data-lva');var params=$(el).attr('data-lvap');var obj=config.deparam(params);$(el).addClass('loader-mini-center');var xhr=Api.get(path, obj, function(response){if (response.success){$(el).html(response.result);}else{$(el).html(response.error_description);}$(el).removeClass('loader-mini-center');thisClass.xhrs[i]=false;$(el).append(' <a title="Обновить" class="lva-rpv" data-toggle="tooltip"><span class="glyphicon glyphicon-refresh"></span></a>');});thisClass.xhrs[i]=xhr;};};var lva=new ContentLoadViaAjax();lva.loadAll($('[data-lva]'));$('BODY').on('click','.lva-rpv',function(){var el=$(this).parents('[data-lva]');var obj=config.deparam($(el).attr('data-lvap'));obj.uc=1;$(el).attr('data-lvap',jQuery.param(obj));lva.loadItem(0, el);});$(window).on("beforeunload", function(){for( var i=0;i < lva.xhrs.length;i++){if (lva.xhrs[i]){lva.xhrs[i].abort();}}});$('.datepicker').datepicker({format: 'dd-mm-yyyy', language: 'be', autoclose: true, todayHighlight: true});$('.input-daterange input').each(function(){$('.input-daterange').datepicker({format: 'dd-mm-yyyy', language: 'be', todayHighlight: true});});config.dpLoaded=true;$('BODY').on('click', '#btn-discounts-date', function (){if ($('#form-control-discounts-date').val() !=''){var url=config.originalState;if (typeof config.discountsdate=='undefined'){url=url.replace(config.cityurl, config.cityurl+$('#form-control-discounts-date').val()+'/');}else{url=url.replace(config.discountsdate+'/', $('#form-control-discounts-date').val()+'/');}window.location=url;}});});$.getScript("https://gotoshop.by/js/bootstrap-timepicker.js?t=t1411035338", function (){$('.timepicker').timepicker({minuteStep: 5, showMeridian: false, showInputs: false, disableFocus: true});});});config.loadAdsense();}var trackOutboundLink=function(url){ga('send', 'event', 'outbound', 'click', url,{'transport': 'beacon', 'hitCallback': function(){window.open(url);}});};(function(){var script=document.createElement("script");script.src="https://gotoshop.by/js/jquery.2.1.3.js";script.onload=script.onreadystatechange=startScripts;script.async=true;document.body.appendChild( script );})();</script><div class="sidebar-menu-overlay"></div><div class="sidebar sidebar-menu hidden-print"><div class="row"><div class="col-xs-12"><div data-loginreload="mobileaccountmenu"><div role="complementary" class="hidden-print"><ul class="nav"><li><a href="/account/login/"><span class="plus-icon"></span><span class="glyphicon glyphicon-log-in" aria-hidden="true"></span> Вход </a></li><li><a href="/account/register/"><span class="plus-icon"></span><span class="glyphicon glyphicon-user" aria-hidden="true"></span> Регистрация </a></li><li><a href="/account/resetpassword/"><span class="plus-icon"></span><span class="glyphicon glyphicon-repeat" aria-hidden="true"></span> Восстановление пароля </a></li></ul></div></div><hr/><div role="complementary" class="hidden-print"><ul class="nav"><li><a href="/about/">О сайте</a></li><li><a href="/about/help/">Помощь</a></li><li><a href="/about/rules/">Правила</a></li><li><a href="/contact/">Связаться с нами</a></li><li><a href="/about/privacypolicy/">Политика конфиденциальности</a></li><li><a href="/about/apps/">Приложения для телефонов</a></li><li><a href="/subscribe/">Подписка</a></li></ul></div></div></div></div><div class="modal fade" id="alcohol-modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">Просмотр ассортимента продукции в данном разделе доступен для совершеннолетних лиц</h4></div><div class="modal-body"><p>Вам исполнилось 18 лет?</p></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">Да</button><button type="button" class="btn btn-primary">Нет</button></div></div></div></div></body></html><!--From cache. Time: 0.00010013580322266 Europe/Minsk Wed, 21 Mar 2018 12:17:38 +0300-->