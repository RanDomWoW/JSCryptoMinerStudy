<!DOCTYPE html><html lang="en"><head><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"><meta name="viewport" content="width=device-width"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="theme-color" content="#000000"><title>MA.PE - Twitch browser and multi-stream viewing</title><meta name="description" content="Spend less time waiting for Twitch pages to load and get to the content you want right away."><meta name="twitter:card" value="Spend less time waiting for Twitch pages to load and get to the content you want right away."><meta name="twitter:site" value="@mape"><meta property="og:title" content="MA.PE - Twitch browser and multi-stream viewing"><meta property="og:type" content="website"><meta property="og:url" content="https://ma.pe/"><meta property="og:image" content="https://ma.pe/img/og.jpg"><meta property="og:description" content="Spend less time waiting for Twitch pages to load and get to the content you want right away."><link rel="search" type="application/opensearchdescription+xml" title="MA.PE" href="/opensearch.xml"><style>.gamesFilterBar .game-box .name,.languageFilterBar .flag .name{display:none}#app:after,#app:before,.search .dropdown .result:after,.search .dropdown .result:before,.streamsPage .row:after,.streamsPage .row:before,.streamsPage .streams:after,.streamsPage .streams:before,.streamsPage .videos:after,.streamsPage .videos:before,.streamsPage:after{content:''}.channel.playing,.video.playing{-webkit-filter:saturate(0)}.channel .head,.channel .status,.game .head,.video .head,.video .status{overflow:hidden;text-overflow:ellipsis}a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline}.aboutPage .contact,.aboutPage .featured,.aboutPage .screen{margin:0 auto 40px;max-width:80pc}body{line-height:1;overflow-x:hidden;-webkit-user-select:none}ol,ul{list-style:none}table{border-collapse:collapse;border-spacing:0}a,div,input,span{-webkit-box-sizing:border-box;box-sizing:border-box;outline:0}*,.loadingButton button{box-sizing:border-box}::-webkit-scrollbar{width:10px;height:10px}::-webkit-scrollbar-button:vertical:end:decrement,::-webkit-scrollbar-button:vertical:start:increment{display:none}::-webkit-scrollbar-track-piece:vertical:start{background:#22211f;box-shadow:0 0 4px rgba(0,0,0,.6) inset}::-webkit-scrollbar-track-piece:vertical:end{background:#22211f;box-shadow:0 0 4px rgba(0,0,0,.6) inset}::-webkit-scrollbar-thumb:vertical{border:2px solid #444;border-radius:5px;box-shadow:0 0 4px #444 inset;background:#feffff;background:-webkit-gradient(left,color-stop(0,#333),color-stop(100%,#444));background:-webkit-linear-gradient(left,#333 0,#444 100%);background:-ms-linear-gradient(left,#333,#444);background:-moz-linear-gradient(left,#333 0,#444 100%)}::-webkit-scrollbar-button:horizontal:end:decrement,::-webkit-scrollbar-button:horizontal:start:increment{display:none}::-webkit-scrollbar-track-piece:horizontal:start{background:#22211f;box-shadow:0 0 4px rgba(0,0,0,.6) inset}::-webkit-scrollbar-track-piece:horizontal:end{background:#22211f;box-shadow:0 0 4px rgba(0,0,0,.6) inset}::-webkit-scrollbar-thumb:horizontal{border:2px solid #444;border-radius:5px;box-shadow:0 0 4px #444 inset;background:#feffff;background:-webkit-gradient(left,color-stop(0,#333),color-stop(100%,#444));background:-webkit-linear-gradient(left,#333 0,#444 100%);background:-ms-linear-gradient(left,#333,#444);background:-moz-linear-gradient(left,#333 0,#444 100%)}@font-face{font-family:Abel;src:url(/fonts/abel-regular-webfont.eot);src:url(/fonts/abel-regular-webfont.eot?#iefix) format('embedded-opentype'),url(/fonts/abel-regular-webfont.woff2) format('woff2'),url(/fonts/abel-regular-webfont.woff) format('woff'),url(/fonts/abel-regular-webfont.ttf) format('truetype'),url(/fonts/abel-regular-webfont.svg#abelregular) format('svg');font-weight:400;font-style:normal}body,html{background:#1c1c1c;min-height:100%}html{font:11px/1 Abel,verdana,arial,sans-serif;color:#fff}body.idle{overflow:hidden}body.idle::_-webkit-scrollbar{width:10px;height:10px;display:none}button{font-family:Abel,verdana,arial,sans-serif}a{color:#ffc;text-decoration:none}.Image{position:relative;background:#000}.Image.loaded img{opacity:1}.Image img{transition:opacity .5s;opacity:0;position:absolute;width:100%;top:0;left:0}.spinner{height:75pt;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%)}.spinner .spinner-aspect{width:75pt}.double-bounce1,.double-bounce2{border-radius:50%;background-color:rgba(255,255,255,.05);position:absolute;top:0;left:0;right:0;bottom:0;animation:sk-bounce 2s infinite ease-in-out}.double-bounce2{animation-delay:-1s}@-webkit-keyframes sk-bounce{0%,100%{transform:scale(0)}50%{transform:scale(1)}}@keyframes sk-bounce{0%,100%{transform:scale(0)}50%{transform:scale(1)}}.aboutPage{padding:150px 20px 20px}.aboutPage .screen{border:1px solid rgba(255,255,255,.2);box-shadow:0 0 20px rgba(0,0,0,.5)}.aboutPage .tagline{text-align:center;clear:both;display:block;font-size:60px;padding:0 0 50px}.aboutPage .contact small,.aboutPage .featured small{font-size:60%}.aboutPage .contact li,.aboutPage .featured li{font-size:30px;padding:10px 0}.aboutPage .contact .feature,.aboutPage .featured .feature{margin:20px 0 40px;border:1px solid rgba(255,255,255,.2);box-shadow:0 0 20px rgba(0,0,0,.5)}.aboutPage .updates .title,.channel .head{box-shadow:0 1px 0 rgba(255,255,255,.1) inset,0 0 1px rgba(0,0,0,.7)}.aboutPage .updates{max-width:80pc;margin:0 auto 40px}.aboutPage .updates .title{clear:both;background:rgba(0,0,0,.3);border:1px solid #141414;padding:10px 25px;margin:20px 0;font-size:30px;position:relative;border-radius:10px;color:#ffc;top:10px}.aboutPage .updates li{font-size:20px;padding:10px 15px}.aboutPage .updates li:nth-child(odd){background:rgba(0,0,0,.1);border-radius:5px}.aboutPage .updates li small{display:inline-block;width:60px;color:rgba(255,255,255,.5);text-align:right;padding:0 10px 0 0}.aboutPage .updates li strong{display:inline-block;width:5pc;text-align:right;padding:0;margin-right:10px}.aboutPage .updates li strong.feature{color:rgba(100,150,100,.5)}.aboutPage .updates li strong.fix{color:rgba(236,160,12,.8)}.aboutPage .contact{font-size:30px;padding:30px 0 0}.aboutPage .contact p{padding:0 0 .5em}.aboutPage .contact a{color:#ffc;text-decoration:none}#app{padding:0 0 150px;color:#fff;zoom:1}#app:before{display:block}#app:after{display:table;clear:both}.channel{border:1px solid rgba(0,0,0,.5);margin:5px;cursor:pointer;width:301px;position:relative;-webkit-animation:ani_1 1s ease}@-webkit-keyframes ani_1{0%{opacity:0}100%{opacity:1}}.channel.playing .game-preview{opacity:.23}.channel:hover .play{opacity:.8}.channel:hover .head .flag,.channel:hover .play:hover{opacity:1}.channel:hover .mature,.channel:hover .status,.channel:hover .uptime,.channel:hover .viewer-count{opacity:0}.channel .mature{width:40px;height:56px;background:url(/img/mature.png);position:absolute;bottom:5px;left:5px;opacity:1;transition:opacity 1s}.channel .head{width:100%;background:rgba(0,0,0,.3);border:1px solid #141414;padding:5px 30px 5px 5px;font-size:15px;line-height:22px;margin:-1px -1px 0;height:2pc;color:rgba(255,255,255,.5);white-space:nowrap}.channel .head .name{color:#ffc}.channel .head .flag{border-radius:100%;position:absolute;top:5px;right:5px;height:20px;opacity:.5;transition:opacity 1s}.channel .uptime,.channel .viewer-count{background:rgba(0,0,0,.5);padding:5px 5px 3px;font-size:9pt;border-radius:5px 0 0}.channel .status,.channel .uptime,.channel .viewer-count{right:0;z-index:1;transition:opacity 1s}.channel .viewer-count{position:absolute;bottom:-1px}.channel .viewer-count .viewerIcon{height:9pt;margin-right:5px;position:relative;top:1px}.channel .uptime{position:absolute;bottom:22px}.channel .uptime .clockIcon{height:9pt;margin-right:5px;position:relative;top:1px}.channel .status{background:#000;background:linear-gradient(bottom,rgba(0,0,0,0),#000);background:-ms-linear-gradient(bottom,rgba(0,0,0,0),#000);background:-moz-linear-gradient(center bottom,rgba(0,0,0,0) 0,#000 100%);background:-webkit-gradient(linear,left bottom,left top,color-stop(0,rgba(0,0,0,0)),color-stop(1,#000));position:absolute;top:0;left:0;padding:8px 5px 30px;font-size:14px;line-height:1.4;color:rgba(255,255,255,.5);text-shadow:2px 2px 0 rgba(0,0,0,.5);opacity:1;white-space:nowrap}.channel .preview-container{position:relative}.channel .game-preview{position:absolute;top:0;left:0;width:100%}.channel .aspect{padding:56% 0 0}.channel .play{opacity:0;transition:opacity 1s;position:absolute;left:5px;right:5px;border-radius:5px;z-index:10;border:1px solid rgba(255,255,255,.1);cursor:pointer;box-shadow:0 0 10px rgba(0,0,0,.5) inset;background:rgba(0,0,0,.85)}.game .head,.game .viewers{box-shadow:0 1px 0 rgba(255,255,255,.1) inset,0 0 1px rgba(0,0,0,.7)}.channel .play .text{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);font-size:35px;white-space:nowrap;text-align:center;text-transform:uppercase}.channel .play .text small{text-transform:none;font-size:10px;display:block;color:rgba(255,255,255,.5);padding:3px 0 0}.channel .play.replace{height:97px;top:5px}.channel .play.replace .text{font-size:50px;text-transform:uppercase}.channel .play.replace.removing{bottom:5px;height:auto}.channel .play.replace.removing .text{font-size:35px}.channel .play.add{bottom:5px;height:55px}.channel .play.add .text{font-size:25px}.chat iframe{height:100%;width:100%}.game{border:1px solid rgba(0,0,0,.5);margin:5px;cursor:pointer;width:200px;position:relative;opacity:.9;transition:opacity .3s;float:left}.game:hover{opacity:1}.game .viewers{padding:6px 5px;font-size:13px;background:#000;background:linear-gradient(bottom,rgba(0,0,0,.5),rgba(0,0,0,0));background:-ms-linear-gradient(bottom,rgba(0,0,0,.5),rgba(0,0,0,0));background:-moz-linear-gradient(center bottom,rgba(0,0,0,.5) 0,rgba(0,0,0,0) 100%);background:-webkit-gradient(linear,left bottom,left top,color-stop(0,rgba(0,0,0,.5)),color-stop(1,rgba(0,0,0,0)));color:rgba(255,255,255,.5)}.game .head{width:100%;background:rgba(0,0,0,.3);border:1px solid #141414;padding:5px;font-size:15px;line-height:22px;margin:-1px -1px 0;height:2pc;color:rgba(255,255,255,.9);white-space:nowrap}.gamesFilterBar,.languageFilterBar{-webkit-transform:translate3d(0,0,0);box-shadow:0 1px 0 rgba(255,255,255,.1) inset,0 0 1px rgba(0,0,0,.7),0 0 20px rgba(0,0,0,.5);background:#191919;right:0;overflow-y:hidden;left:0}.gamesFilterBar{position:fixed;bottom:0;z-index:102;height:102px;overflow-x:scroll}.gamesFilterBar .inner{height:100%}.gamesFilterBar .game-box{float:left;cursor:pointer;opacity:.9}.gamesFilterBar .game-box:hover{opacity:1}.gamesFilterBar .game-box.active,.languageFilterBar.enabled .flag{opacity:.2}.gamesFilterBar .game-box .cover{height:5pc;width:58px;border-radius:5px;margin:5px 2.5px}.gamesPage{padding:60px 0 0;min-height:980px;position:relative;font-size:200px}.languageFilterBar{position:fixed;bottom:102px;z-index:100;overflow-x:auto}.loadingButton button,.marathonPage .playerContainer .toggleChat,.marathonPage .streamButton{box-shadow:0 1px 0 rgba(255,255,255,.1) inset,0 0 1px rgba(0,0,0,.7);text-decoration:none;outline:0}.languageFilterBar.bottom{bottom:0}.languageFilterBar.enabled .flag.active{opacity:.9}.languageFilterBar.enabled .flag:hover{opacity:.6}.languageFilterBar .flag{opacity:.9;cursor:pointer;float:left}.languageFilterBar .flag:hover{opacity:1}.languageFilterBar .flag .cover{border-radius:3px;height:20px;margin:5px 2.5px}.loadingButton{margin-bottom:30px}.loadingButton button{color:#fff;border-radius:5px;background:rgba(0,0,0,.1);border:1px solid #141414;-webkit-animation:ani_2 1s linear;width:99%;display:block;font-size:30px;padding:10px;margin:40px auto 20px;position:relative;top:10px}.loadingButton button:hover{background:rgba(0,0,0,.15);color:#ffc;cursor:pointer}.loadingButton button:active{transform:translate(2px,2px)}@-webkit-keyframes ani_2{0%{opacity:0}100%{opacity:1}}.loadingButton .loadingBar{background:#fff;height:5px;margin:10px;border-radius:5px;-webkit-animation:ani_3 2s ease}@-webkit-keyframes ani_3{0%{width:0}100%{width:100%}}.loadingRow{height:300px;position:relative;clear:both}.loadingRow .spinner{top:60%}.page-marathon.idle .marathonPage{padding-top:0}.page-marathon.idle .marathonPage .playerContainer .toggleChat{opacity:0}.marathonPage.hasChat .playerContainer .playerIframeContainer{right:250px}.marathonPage.hasChat .playerContainer .toggleChat{right:450px}.marathonPage .playerContainer{position:relative;background:#000}.marathonPage .playerContainer .aspect{padding-top:56.25%}.marathonPage .playerContainer .player{position:absolute;top:0;left:0;width:100%;height:100%}.marathonPage .playerContainer .playerIframeContainer{position:absolute;top:0;left:0;bottom:0;right:0}.marathonPage .playerContainer .cover{position:absolute;top:0;left:0;right:0;height:40%;background:0 0;background:linear-gradient(bottom,rgba(0,0,0,0),#000);background:-ms-linear-gradient(bottom,rgba(0,0,0,0),#000);background:-moz-linear-gradient(center bottom,rgba(0,0,0,0) 0,#000 100%);background:-webkit-gradient(linear,left bottom,left top,color-stop(0,rgba(0,0,0,0)),color-stop(1,#000));opacity:1;transition:opacity .5s}.idle .marathonPage .playerContainer .cover{opacity:0}.marathonPage .playerContainer .coverSmall{position:absolute;top:60%;left:0;right:0;height:10px}.marathonPage .playerContainer .chatContainer{position:absolute;top:0;right:0;bottom:0;width:250px}.marathonPage .playerContainer .chatContainer .chat{height:100%;width:100%}.marathonPage .playerContainer .toggleChat{position:absolute;bottom:10px;right:200px;color:#fff;margin-right:10px;border-radius:5px;border:1px solid #141414;padding:10px 25px;transition:opacity .5s;opacity:1;background:#222}.marathonPage .playerContainer .toggleChat:hover{color:#ffc;cursor:pointer;background:#111}.marathonPage .playerContainer .toggleChat:active{transform:translate(2px,2px)}.marathonPage .switchStreams{display:flex;display:-webkit-flex;border-top:1px solid rgba(255,255,255,.05);background:#000;background:linear-gradient(bottom,rgba(0,0,0,.1),rgba(0,0,0,.5));background:-ms-linear-gradient(bottom,rgba(0,0,0,.1),rgba(0,0,0,.5));background:-moz-linear-gradient(center bottom,rgba(0,0,0,.1) 0,rgba(0,0,0,.5) 100%);background:-webkit-gradient(linear,left bottom,left top,color-stop(0,rgba(0,0,0,.1)),color-stop(1,rgba(0,0,0,.5)))}.marathonPage .streamButton{flex:auto;-webkit-flex:auto;color:#fff;border-radius:5px;border:1px solid #141414;padding:10px;text-align:center;font-size:20px;background:#222;margin:10px;opacity:.4}.marathonPage table td,.marathonPage table th{padding:10px;font-size:15px;white-space:nowrap;clear:both}.marathonPage .streamButton:hover{background:rgba(0,0,0,.15);color:#ffc;cursor:pointer;opacity:.8}.marathonPage .streamButton:active{transform:translate(2px,2px)}.marathonPage .streamButton.active{opacity:1}.marathonPage table{width:100%}.marathonPage table th{box-shadow:0 1px 0 rgba(255,255,255,.1) inset;background:rgba(0,0,0,.3);text-align:left;color:#ffc}.marathonPage table tr:nth-child(odd){background:rgba(0,0,0,.1)}.marathonPage table tr.finished{opacity:.1}s .marathonPage table tr.active td{color:rgba(255,255,255,.5)}.marathonPage .toggleShowEntireSchedule,.marathonPage table td.date{box-shadow:0 1px 0 rgba(255,255,255,.1) inset,0 0 1px rgba(0,0,0,.7);font-size:20px;text-align:center}.marathonPage table td.col-game{min-width:200px}.marathonPage table td.col-donationincentives,.marathonPage table td.col-runners,.marathonPage table td.col-twitchusernames{white-space:normal}.marathonPage table td.date{padding:15px 0;background:rgba(0,0,0,.3)}.marathonPage .toggleShowEntireSchedule{color:#fff;text-decoration:none;outline:0;border-radius:5px;background:rgba(0,0,0,.1);border:1px solid #141414;box-sizing:border-box;display:block;padding:10px;margin:10px 20px 20px;position:relative;top:10px}.menu .avatar,.menu>.button{border-radius:5px;position:relative}.marathonPage .toggleShowEntireSchedule:hover{background:rgba(0,0,0,.15);color:#ffc;cursor:pointer}.marathonPage .toggleShowEntireSchedule:active{transform:translate(2px,2px)}.marathonPage .twitterTimeline{padding:40px 20px;min-height:620px}.marathonPage .twitterTimeline iframe{margin:0 auto!important;display:block!important;width:75pt}.menu{-webkit-transform:translate3d(0,0,0);background:#131313;border-bottom:1px solid #222;box-shadow:0 0 20px rgba(0,0,0,.5);padding:10px 10px 10px 15px;margin-bottom:20px;position:fixed;top:0;left:0;right:0;z-index:11;opacity:1;transition:opacity .5s}.menu>*{display:inline-block;vertical-align:top}.menu .site-logo{width:52px;height:58px;margin-right:15px}.menu>.button,.search .dropdown .result .button{text-decoration:none;margin-right:10px;outline:0}.page-marathon.idle .menu,.page-player.idle .menu{opacity:0}.menu .connect{float:right;position:relative;top:15px;width:170px;height:2pc;opacity:.9;cursor:pointer}.menu .connect:hover{opacity:1}.menu .connect:active{transform:translate(1px,1px);-webkit-transform:translate(1px,1px)}.menu .avatar{float:right;height:60px;width:60px;opacity:.9;top:5px;cursor:pointer}.menu .avatar:hover{opacity:1}.menu .avatar:active{-webkit-transform:translate(1px,1px);transform:translate(1px,1px)}.menu>.button{color:#fff;box-shadow:0 1px 0 rgba(255,255,255,.1) inset,0 0 1px rgba(0,0,0,.7);background:rgba(0,0,0,.1);border:1px solid #141414;margin-top:9px;padding:13px;height:50px;font-size:25px;white-space:nowrap}.menu>.button:hover{background:rgba(0,0,0,.15);color:#ffc;cursor:pointer}.menu>.button:active{transform:translate(2px,2px)}.menu>.button.special{box-shadow:0 3px 0 rgba(255,255,255,.4) inset,0 -2px 0 rgba(0,0,0,.1) inset;background:linear-gradient(to bottom,#ffec64 5%,#ffab23 100%);background-color:#ffec64;border-radius:6px;display:inline-block;cursor:pointer;color:#333;font-weight:700;text-decoration:none;text-shadow:0 1px 0 #fe6}.stream .section,.video .status{text-shadow:2px 2px 0 rgba(0,0,0,.5)}.menu>.button.special:hover{opacity:.9}.menu .videoStreamsActive{position:absolute;bottom:100%;left:100%;border:1px solid #444;background:#000;background:linear-gradient(bottom,#222,#333);background:-ms-linear-gradient(bottom,#222,#333);background:-moz-linear-gradient(center bottom,#222 0,#333 100%);background:-webkit-gradient(linear,left bottom,left top,color-stop(0,#222),color-stop(1,#333));border-radius:100%;font-size:9pt;width:20px;height:20px;line-height:19px;text-align:center;z-index:1;-webkit-transform:translate(-15px,15px);transform:translate(-15px,15px)}.playerPage{position:fixed;left:0;right:0;bottom:0;top:0;background:#000;text-align:center}.playerPage .no-video,.playerPage .streams{top:50%;left:50%;position:absolute}.playerPage .no-video{transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);-webkit-animation:ani_4 5s ease}@-webkit-keyframes ani_4{0%{opacity:0}100%{opacity:1}}.search{padding:10px 10px 10px 5px;position:absolute;top:10px;left:500px;left:705px;right:190px}.hasAvatar .search{right:5pc}.search input{background:#1e1e1e;color:#fff;font-family:abel;border:1px solid #282828;border-radius:5px;font-size:20px;padding:10px;box-shadow:0 0 10px rgba(0,0,0,.4) inset;width:100%}.search .arrows{top:6px;right:10px;position:absolute;width:60px;opacity:.3}.search .dropdown{position:absolute;top:100%;left:5px;right:9px;background:#141414;border:1px solid #282828;border-radius:5px;padding:10px;margin-top:-11px;-webkit-animation:ani_5 .5s ease,ani_6 .2s ease}@-webkit-keyframes ani_5{0%{transform:translate(0,-10px)}100%{transform:translate(0,0)}}@-webkit-keyframes ani_6{0%{opacity:0}100%{opacity:1}}.search .dropdown .loadingRow{height:5pc}.search .dropdown .loadingRow .spinner{top:50%}.search .dropdown .result-container:nth-child(odd){background:rgba(255,255,255,.01);border-top:1px solid rgba(255,255,255,.02);border-bottom:1px solid rgba(255,255,255,.03)}.search .dropdown .result{white-space:nowrap;zoom:1;border-top:1px solid transparent;border-bottom:1px solid transparent;width:100%}.search .dropdown .result:before{display:block}.search .dropdown .result:after{display:table;clear:both}.search .dropdown .result .spinner{transform:translate(-50%,-50%) scale(.5)}.search .dropdown .result.active,.search .dropdown .result:hover{background:rgba(255,255,255,.03);border-top:1px solid rgba(255,255,255,.05);border-bottom:1px solid rgba(255,255,255,.05)}.search .dropdown .result.active .sub-active{background:rgba(255,255,255,.05);color:#ffa}.search .dropdown .result>*{float:left}.search .dropdown .result .logo,.search .dropdown .result .logoContainer,.search .dropdown .result .noLogo{width:60px;height:60px;border-radius:5px;overflow:hidden}.search .dropdown .result .logoContainer{overflow:hidden;border-radius:5px}.search .dropdown .result .info{height:60px;padding:10px}.search .dropdown .result .info .streamerName{font-size:17px;color:#ffa;margin-bottom:5px}.search .dropdown .result .buttons{float:right;padding:5px}.search .dropdown .result .button{color:#fff;border-radius:5px;box-shadow:0 1px 0 rgba(255,255,255,.1) inset,0 0 1px rgba(0,0,0,.7);background:rgba(0,0,0,.1);border:1px solid #141414;position:relative;top:15px;font-size:20px;padding:10px}.search .dropdown .result .button:hover{background:rgba(0,0,0,.15);color:#ffc;cursor:pointer}.search .dropdown .result .button:active{transform:translate(2px,2px)}.search .dropdown .result .button.addStream{width:50px}.search .dropdown .result .preview{width:106px}.settingsPage{padding:5pc 0 140px;min-height:980px;position:relative;font-size:75pt}.stream{position:relative;display:inline-block}.stream input[type=range]{-webkit-appearance:none;margin-bottom:15px;border-radius:10px;border:4px solid #333}.stream input[type=range]::-webkit-slider-runnable-track{height:75pt;border:none}.stream input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;height:100%;width:1pc;border-radius:5px;background:#000;background:-webkit-gradient(left,color-stop(0,#fff),color-stop(100%,#aaa));background:-webkit-linear-gradient(left,#fff 0,#aaa 100%);background:-ms-linear-gradient(left,#fff,#aaa);background:-moz-linear-gradient(left,#fff 0,#aaa 100%);border:1px solid #141414;box-shadow:0 0 10px rgba(0,0,0,.5);cursor:move}.stream input[type=range]:focus{outline:0}.stream .volumeSlider{padding:30px}.stream .volumeSlider.muted{opacity:.1}.stream .volumeText{font-size:75%}.stream.hasChat .inner-player .video-wrapper{right:15%}.stream .inner-player{position:absolute;top:0;left:0;right:0;bottom:0;display:flex}.stream .inner-player .volume{display:block;width:100%}.stream .inner-player .chat,.stream .inner-player .video-wrapper{flex:auto}.stream .inner-player .video-wrapper{width:85%}.stream .inner-player .poput-wrapper,.stream .inner-player .video-wrapper{height:100%}.stream .inner-player .poput-wrapper .cover,.stream .inner-player .video-wrapper .cover{position:absolute;top:0;left:0;right:0;bottom:50%;background:0 0;background:linear-gradient(bottom,rgba(0,0,0,0),#000);background:-ms-linear-gradient(bottom,rgba(0,0,0,0),#000);background:-moz-linear-gradient(center bottom,rgba(0,0,0,0) 0,#000 100%);background:-webkit-gradient(linear,left bottom,left top,color-stop(0,rgba(0,0,0,0)),color-stop(1,#000));opacity:0;transition:opacity .5s;-webkit-transform:translate3d(0,0,0);display:flex;display:-webkit-flex}.stream .inner-player .poput-wrapper .cover .section,.stream .inner-player .video-wrapper .cover .section{flex:auto;-webkit-flex:auto}.hasChat .stream .inner-player .poput-wrapper .cover,.hasChat .stream .inner-player .video-wrapper .cover{right:25%}.stream .inner-player .poput-wrapper .cover:hover,.stream .inner-player .video-wrapper .cover:hover{opacity:1;transition:opacity 1s}.idle .stream .inner-player .poput-wrapper .cover:hover,.idle .stream .inner-player .video-wrapper .cover:hover,.idle .stream .section{opacity:0}.stream .inner-player .chat{width:15%;min-width:300px}.stream .inner-player .player{border:0;width:100%;height:100%}.stream .section{position:relative;margin:10px;background:rgba(0,0,0,.8);padding:10px;border-radius:20px;cursor:pointer;transition:opacity 1s;z-index:100}.stream .section:hover{color:#ffa}.stream .section .text{position:absolute;left:50%;transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);top:70%;width:100%;font-size:2vw;white-space:nowrap}.stream .section .text .icon{width:75pt;position:absolute;left:50%;transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);top:-70px}.streamsPage.streamPage{padding-top:90px}.streamsPage.streamPage .metaContent{float:right;width:312px;margin-top:6px;padding-right:15px;column-height:1700px}.streamsPage.streamPage .twitterTimeline{height:626px;margin:0 0 8px}.streamsPage.streamPage .header{margin-bottom:20px;border-bottom:1px solid rgba(255,255,255,.2);box-shadow:0 0 20px rgba(0,0,0,.3);overflow:hidden;background-position:top left;background-size:cover;height:5in}.streamsPage .title,.video .head{box-shadow:0 1px 0 rgba(255,255,255,.1) inset,0 0 1px rgba(0,0,0,.7)}.streamsPage.streamPage .title{margin-top:-11px}.streamsPage.streamPage .description{padding:10px 0 0}.streamsPage.streamPage .description h1,.streamsPage.streamPage .description h2,.streamsPage.streamPage .description h3,.streamsPage.streamPage .description h4,.streamsPage.streamPage .description p,.streamsPage.streamPage .description ul{padding-bottom:1em;line-height:1.4;font-size:15px}.streamsPage.streamPage .panels .panel{padding:0 0 15px}.streamsPage.streamPage .panels .panel img{width:100%}.streamsPage{padding:60px 0 0;min-height:980px;position:relative;zoom:1}.streamsPage .noStreams{font-size:75pt;text-align:center;padding:75pt 0;color:rgba(255,255,255,.1)}.streamsPage:before{content:'';display:block}.streamsPage:after{display:table;clear:both}.streamsPage .row{zoom:1}.streamsPage .row:before{display:block}.streamsPage .row:after{display:table;clear:both}.streamsPage .title{-webkit-animation:ani_7 1s ease;clear:both;background:rgba(0,0,0,.3);border:1px solid #141414;padding:10px 25px;margin:20px 0;font-size:30px;position:relative;color:#ffc;top:10px}@-webkit-keyframes ani_7{0%{opacity:0}100%{opacity:1}}.streamsPage .title.slim{font-size:15px;padding:10px}.streamsPage .streams,.streamsPage .videos{padding:0 0 0 20px;zoom:1}.streamsPage .streams:before,.streamsPage .videos:before{display:block}.streamsPage .streams:after,.streamsPage .videos:after{display:table;clear:both}.streamsPage .channel,.streamsPage .video{float:left}.streamsPage hr{background:0 0;border:0;margin:10px 0;border-top:1px solid rgba(0,0,0,.1);border-bottom:1px solid rgba(255,255,255,.05);clear:both}.video{border:1px solid rgba(0,0,0,.5);margin:5px;cursor:pointer;width:301px;position:relative;-webkit-animation:ani_8 1s ease}@-webkit-keyframes ani_8{0%{opacity:0}100%{opacity:1}}.video.playing .game-preview{opacity:.23}.video:hover .play{opacity:.8}.video:hover .head .flag,.video:hover .play:hover{opacity:1}.video:hover .mature,.video:hover .status,.video:hover .viewer-count{opacity:0}.video .head{width:100%;background:rgba(0,0,0,.3);border:1px solid #141414;padding:5px 30px 5px 5px;font-size:15px;line-height:22px;margin:-1px -1px 0;height:2pc;color:rgba(255,255,255,.5);white-space:nowrap}.video .head .name{color:#ffc}.video .head .flag{border-radius:100%;position:absolute;top:5px;right:5px;height:20px;opacity:.2;transition:opacity 1s}.video .length,.video .uptime,.video .viewer-count{background:rgba(0,0,0,.5);padding:5px 5px 3px;font-size:9pt;border-radius:5px 0 0}.video .length,.video .status,.video .uptime,.video .viewer-count{right:0;z-index:1;transition:opacity 1s}.video .viewer-count{position:absolute;bottom:44px}.video .viewer-count .viewerIcon{height:9pt;margin-right:5px;position:relative;top:1px}.video .length,.video .uptime{position:absolute;bottom:-1px}.video .length .clockIcon,.video .uptime .clockIcon{height:9pt;margin-right:5px;position:relative;top:1px}.video .length{bottom:22px}.video .status{background:#000;background:linear-gradient(bottom,rgba(0,0,0,0),#000);background:-ms-linear-gradient(bottom,rgba(0,0,0,0),#000);background:-moz-linear-gradient(center bottom,rgba(0,0,0,0) 0,#000 100%);background:-webkit-gradient(linear,left bottom,left top,color-stop(0,rgba(0,0,0,0)),color-stop(1,#000));position:absolute;top:0;left:0;padding:8px 5px 30px;font-size:14px;line-height:1.4;color:rgba(255,255,255,.5);opacity:1;white-space:nowrap}.video .preview-container{position:relative}.video .game-preview{position:absolute;top:0;left:0;width:100%}.video .aspect{padding:56% 0 0}.video .play{opacity:0;transition:opacity 1s;position:absolute;left:5px;right:5px;top:5px;bottom:5px;border-radius:5px;z-index:10;border:1px solid rgba(255,255,255,.1);cursor:pointer;box-shadow:0 0 10px rgba(0,0,0,.5) inset;background:rgba(0,0,0,.85)}.video .play .text{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);font-size:35px;white-space:nowrap;text-align:center;text-transform:uppercase}.video .play .text small{text-transform:none;font-size:10px;display:block;color:rgba(255,255,255,.5);padding:3px 0 0}.wishList{padding:20px}.wishList .submission{display:flex}.wishList input{flex:auto;background:#1e1e1e;color:#fff;font-family:abel;border:1px solid #282828;border-radius:5px;font-size:20px;padding:10px;box-shadow:0 0 10px rgba(0,0,0,.4) inset;width:100%}.wishList .name{width:15pc;margin-right:10px}.wishList .feedback{text-align:center;font-size:30px;-webkit-animation:ani_9 1s ease}@-webkit-keyframes ani_9{0%{opacity:0}100%{opacity:1}}</style></head><body><div id="content"></div><script type="text/javascript">!function(e,t,a,n){function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function s(e){var t=[];return Object.keys(e).forEach(function(a){t.push(a+"="+e[a])}),t.join("&")}function i(e,t){var a=e,n=t;return a.replace(/%d/i,n)}function c(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\// JS")}function l(e){var t=/(\bhttps?:\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi;return e.replace(t,"<a href='$1'>$1</a>")}function o(e){return String(e).replace(/[&<>"'\/]/g,function(e){return j[e]})}function u(e){g({url:"https://api.twitch.tv/kraken/users/"+e.name+"/follows/channels?limit=100&offset="+(e.offset||0),dataType:"json",success:function(a){if(a._total>100){var n=t.ceil((a._total-100)/100);d(function(){for(var t=this,r=0;n>r;r++)!function(n){var r=t.parallel();g({url:"https://api.twitch.tv/kraken/users/"+e.name+"/follows/channels?limit=100&offset="+100*(n+1),dataType:"json",success:function(e){a.follows=a.follows.concat(e.follows),r(a)}})}(r)},function(t,n){e.callback(a)})}else e.callback(a)}})}function m(e){var a=t.ceil(e.streams.length/100),n=[];d(function(){for(var t=this,r=0;a>r;r++)!function(a){var r=t.parallel();g({url:"https://api.twitch.tv/kraken/streams?channel="+e.streams.slice(100*a,100*(a+1)).join(","),dataType:"json",success:function(e){n=n.concat(e.streams),r(e)}})}(r)},function(t,a){e.callback(n)})}function h(){for(var e="",t=0;t<arguments.length;t++){var a=arguments[t];if(a){var n=typeof a;if("string"===n||"number"===n)e+=" "+a;else if(Array.isArray(a))e+=" "+h.apply(null,a);else if("object"===n)for(var r in a)a.hasOwnProperty(r)&&a[r]&&(e+=" "+r)}}return e.substr(1)}function d(){function e(){if(a=t=0,0!==s.length){var i=s.shift();n=[];try{r=!0;var c=i.apply(e,arguments)}catch(t){e(t)}a>0&&0==t?e.apply(null,n):void 0!==c&&e(void 0,c),r=!1}else if(arguments[0])throw arguments[0]}var t,a,n,r,s=Array.prototype.slice.call(arguments);e.parallel=function(){var s=1+a++;return t++,function(){t--,arguments[0]&&(n[0]=arguments[0]),n[s]=arguments[1],r||0!==t||e.apply(null,n)}},e.group=function(){function t(){0===s&&a(c,i)}var a=e.parallel(),n=0,s=0,i=[],c=void 0;return process.nextTick(t),function(){var e=n++;return s++,function(){s--,arguments[0]&&(c=arguments[0]),i[e]=arguments[1],r||t()}}},e()}var p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable;Object.assign||(Object.assign=function(e,t){for(var a,n,s=r(e),i=1;i<arguments.length;i++){a=Object(arguments[i]);for(var c in a)p.call(a,c)&&(s[c]=a[c]);if(Object.getOwnPropertySymbols){n=Object.getOwnPropertySymbols(a);for(var l=0;l<n.length;l++)f.call(a,n[l])&&(s[n[l]]=a[n[l]])}}return s}),function(){var t=5e3,a={unauthorized:401},n={baseUrl:"https://api.twitch.tv/kraken/",_config:{},extend:function(t){e.Twitch=Object.assign({},e.Twitch,t)}};n.api=function(e,r){if(!n._config.session)throw new Error("You must call init() before api()");var i=e.params||{};r=r||function(){};var c=!!n._config.session.token,l=n.baseUrl+(e.method||"");c&&(i.oauth_token=n._config.session.token),g({url:l+"?"+s(i),dataType:"jsonp",timeout:t,success:function(e){return n.log("Response Data:",e),e.error?(n.log("API Error:",e.error+";",e.message),void(c&&e.status===a.unauthorized?n.logout(function(){r(e,null)}):r(e,null))):void r(null,e)},error:function(){r(new Error("Request Timeout"),null)}})},n.log=function(t){Array.prototype.unshift.call(arguments,"[Twitch]"),e.console&&void 0},e.Twitch=n}(),function(){var t=e.sessionStorage;t||function(){var a=function(t){function a(e,t,a){var r,s;a?(r=new Date,r.setTime(r.getTime()+24*a*60*60*1e3),s="; expires="+r.toGMTString()):s="",n.cookie=e+"="+t+s+"; path=/"}function r(e){var t,a,r=e+"=",s=n.cookie.split(";");for(t=0;t<s.length;t++){for(a=s[t];" "==a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(r))return a.substring(r.length,a.length)}return null}function s(n){n=JSON.stringify(n),"session"==t?e.name=n:a("localStorage",n,365)}function i(){"session"==t?e.name="":a("localStorage","",365)}function c(){var a="session"==t?e.name:r("localStorage");return a?JSON.parse(a):{}}var l=c();return{length:0,clear:function(){l={},this.length=0,i()},getItem:function(e){return void 0===l[e]?null:l[e]},key:function(e){var t=0;for(var a in l){if(t==e)return a;t++}return null},removeItem:function(e){delete l[e],this.length--,s(l)},setItem:function(e,t){l[e]=t+"",this.length++,s(l)}}};t=new a("session")}(),Twitch.extend({_storage:t})}(),function(){var e=function(e,t){if(!e.clientId)throw new Error("client id not specified");Twitch._config.clientId=e.clientId,Twitch._initSession(),"function"==typeof t&&Twitch.getStatus(t)};Twitch.extend({init:e})}(),function(){var t="twitch_oauth_session",a=function(e){var t;e=e||n.location.hash;var a=function(t){var a=e.match(t);return a?a[1]:null};return t={token:a(/access_token=(\w+)/),scope:a(/scope=([\w+]+)/)?a(/scope=([\w+]+)/).split("+"):null,state:a(/state=(\w+)/),error:a(/error=(\w+)/),errorDescription:a(/error_description=(\w+)/)}},r=function(e){Twitch.api({method:"/"},function(t,a){var n;return t?(Twitch.log("error encountered updating session:",t),void(e&&e(t,null))):a.token.valid?void(e&&e(null,n)):void Twitch.logout(e)})},i=function(){return Twitch._config.session&&Twitch._config.session.token},c=function(e,t){if("function"==typeof e&&(t=e),"function"!=typeof t&&(t=function(){}),!Twitch._config.session)throw new Error("You must call init() before getStatus()");var a=function(e){return{authenticated:!!e.token,token:e.token,scope:e.scope,error:e.error,errorDescription:e.errorDescription}};e&&e.force?r(function(e,n){t(e,a(n||Twitch._config.session))}):t(null,a(Twitch._config.session))},l=function(t){if(!t.scope)throw new Error("Must specify list of requested scopes");var a={response_type:"token",client_id:Twitch._config.clientId,redirect_uri:t.redirect_uri||e.location.href.replace(/#.*$/,""),scope:t.scope.join(" ")};if(!a.client_id)throw new Error("You must call init() before login()");var n=Twitch.baseUrl+"oauth2/authorize?"+s(a);t.popup?Twitch._config.loginPopup=e.open(n,"Login with TwitchTV","height=600,width=660,resizable=yes,status=yes"):e.location=n},o=function(e){Twitch._config.session={},Twitch._storage.removeItem(t),Twitch.events.emit("auth.logout"),"function"==typeof e&&e(null)},u=function(){var r;if(Twitch._config.session={},e.JSON&&(r=Twitch._storage.getItem(t)))try{Twitch._config.session=JSON.parse(r)}catch(e){}n.location.hash.match(/access_token=(\w+)/)&&(Twitch._config.session=a(),e.JSON&&Twitch._storage.setItem(t,JSON.stringify(Twitch._config.session))),c(function(e,t){t.authenticated&&Twitch.events.emit("auth.login")})};Twitch.extend({_initSession:u,_parseFragment:a,getToken:i,getStatus:c,login:l,logout:o})}(),function(){function e(){this._events={},this._maxListeners=10}function t(e,t,a,n,r){this.type=e,this.listener=t,this.scope=a,this.once=n,this.instance=r}t.prototype.fire=function(e){return this.listener.apply(this.scope||this.instance,e),this.once?(this.instance.removeListener(this.type,this.listener,this.scope),!1):void 0},e.prototype.eachListener=function(e,t){var a=null,n=null,r=null;if(this._events.hasOwnProperty(e))for(n=this._events[e],a=0;a<n.length;a+=1)if(r=t.call(this,n[a],a),r===!1)a-=1;else if(r===!0)break;return this},e.prototype.addListener=function(e,a,n,r){return this._events.hasOwnProperty(e)||(this._events[e]=[]),this._events[e].push(new t(e,a,n,r,this)),this.emit("newListener",e,a,n,r),this._maxListeners&&!this._events[e].warned&&this._events[e].length>this._maxListeners&&(Twitch.log("Possible EventEmitter memory leak detected. "+this._events[e].length+" listeners added. Use emitter.setMaxListeners() to increase limit."),this._events[e].warned=!0),this},e.prototype.on=e.prototype.addListener,e.prototype.once=function(e,t,a){return this.addListener(e,t,a,!0)},e.prototype.removeListener=function(e,t,a){return this.eachListener(e,function(n,r){n.listener===t&&(!a||n.scope===a)&&this._events[e].splice(r,1)}),this._events[e]&&0===this._events[e].length&&delete this._events[e],this},e.prototype.off=e.prototype.removeListener,e.prototype.removeAllListeners=function(e){return e&&this._events.hasOwnProperty(e)?delete this._events[e]:e||(this._events={}),this},e.prototype.listeners=function(e){if(this._events.hasOwnProperty(e)){var t=[];return this.eachListener(e,function(e){t.push(e.listener)}),t}return[]},e.prototype.emit=function(e){var t=[],a=null;for(a=1;a<arguments.length;a+=1)t.push(arguments[a]);return this.eachListener(e,function(e){return e.fire(t)}),this},e.prototype.setMaxListeners=function(e){return this._maxListeners=e,this},Twitch.extend({events:new e})}();var g;!function(){function t(e,t,a){return!0}function a(e,a,n,r){return e.global?t(a||N,n,r):void 0}function n(e){e.global&&0===g.active++&&a(e,null,"ajaxStart")}function r(e){e.global&&!--g.active&&a(e,null,"ajaxStop")}function s(e,t){var n=t.context;return t.beforeSend.call(n,e,t)===!1||a(t,n,"ajaxBeforeSend",[e,t])===!1?!1:void a(t,n,"ajaxSend",[e,t])}function i(e,t,n){var r=n.context,s="success";n.success.call(r,e,s,t),a(n,r,"ajaxSuccess",[t,n,e]),l(s,t,n)}function c(e,t,n,r){var s=r.context;r.error.call(s,n,t,e),a(r,s,"ajaxError",[n,r,e]),l(t,n,r)}function l(e,t,n){var s=n.context;n.complete.call(s,t,e),a(n,s,"ajaxComplete",[t,n]),r(n)}function o(){}function u(e){return e&&(e==S?"html":e==k?"json":b.test(e)?"script":T.test(e)&&"xml")||"text"}function m(e,t){return(e+"&"+t).replace(/[&?]{1,2}/,"?")}function h(e){"object"===y(e.data)&&(e.data=p(e.data)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=m(e.url,e.data))}function d(e,t,a,n){var r="array"===y(t);for(var s in t){var i=t[s];n&&(s=a?n:n+"["+(r?"":s)+"]"),!n&&r?e.add(i.name,i.value):(a?"array"===y(i):"object"===y(i))?d(e,i,a,s):e.add(s,i)}}function p(e,t){var a=[];return a.add=function(e,t){this.push(C(e)+"="+C(t))},d(a,e,t),a.join("&").replace("%20","+")}function f(e){var t=Array.prototype.slice;return t.call(arguments,1).forEach(function(t){for(v in t)void 0!==t[v]&&(e[v]=t[v])}),e}var v,E,R=Object.prototype.toString,y=function(e){switch(R.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}return null===e?"null":void 0===e?"undefined":e&&1===e.nodeType?"element":e===Object(e)?"object":typeof e},w=0,N=e.document,b=/^(?:text|application)\/javascript/i,T=/^(?:text|application)\/xml/i,k="application/json",S="text/html",x=/^\s*$/;g=function(t){var a=f({},t||{});for(v in g.settings)void 0===a[v]&&(a[v]=g.settings[v]);n(a),a.crossDomain||(a.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(a.url)&&RegExp.$2!=e.location.host);var r=a.dataType,l=/=\?/.test(a.url);if("jsonp"==r||l)return l||(a.url=m(a.url,"callback=?")),a.url=m(a.url,"client_id=4k4es34yoabslxnjecq9rzns78zewi0"),g.JSONP(a);a.url||(a.url=e.location.toString()),h(a);var d,p=a.accepts[r],R={"Client-Id":"4k4es34yoabslxnjecq9rzns78zewi0"},y=/^([\w-]+:)\/\//.test(a.url)?RegExp.$1:e.location.protocol,w=g.settings.xhr();a.crossDomain||(R["X-Requested-With"]="XMLHttpRequest"),p&&(R.Accept=p,p.indexOf(",")>-1&&(p=p.split(",",2)[0]),w.overrideMimeType&&w.overrideMimeType(p)),(a.contentType||a.data&&"GET"!=a.type.toUpperCase())&&(R["Content-Type"]=a.contentType||"application/x-www-form-urlencoded"),a.headers=f(R,a.headers||{}),w.onreadystatechange=function(){if(4==w.readyState){clearTimeout(d);var e,t=!1;if(w.status>=200&&w.status<300||304==w.status||0==w.status&&"file:"==y){r=r||u(w.getResponseHeader("content-type")),e=w.responseText;try{"script"==r?(1,eval)(e):"xml"==r?e=w.responseXML:"json"==r&&(e=x.test(e)?null:JSON.parse(e))}catch(e){t=e}t?c(t,"parsererror",w,a):i(e,w,a)}else c(null,"error",w,a)}};var N="async"in a?a.async:!0;w.open(a.type,a.url,N);for(E in a.headers)w.setRequestHeader(E,a.headers[E]);return s(w,a)===!1?(w.abort(),!1):(a.timeout>0&&(d=setTimeout(function(){w.onreadystatechange=o,w.abort(),c(null,"timeout",w,a)},a.timeout)),w.send(a.data?a.data:null),w)},g.active=0,g.JSONP=function(t){if(!("type"in t))return g(t);var a,n="jsonp"+ ++w,r=N.createElement("script"),s=function(){n in e&&(e[n]=o),l("abort",c,t)},c={abort:s},u=N.getElementsByTagName("head")[0]||N.documentElement;return t.error&&(r.onerror=function(){c.abort(),t.error()}),e[n]=function(r){clearTimeout(a),delete e[n],i(r,c,t)},h(t),r.src=t.url.replace(/=\?/,"="+n),u.insertBefore(r,u.firstChild),t.timeout>0&&(a=setTimeout(function(){c.abort(),l("timeout",c,t)},t.timeout)),c},g.settings={type:"GET",beforeSend:o,success:o,error:o,complete:o,context:null,global:!0,xhr:function(){return new e.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:k,xml:"application/xml, text/xml",html:S,text:"text/plain"},crossDomain:!1,timeout:0},g.get=function(e,t){return g({url:e,success:t})},g.post=function(e,t,a,n){return"function"===y(t)&&(n=n||a,a=t,t=null),g({type:"POST",url:e,data:t,success:a,dataType:n})},g.getJSON=function(e,t){return g({url:e,success:t,dataType:"json"})};var C=encodeURIComponent}(),!function(t,a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a():"function"==typeof define&&define.amd?define(a):e.React=a()}(this,function(){"use strict";function e(e){var t=this;this.instance=e,this.pendingStates=[],this.pendingCallbacks=[],this.isPending=!1,this.bindClear=function(){return t.clearCallbacks()},this.nextProps=this.nextContext=null}function t(t,a){this.$updater=new e(this),this.$cache={isMounted:!1},this.props=t,this.state={},this.refs={},this.context=a||{}}function a(e){k(this,e)}function r(e){this.text=e}function s(e,t){this.type=e,this.props=t}function i(e,t){this.type=e,this.props=t}function c(e,t){this.type=e,this.props=t}var l=function(e){return function(t){return null!=t&&Object.prototype.toString.call(t)==="[object "+e+"]"}},o=l("Object"),u=l("String"),m=l("Function"),h=l("Boolean"),d=Array.isArray||l("Array"),p=function(e){return void 0===e},f=function(e){return e&&e.prototype&&"forceUpdate"in e.prototype},g=function(e){return m(e)&&(!e.prototype||!("forceUpdate"in e.prototype))},v=function(){},E=function(e){return e},R=function(e,t){return function(){for(var a=arguments.length,n=Array(a),r=0;a>r;r++)n[r]=arguments[r];return e.apply(this,n),t.apply(this,n)}},y=function e(t,a){for(var n=arguments.length<=2||void 0===arguments[2]?{index:0}:arguments[2],r=0,s=t.length;s>r;r++){var i=t[r];d(i)?e(i,a,n):p(i)||h(i)||(a(i,n.index),n.index+=1)}},w=function(e,t){for(var a=0,n=e.length;n>a;a++)t(e[a],a)},N=function(e,t,a){for(var n=a>0?a:0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},b=function(e,t){for(var a in e)e.hasOwnProperty(a)&&t(e[a],a)},T=function(e,t){for(var a={},n=void 0,r=void 0,s=0,i=e.length;i>s;s++){n=e[s];for(r in n)n.hasOwnProperty(r)&&!a[r]&&(a[r]=!0,t(r))}},k=function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;t>n;n++)a[n-1]=arguments[n];var r=function(t,a){p(t)||(e[a]=t)};return w(a,function(e){null!=e&&b(e,r)}),e},S=0,x=function(){return++S},C=function(e){var t=!0;e:for(;t;){var a=e;if(t=!1,a&&a.length>0){if(1===a.length&&(a=a[0],d(a))){e=a,t=!0;continue e}return a}}},O=function(e,t,a){var n=k({},a,e);return t=C(t),p(t)||(n.children=t),n},_={onDoubleClick:"ondblclick"},A=function(e){return e=_[e]||e,e.toLowerCase()},j=E,I=function(e){return j=e},M=function(e){return e=j(e),function(t){return t.stopPropagation(),t.nativeEvent=t,e.call(this,t)}},P=function(e,t,a){m(a)&&(t=A(t),a=M(a),e[t]=a,"onchange"===t&&(e.oninput=a))},L=function(e,t){t=A(t),e[t]=null,"onchange"===t&&(e.oninput=null)},U={key:!0,ref:!0,children:!0},F=/^on/i,D=function(e){return U[e]},z=function(e){return F.test(e)},H=function(e){return"dangerouslySetInnerHTML"===e},W=function(e){return"style"===e},X=function(e){return"type"===e},$=function(e,t,a){switch(!0){case D(t)||"title"===t&&null==a:break;case z(t):P(e,t,a);break;case W(t):K(e,a);break;case H(t):a&&null!=a.__html&&(e.innerHTML=a.__html);break;case t in e&&!X(t):e[t]=a;break;default:e.setAttribute(t,""+a)}},q=function(e,t){b(t,function(t,a){$(e,a,t)})},B=function(e,t){b(t,function(t,a){V(e,a,t)})},V=function(e,t,a){switch(!0){case D(t):break;case z(t):L(e,t);break;case W(t):Y(e,a);break;case H(t):e.innerHTML="";break;case!(t in e)||X(t):e.removeAttribute(t);break;case m(a):e[t]=null;break;case u(a):e[t]="";break;case h(a):e[t]=!1;break;default:try{e[t]=void 0,delete e[t]}catch(e){}}},G={value:!0,checked:!0},J=function(e,t,a){return t!==a?!t&&a?void q(e,a):!a&&t?void B(e,t):void T([t,a],function(n){if(!D(n)){var r=a[n],s=G[n]?e[n]:t[n];if(r!==s){if(p(r))return void V(e,n,s);if(W(n))Z(e,s,r);else if(H(n)){var i=s&&s.__html,c=r&&r.__html;null!=c&&c!==i&&(e.innerHTML=c)}else $(e,n,r)}}}):void 0},Y=function(e,t){if(o(t)){var a=e.style;b(t,function(e,t){a[t]=""})}},K=function(e,t){if(o(t)){var a=e.style;b(t,function(e,t){re(a,t,e)})}},Z=function(e,t,a){if(t!==a)if(!a&&t)Y(e,t);else if(a&&!t)K(e,a);else{var n=e.style;T([t,a],function(e){var r=a[e],s=t[e];r!==s&&re(n,e,r)})}},Q={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},ee={},te=["Webkit","ms","Moz","O"],ae=function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)};b(Q,function(e,t){w(te,function(e){return ee[ae(e,t)]=!0})}),b(ee,function(e,t){Q[t]=e});var ne=/^-?\d+(\.\d+)?$/,re=function(e,t,a){(null==a||h(a))&&(a=""),!Q[t]&&ne.test(a)?e[t]=a+"px":e[t]=a};Object.freeze||(Object.freeze=E);var se={ELEMENT:1,COMPONENT:2,STATELESS_COMPONENT:3,TEXT:4},ie={CREATE:1,REMOVE:2,REPLACE:3,UPDATE:4},ce="liteid",le={updaters:[],isPending:!1,emit:function(){this.isPending=!1,this.batchUpdate()},add:function(e){this.isPending?this.updaters.push(e):e.update()},wrapFn:function(e){var t=this;return function(){t.isPending=!0;for(var a=arguments.length,n=Array(a),r=0;a>r;r++)n[r]=arguments[r];var s=e.apply(this,n);return t.emit(),s}},batchUpdate:function(){var e=this.updaters;0!==e.length&&(this.updaters=[],this.isPending=!0,w(e,oe),this.emit())}},oe=function(e){return e.update()};I(function(e){return le.wrapFn(e)}),e.prototype={constructor:e,emitUpdate:function(e,t){this.nextProps=e,this.nextContext=t,le.add(this)},update:function(){var e=this.instance,t=this.pendingStates,a=this.nextProps,n=this.nextContext;(a||t.length>0)&&(a=a||e.props,n=n||e.context,this.nextProps=this.nextContext=null,he(e,a,this.getState(),n,this.bindClear))},addState:function(e){e&&(this.pendingStates.push(e),this.isPending||this.emitUpdate())},replaceState:function(e){var t=this.pendingStates;t.pop(),t.push([e])},getState:function(){var e=this.instance,t=this.pendingStates,a=e.state,n=e.props,r=function(t){for(var r=!0;r;){var s=t;r=!1,d(s)?(a=null,t=s[0],r=!0):(m(s)&&(s=s.call(e,a,n)),a=k({},a,s))}};return t.length&&(w(t,r),t.length=0),a},clearCallbacks:function(){var e=this.pendingCallbacks,t=this.instance;e.length>0&&(w(e,function(e){return e.call(t)}),e.length=0)},addCallback:function(e){m(e)&&this.pendingCallbacks.push(e)}};var ue=v;t.prototype={constructor:t,getChildContext:ue,componentWillUpdate:ue,componentDidUpdate:ue,componentWillReceiveProps:ue,componentWillMount:ue,componentDidMount:ue,componentWillUnmount:ue,shouldComponentUpdate:function(e,t){return!0},forceUpdate:function(e){var t=this.$updater,a=this.$cache,n=this.props,r=this.state,s=this.context,i=this.vtree,c=this.node;if(!t.isPending){var l=a.props||n,o=a.state||r,u=a.context||{};a.props=a.state=a.context=null,this.componentWillUpdate(l,o,u),this.props=l,this.state=o,this.context=u,t.isPending=!0;var h=Ne(this,a.$context);i.updateTree(h,c&&c.parentNode),Se(),t.isPending=!1,this.vtree=h,this.node=h.node,this.componentDidUpdate(n,r,s),m(e)&&e.call(this),t.emitUpdate()}},setState:function(e,t){var a=this.$updater;a.addCallback(t),a.addState(e)},replaceState:function(e,t){var a=this.$updater;a.addCallback(t),a.replaceState(e)},getDOMNode:function(){var e=this.vtree.node;return e&&"NOSCRIPT"===e.tagName?null:e},isMounted:function(){return this.$cache.isMounted}};var me=function(e,t,a,n){e.state=a,e.props=t,e.context=n||{}},he=function(e,t,a,n,r){var s=e.shouldComponentUpdate(t,a,n);return s===!1?void me(e,t,a,n):(me(e.$cache,t,a,n),void e.forceUpdate(r))},de=function(e,t){var a=void 0;switch(!0){case e===t:return null;case p(t):a=ie.REMOVE;break;case p(e):a=ie.CREATE;break;case e.type!==t.type:a=ie.REPLACE;break;case null!==t.key:a=null===e.key||t.key!==e.key?ie.REPLACE:ie.UPDATE;break;case null!==e.key:a=ie.REPLACE;break;default:a=ie.UPDATE}return a},pe=v,fe=function(){return this};a.prototype={constructor:a,attachRef:function(){var e=this.ref,t=this.refs,a=this.vtype;if(t&&null!=e){var n=void 0;a===se.ELEMENT?(n=this.node,n.getDOMNode=fe):a===se.COMPONENT&&(n=this.component),null!=n&&(m(e)?e(n):t[e]=n)}},detachRef:function(){var e=this.ref,t=this.refs;t&&null!=e&&(m(e)?e(null):delete t[e])},updateRef:function(e){if(!this.refs)return void e.attachRef();if(!e.refs)return void this.detachRef();if(this.refs!==e.refs)return this.detachRef(),void e.attachRef();var t=this.ref,a=e.ref;null==a?this.detachRef():t!==a&&(this.detachRef(),e.attachRef())},updateTree:function(e,t){xe(this,e,t)}},r.prototype=new a({constructor:r,vtype:se.TEXT,attachRef:pe,detachRef:pe,updateRef:pe,update:function(e){var t=this.node,a=this.text;return e.text!==a&&t.replaceData(0,t.length,e.text),e.node=t,this.node=null,this},initTree:function(e){this.node=Ae(this.text),Oe(e,this.node)},destroyTree:function(){Ce(this.node),this.node=null}});var ge=function(e){if(Le(e))return e.destroyTree(),!1;if(e.vtype===se.ELEMENT){var t=e.node,a=e.props;a.onLoad&&L(t,"onLoad"),a.onError&&L(t,"onError")}e.detachRef()};s.prototype=new a({constructor:s,vtype:se.ELEMENT,eachChildren:function(e){var t=this.props.children,a=this.sorted,n=void 0;return a?void w(t,e):void(d(t)?(n=[],y(t,function(t,a){t=Me(t),e(t,a),n.push(t)}),this.props.children=n,this.sorted=!0):p(t)||(t=this.props.children=Me(t),e(t,0)))},initTree:function(e){var t=this.type,a=this.props,n=this.node=je(t,a);this.eachChildren(function(e){e.initTree(n)}),Oe(e,n),this.attachRef()},destroyTree:function(){Ie(this,ge),Ce(this.node),this.node=null},update:function(e){var t=this.node,a=this.props,n=p(a.children)?[]:a.children,r=0,s=void 0;for(d(n)||(n=[n]),J(t,a,e.props),e.node=t,e.eachChildren(function(e,a){var i=n[a];r+=1,i!==e&&e.node&&(e.destroyTree(),s=N(n,e,a+1),-1!==s&&n.splice(s,1)),i?i.updateTree(e,t):e.initTree(t)});n.length>r;)n[r].destroyTree(),r+=1;this.updateRef(e),this.node=null}}),i.prototype=new a({constructor:i,vtype:se.STATELESS_COMPONENT,attachRef:pe,detachRef:pe,updateRef:pe,renderTree:function(){var e=this.type,t=this.props,a=this.context,n=e(t,Re(a,e.contextTypes));n&&m(n.render)&&(n=n.render()),this.vtree=Me(n),ye(a,this.vtree)},initTree:function(e){this.renderTree(),this.vtree.initTree(e),this.node=this.vtree.node},destroyTree:function(){this.vtree.destroyTree(),this.node=this.vtree=null},update:function(e,t){e.renderTree(),this.vtree.updateTree(e.vtree,t),e.node=e.vtree.node,this.node=this.vtree=null}});var ve=pe,Ee=function(e){ve(e)},Re=function(e,t){var a={};return o(t)&&o(e)?(b(t,function(t,n){a[n]=e[n]}),a):a},ye=function(e,t){Ie(t,function(t){Le(t)&&(t.context?t.context!==e&&(t.context=k(t.context,e)):t.context=e)})},we=function(e){return function(t){t.refs||(t.refs=e)}},Ne=function(e,t){var a=e.getChildContext();a=k({},t,a),ve=we(e.refs);var n=Pe(e.render());return ve=pe,ye(a,n),n},be=function(){return!1},Te=[],ke=function(e){return e.didMount()},Se=function(){var e=Te;0!==e.length&&(Te=[],w(e,ke))};c.prototype=new a({constructor:c,vtype:se.COMPONENT,initTree:function(e){var a=this.type,n=this.props,r=this.context,s=Re(r,a.contextTypes),i=this.component=new a(n,s);if(!i.$cache){var c=i.state;t.call(i,n,s),i.state=c||i.state}var l=i.$updater,o=i.$cache;o.$context=r,l.isPending=!0,i.props=i.props||n,i.componentWillMount(),me(i,i.props,l.getState(),i.context);var u=i.vtree=Ne(i,r);u.initTree(e),o.isMounted=!0,i.node=this.node=u.node,Te.push(this)},didMount:function(){var e=this.component,t=e.$updater;e.componentDidMount(),t.isPending=!1,this.attachRef(),t.emitUpdate()},destroyTree:function(){var e=this.component;e&&(e.shouldComponentUpdate=be,e.forceUpdate=e.setState=pe,this.detachRef(),e.componentWillUnmount(),e.vtree.destroyTree(),e.$cache.isMounted=!1,this.component=this.node=e.node=e.refs=e.context=null)},update:function(e,t){var a=this.component;if(a){var n=e.type,r=e.props,s=e.context,i=a.$updater,c=a.$cache,l=Re(s,n.contextTypes);c.$context=s,i.isPending=!0,a.componentWillReceiveProps(r,l),i.isPending=!1,i.emitUpdate(r,l),e.component=a,e.node=a.node,this.updateRef(e),this.component=this.node=null}}});var xe=function(e,t,a){var n=de(e,t),r=void 0,s=void 0;switch(n){case ie.CREATE:t.initTree(a);break;case ie.REMOVE:e.destroyTree();break;case ie.REPLACE:s=e.node,r=Ce,Ce=pe,e.destroyTree(),Ce=r,t.initTree(function(e){_e(a,e,s)});break;case ie.UPDATE:e.update(t,a)}},Ce=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},Oe=function(e,t){e&&t&&(m(e)?e(t):e.appendChild(t))},_e=function(e,t,a){t&&a&&(e=e||a.parentNode,e.replaceChild(t,a))},Ae=function(e){return n.createTextNode(e)},je=function(e,t){var a=n.createElement(e);return q(a,t),a},Ie=function(e,t){for(var a=[e],n=void 0,r=void 0;a.length;)n=a.shift(),r=t(n),r!==!1&&n&&n.props&&!p(n.props.children)&&(d(n.props.children)?a.push.apply(a,n.props.children):a.push(n.props.children))},Me=function(e){return null===e?e=new s("noscript",{}):o(e)||(e=new r(e)),e},Pe=function(e){if(p(e))throw new Error("component can not render undefined");return Me(e)},Le=function(e){if(null==e)return!1;var t=e.vtype;return t===se.COMPONENT||t===se.STATELESS_COMPONENT?!0:!1},Ue={},Fe=function(e,t,a){if(!e)throw new Error("cannot render "+e+" to container");var n=t[ce];Ue.hasOwnProperty(n)?Ue[n].updateTree(e,t):(t[ce]=n=x(),t.innerHTML="",e.initTree(t)),Ue[n]=e,Se();var r=null;switch(e.vtype){case se.ELEMENT:r=e.node;break;case se.COMPONENT:r=e.component}return m(a)&&a.call(r),r},De=function(e){if(!e.nodeName)throw new Error("expect node");var t=e[ce];return Ue.hasOwnProperty(t)?(Ue[t].destroyTree(),delete Ue[t],!0):!1},ze=function(e){if(null==e)return null;if(e.nodeName)return e;var t=e;if(m(t.getDOMNode)&&t.node)return t.getDOMNode();throw new Error("findDOMNode can not find Node")},He=function(e,t,a,n){return Fe(t,a,n)},We=Object.freeze({render:Fe,unmountComponentAtNode:De,findDOMNode:ze,unstable_renderSubtreeIntoContainer:He}),Xe=function(e){return null!=e&&!!e.vtype},$e=function(e,t){for(var a=arguments.length,n=Array(a>2?a-2:0),r=2;a>r;r++)n[r-2]=arguments[r];var s=e.type,i=e.key,c=e.ref;t=k({key:i,ref:c},e.props,t);var l=Be.apply(void 0,[s,t].concat(n));return l.ref===e.ref&&(l.refs=e.refs),l},qe=function(e){var t=function(){for(var t=arguments.length,a=Array(t),n=0;t>n;n++)a[n]=arguments[n];return Be.apply(void 0,[e].concat(a))};return t.type=e,t},Be=function(e,t){for(var a=arguments.length,n=Array(a>2?a-2:0),r=2;a>r;r++)n[r-2]=arguments[r];var l=void 0;switch(!0){case u(e):l=s;break;case f(e):l=c;break;case g(e):l=i;break;default:throw new Error("React.createElement: unexpect type [ "+e+" ]")}var o=null,m=null,h=!1;null!=t&&(p(t.key)||(o=""+t.key,delete t.key),p(t.ref)||(m=t.ref,delete t.ref,h=!0));var d=new l(e,O(t,n,e.defaultProps));return d.key=o,d.ref=m,h&&l!==i&&Ee(d),d},Ve="a|abbr|address|area|article|aside|audio|b|base|bdi|bdo|big|blockquote|body|br|button|canvas|caption|cite|code|col|colgroup|data|datalist|dd|del|details|dfn|dialog|div|dl|dt|em|embed|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|head|header|hgroup|hr|html|i|iframe|img|input|ins|kbd|keygen|label|legend|li|link|main|map|mark|menu|menuitem|meta|meter|nav|noscript|object|ol|optgroup|option|output|p|param|picture|pre|progress|q|rp|rt|ruby|s|samp|script|section|select|small|source|span|strong|style|sub|summary|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|track|u|ul|var|video|wbr|circle|clipPath|defs|ellipse|g|image|line|linearGradient|mask|path|pattern|polygon|polyline|radialGradient|rect|stop|svg|text|tspan",Ge={};w(Ve.split("|"),function(e){Ge[e]=qe(e)});var Je=function e(){return e};Je.isRequired=Je;var Ye={array:Je,bool:Je,func:Je,number:Je,object:Je,string:Je,any:Je,arrayOf:Je,element:Je,instanceOf:Je,node:Je,objectOf:Je,oneOf:Je,oneOfType:Je,shape:Je},Ke=function(e){if(null!=e&&!d(e))return e;throw new Error("expect only one child")},Ze=function(e,t,a){return null==e?e:void(d(e)?y(e,function(e,n){t.call(a,e,n)}):t.call(a,e,0))},Qe=function(e,t,a){if(null==e)return e;var n=[],r={};Ze(e,function(e,s){var i={};i.child=t.call(a,e,s)||e,i.isEqual=i.child===e;var c=i.key=at(e,s);r.hasOwnProperty(c)?r[c]=r[c]+1:r[c]=0,i.index=r[c],n.push(i)});var s=[];return w(n,function(e){var t=e.child,a=e.key,n=e.index,i=e.isEqual;if(null!=t&&!h(t)){if(!Xe(t)||null==a)return void s.push(t);0!==r[a]&&(a+=":"+n),i||(a=rt(t.key||"")+"/"+a),t=$e(t,{key:a}),s.push(t)}}),s},et=function e(t){var e=0;return Ze(t,function(){e++}),e},tt=function(e){return Qe(e,E)||[]},at=function(e,t){var a=void 0;return a=Xe(e)&&u(e.key)?".$"+e.key:"."+t.toString(36)},nt=/\/(?!\/)/g,rt=function(e){return(""+e).replace(nt,"//")},st=Object.freeze({only:Ke,forEach:Ze,map:Qe,count:et,toArray:tt}),it=function e(t,a){w(t,function(t){d(t.mixins)&&e(t.mixins,a),a(t)})},ct=function(e,t){b(t,function(t,a){if("getInitialState"===a)return void e.$getInitialStates.push(t);var n=e[a];m(n)&&m(t)?e[a]=R(n,t):e[a]=t})},lt=function(e,t){o(t.propTypes)&&k(e.propTypes,t.propTypes),o(t.contextTypes)&&k(e.contextTypes,t.contextTypes),m(t.getDefaultProps)&&k(e.defaultProps,t.getDefaultProps()),o(t.statics)&&k(e,t.statics)},ot=function(e,t){b(t,function(t,a){m(t)&&(e[a]=t.bind(e))})},ut=function(){};ut.prototype=t.prototype;var mt=function(){var e=this,t={},a=this.setState;return this.setState=ut,w(this.$getInitialStates,function(a){m(a)&&k(t,a.call(e))}),this.setState=a,t},ht=function(e){function a(n,r){t.call(this,n,r),this.constructor=a,e.autobind!==!1&&ot(this,a.prototype),this.state=this.getInitialState()||this.state}if(!m(e.render))throw new Error("createClass: spec.render is not function");var n=e.mixins||[],r=n.concat(e);e.mixins=null,a.displayName=e.displayName,a.contextTypes={},a.propTypes={},a.defaultProps={};var s=a.prototype=new ut;return s.$getInitialStates=[],it(r,function(e){ct(s,e),lt(a,e)}),s.getInitialState=mt,e.mixins=n,a},dt=k({version:"0.14.4",cloneElement:$e,isValidElement:Xe,createElement:Be,createFactory:qe,Component:t,createClass:ht,Children:st,PropTypes:Ye,DOM:Ge},We);return dt.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=We,dt}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t(require("react"));else if("function"==typeof define&&define.amd)define(["react"],t);else{var a;a="undefined"!=typeof e?e:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,a.ReactDOM=t(a.React)}}(function(e){return e.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED});var v={baseEl:n.querySelector("#content"),components:{},widgets:{}},E=n.querySelector.bind(n),R=n.querySelectorAll.bind(n),y={prefixAgo:null,prefixFromNow:null,seconds:"a minute",minute:"a minute",minutes:"%d minutes",hour:"an hour",hours:"%d hours",day:"a day",days:"%d days",month:"a month",months:"%d months",year:"a year",over:"Finished",years:"%d years",wordSeparator:" ",numbers:[]};v.getNow=function(){var e=0;return Date.now()+e},v.formatTimeLeft=function(e){var a=new Date(e).getTime()-v.getNow(),n="";0>a&&(n="-"),a=t.abs(a);var r=1e3,s=60*r,i=60*s,c=24*i,l=t.floor(a/c);a-=l*c;var o=t.floor(a/i);a-=o*i;var u=t.floor(a/s);return a-=u*s,l?n+l+"d "+o+"h "+u+"m":o?n+o+"h "+u+"m":n+u+"m"},v.formatTimeAgo=function(e){
var a=v.getNow()-new Date(e).getTime(),n=t.abs(a)/1e3,r=n/60,s=r/60,c=s/24,l=c/365,o=45>n&&i(y.seconds,t.round(n))||90>n&&i(y.minute,1)||45>r&&i(y.minutes,t.round(r))||90>r&&i(y.hour,1)||24>s&&i(y.hours,t.round(s))||42>s&&i(y.day,1)||30>c&&i(y.days,t.round(c))||45>c&&i(y.month,1)||365>c&&i(y.months,t.round(c/30))||1.5>l&&i(y.year,1)||i(y.years,t.round(l));return"~"+o},v.getAppKey=function(){var t=Object.keys(v.settings.filters.languagesAllowed).join("-");return e.location.pathname+"-"+t},v.languageSortOrder={en:10,ru:9,de:8,fr:7,pl:6,pt:5,sv:4},function(){var t=e.navigator.languages||[e.navigator.language];t.forEach(function(e,a){e=e.split("-")[0],v.languageSortOrder[e]&&(v.languageSortOrder[e]=100+t.length-a)})}(),v.languageLookup={af:"za",sq:"al",ar:"sa",hy:"am",az:"az",eu:"es",be:"by",bg:"bg",ca:"es",zh:"cn",hr:"hr",cs:"cz",da:"dk",div:"mv",nl:"nl",en:"gb",et:"ee",fo:"fo",fa:"ir",fi:"fi",fr:"fr",gl:"es",ka:"ge",de:"de",el:"gr",gu:"in",he:"il",hi:"in",hu:"hu",is:"is",id:"id",it:"it",ja:"jp",kn:"in",kk:"kz",kok:"in",ko:"kr",ky:"kz",lv:"lv",lt:"lt",mk:"mk",ms:"bn",mr:"in",mn:"mn",nb:"no",pl:"pl",pt:"pt",pa:"in",ro:"ro",ru:"ru",sa:"in",sk:"sk",sl:"si",es:"es",sw:"ke",sv:"se",syr:"sy",ta:"in",tt:"ru",te:"in",th:"th",tr:"tr",uk:"ua",ur:"pk",uz:"uz",vi:"vn"},v.languageToCountry=function(){return function(e){return v.languageLookup[e]?v.languageLookup[e]:e}}(),v.formatLength=function(e){return"~"+t.round(e/60/60)+" hours long"},v.formatLengthExtended=function(e){var a=t.floor(e/3600),n=t.floor((e-3600*a)/60),r=a+"h "+n+"m";return r},v.paths={player:"player",streams:"streams",stream:"stream",game:"game",games:"games",about:"about",settings:"settings",marathon:"marathon",search:"search"},v.settings={changed:!1,activeStreams:{},user:{},filters:{languagesAllowed:{},gamesRemoved:{}}},setInterval(function(){v.settings.changed&&(v.settings.changed=!1,a.settings=JSON.stringify(v.settings))},1e3),a.settings&&(v.settings=Object.assign({},v.settings,JSON.parse(a.settings))),v.changeSettings=function(e,t){e(v.settings),v.settings.changed=!0,t||v.update()},v.formatDate=function(e){return e.toString().replace(/(..:..:...).*/,function(e,t){return t})},v.formatViewerCount=function(e){return e.toString().split("").reverse().join("").replace(/.{3}/,function(e){return e+","}).split("").reverse().join("").replace(/^,/,"")},v.getLanguageCountSorted=function(e){var t={};return Object.keys(v.languageLookup).forEach(function(e){t[e]=-1}),e.forEach(function(e){if(e.channel.broadcaster_language){var a=e.channel.broadcaster_language.split("-")[0];t[a]+=e.viewers}}),t=Object.keys(t).sort(function(e,t){var a=v.languageSortOrder[e]||0,n=v.languageSortOrder[t]||0;return a>n?-1:n>a?1:e>t?1:t>e?-1:0})},v.goTo=function(t,a){t=t||{},t.metaKey||1===t.button||(a=(t.currentTarget||t.target||{}).href||a,history.pushState(null,a,a),v.update(),t&&t.preventDefault&&t.preventDefault(),n.body.scrollTop=e.innerHeight/2,n.querySelector("html").scrollTop=e.innerHeight/2)},e.addEventListener("popstate",function(){v.update()}),v.update=function(){ReactDOM.render(React.createElement(D,v.state),v.baseEl,function(){})},setTimeout(v.update),v.reload=function(){var t=e.location.pathname;v.goTo(null,"/blank"),v.goTo(null,t)},setTimeout(function(){a.notFirstVisit=1},1e4),Twitch.events.addListener("auth.login",function(){}),Twitch.events.addListener("auth.logout",function(){v.settings.user={},v.settings.token=null,setTimeout(v.reload)}),Twitch.init({clientId:"4k4es34yoabslxnjecq9rzns78zewi0"},function(t,a){a.authenticated?Twitch.api({method:"user"},function(t,a){v.changeSettings(function(t){t.user=a,e.location.pathname.match(v.paths.streams)&&v.reload()})}):setTimeout(v.update,100)}),e.dump=function(){};var w=React.createClass({displayName:"",render:function(){this.props;return React.createElement("div",{className:"settingsPage"},"!?!?!?!?")}}),N=React.createClass({displayName:"Game",onClick:function(e){return function(e){v.goTo(e)}},render:function(){var e=this.props.data;return React.createElement("a",{className:"game",href:"/"+v.paths.game+"/"+encodeURIComponent(e.game.name),onClick:v.goTo},React.createElement("div",{className:"head"},e.game.name),React.createElement(H,{src:e.game.box.template.replace("{width}","198").replace("{height}","277"),aspect:"272/380"}),React.createElement("div",{className:"viewers"},v.formatViewerCount(e.viewers)," viewers"))}}),b=React.createClass({displayName:"GamePage",addMore:function(e,t){var a=this,n=100,r=a.state.currentOffset,s=Object.keys(v.settings.filters.languagesAllowed);s.length||s.push(""),d(function(){var e=this;s.forEach(function(t){var s=e.parallel();g({url:"https://api.twitch.tv/kraken/streams?limit="+n+"&offset="+r+"&game="+a.props.pathArguments[0]+"&broadcaster_language="+t,dataType:"json",success:function(e){s(null,e.streams)}})})},function(e,r){var s=[];[].slice.call(arguments).slice(1).forEach(function(e){s=s.concat(e)});var i=(a.state.streams||[]).concat(s).sort(function(e,t){return e.viewers>t.viewers?-1:t.viewers>e.viewers?1:0});a.setState({streams:i,currentOffset:a.state.currentOffset+n,noMoreStreams:s.length!==n}),t&&t()})},componentDidMount:function(){var e=this;e.addMore()},getInitialState:function(){return{streams:null,currentOffset:0,noMoreStreams:!1}},render:function(){var e=v.getLanguageCountSorted(this.state.streams||[]),t=Object.keys(v.settings.activeStreams).map(function(e){return v.settings.activeStreams[e].data});return React.createElement("div",{className:"streamsPage"},React.createElement(S,{bottom:"true",languages:e}),t.length>0?React.createElement("div",{className:"currentlyPlayingRow row"},React.createElement("div",{className:"title"},"In player"),React.createElement("div",{className:"streams"},t.map(function(e,t){return React.createElement(W,{key:t,data:e})}))):null,this.state.streams&&this.state.streams.length>0?React.createElement("div",{className:"title"},decodeURIComponent(this.props.pathArguments[0])," streams"):React.createElement("div",{className:""},null===this.state.streams?React.createElement(C,null):React.createElement("div",{className:"noStreams"},"No streams")),this.state.streams&&this.state.streams.length>0?React.createElement("div",{className:"streams"},this.state.streams.map(function(e,t){return React.createElement(W,{key:t,data:e})})):null,this.state.streams&&this.state.streams.length>0&&!this.state.noMoreStreams?React.createElement(x,{className:"addMore",onClickCallback:this.addMore},"Fetch the next 100 streams"):null)}}),T=React.createClass({displayName:"",toggle:function(e){return function(t){v.changeSettings(function(t){var a=t.filters.gamesRemoved;a[e]?delete a[e]:a[e]=!0})}},render:function(){var e=this,t=e.props,a={};(t.streams||[]).map(function(e){a[e.game]=!0}),(t.games||[]).map(function(e){a[e.game.name]=!0});var n=Object.keys(a);return React.createElement("div",{className:"gamesFilterBar"},React.createElement("div",{className:"inner",style:{width:63*n.length}},n.map(function(t){return React.createElement("div",{key:t,title:t,onClick:e.toggle(t),className:h({"game-box":!0,active:v.settings.filters.gamesRemoved[t]})},React.createElement("img",{className:"cover",src:"https://static-cdn.jtvnw.net/ttv-boxart/"+encodeURI(t)+"-58x80.jpg"}),React.createElement("div",{className:"name"},t))})))}}),k=React.createClass({displayName:"GamesPage",addMore:function(e,t){var a=this,n=100,r=a.state.currentOffset;g({url:"https://api.twitch.tv/kraken/games/top?limit="+n+"&offset="+r,dataType:"json",success:function(e){a.setState({games:a.state.games.concat(e.top),currentOffset:a.state.currentOffset+n}),t&&t()}})},componentDidMount:function(){var e=this;e.addMore()},getInitialState:function(){return{games:[],currentOffset:0}},render:function(){var e=(this.props,this.state.games.filter(function(e){return v.settings.filters.gamesRemoved[e.game.name]?null:!0}));return React.createElement("div",{className:"streamsPage"},React.createElement(T,{games:this.state.games}),e.length>0?React.createElement("div",{className:"title"},"Top games"):React.createElement(C,null),React.createElement("div",{className:"streams"},e.map(function(e,t){return React.createElement(N,{key:e.game._id,data:e})})),e.length>0?React.createElement(x,{className:"addMore",onClickCallback:this.addMore},"Fetch the next 100 games"):null)}}),S=React.createClass({displayName:"LanguageFilterBar",toggle:function(e){return function(t){v.changeSettings(function(t){var a=t.filters.languagesAllowed;a[e]?delete a[e]:a[e]=!0})}},render:function(){var e=this,t=e.props,a=!!Object.keys(v.settings.filters.languagesAllowed).length;return React.createElement("div",{className:h({languageFilterBar:!0,enabled:a,bottom:this.props.bottom})},React.createElement("div",{className:"inner",style:{width:25.5*t.languages.length}},t.languages.map(function(t){return React.createElement("div",{key:t,onClick:e.toggle(t),className:h({flag:!0,active:v.settings.filters.languagesAllowed[t]})},React.createElement("img",{className:"cover",src:"/img/flags/"+v.languageToCountry(t)+".svg"}),React.createElement("div",{className:"name"},t))})))}}),x=React.createClass({displayName:"LoadingButton",componentDidMount:function(){},callCallback:function(e){var t=this;t.setState({loading:!0}),t.props.onClickCallback(e,function(){t.setState({loading:!1})})},getInitialState:function(){return{loading:!1}},render:function(){var e=this.props,t={loadingButton:!0,loading:this.state.loading};return t[e.className]=!0,React.createElement("div",{className:h(t)},React.createElement("button",{onClick:this.callCallback},this.props.children),this.state.loading?React.createElement("div",{className:"loadingBar"}):null)}}),C=function(e){return React.createElement("div",{className:"loadingRow"},React.createElement("div",{className:"spinner"},React.createElement("div",{className:"spinner-aspect"}),React.createElement("div",{className:"double-bounce1"}),React.createElement("div",{className:"double-bounce2"})))};e.onerror=function(t,n,r,s,i){n.match(e.location.hostname)&&(delete a.settings,a.hasReloaded||(a.hasReloaded=!0,e.location.reload(!0)))},setTimeout(function(){delete a.hasReloaded},1e4);var O=React.createClass({displayName:"Menu",goTo:function(e){var t=e.target.href;v.goTo(e,t)},login:function(){Twitch.login({scope:["user_read","chat_login"],redirect_uri:"http://ma.pe/"})},logout:function(){Twitch.logout()},render:function(){var e=Object.keys(v.settings.activeStreams).length;return React.createElement("div",{className:h({menu:!0,hasAvatar:v.settings.user.logo})},React.createElement("img",{className:"site-logo",src:"/img/logo.png"}),React.createElement("a",{className:"button",href:"/"+v.paths.player,onClick:this.goTo},"Player",e?React.createElement("div",{className:"videoStreamsActive"},e):null),React.createElement("a",{className:"button",href:"/"+v.paths.streams,onClick:this.goTo},"Streams"),React.createElement("a",{className:"button",href:"/"+v.paths.games,onClick:this.goTo},"Games"),React.createElement("a",{className:"button",href:"/"+v.paths.about,onClick:this.goTo},"About"),React.createElement(A,{searchingOn:this.props.searchingOn,searchingOff:this.props.searchingOff}),v.settings.user.logo?React.createElement("img",{className:"avatar",src:v.settings.user.logo,onClick:this.logout}):React.createElement("img",{className:"connect",src:"/img/twitch-connect-dark.png",onClick:this.login}))}}),_=React.createClass({displayName:"PlayerPage",componentDidMount:function(){e.addEventListener("resize",this.fitPlayers)},componentWillUnmount:function(){e.removeEventListener("resize",this.fitPlayers)},getBestRatio:function(e,a,n){for(var r,s,i,c,l,o,u,m=a.length,h=e.clientHeight,d=e.clientWidth,p=h/d,f=1;m>=f;f++){var g=f,v=t.ceil(m/g);v/g*n>p?(u=t.floor(h/v),o=t.floor(u/n)):(o=t.floor(d/g),u=t.floor(o*n));var E=o*u*m;(void 0==r||E>r)&&(r=E,c=u,l=o,s=g,i=v)}return{targetCols:s,targetRows:i,targetHeight:c,targetWidth:l}},fitPlayers:function(){if(E(".playerPage")){var e=18.4,t=16,a=t;E(".hasChat")&&(a=e);var n=this.getBestRatio(E(".playerPage"),R("div.stream"),9/a),r=n.targetHeight*n.targetRows,s=n.targetWidth*n.targetCols;[].slice.call(R(".streams")).forEach(function(e){e.style.width=s+"px",e.style.height=r+"px",e.style.marginTop="-"+r/2+"px",e.style.marginLeft="-"+s/2+"px"}),[].slice.call(R(".stream")).forEach(function(e){e.style.width=n.targetWidth+"px",e.style.height=n.targetHeight+"px"})}},render:function(){var e=this;setTimeout(e.fitPlayers,1);var t=Object.keys(v.settings.activeStreams),a={playerPage:!0};return this.props.pathArguments[0]&&(t=[this.props.pathArguments[0]]),a["count-"+t.length]=!0,React.createElement("div",{className:h(a)},t.length?React.createElement("div",{className:"streams"},t.map(function(e){return e.match(/^v/)?React.createElement(M,{video:e,key:e}):React.createElement(M,{stream:e,key:e})})):React.createElement("img",{className:"no-video",src:"/img/no-video.png"}))}}),A=React.createClass({displayName:"Search",componentDidMount:function(){var t=this;t.refs.input.focus(),t.keepFocusInterval=setInterval(function(){"INPUT"!==n.activeElement.tagName&&"IFRAME"!==n.activeElement.tagName&&t.refs.input.focus()},1e3),e.addEventListener("click",this.handleClickOutside);var a=e.location.hash.replace("#","");a&&(t.refs.input.value=decodeURI(a),t.keyPress({which:1}),history.pushState("",n.title,e.location.pathname+e.location.search))},componentWillUnmount:function(){e.removeEventListener("click",this.handleClickOutside),clearInterval(this.keepFocusInterval)},handleClickOutside:function(e){var t=this,a=!1;!function e(n){t.refs.searchContainer===n?a=!0:n.parentNode&&e(n.parentNode)}(e.target),a||0!==t.state.channels.length&&t.state.loading||t.reset()},add:function(e,t){var a=this;return function(n){v.changeSettings(function(r){t&&!n.shiftKey&&(r.activeStreams={});var s={channel:a.state.channels.filter(function(t){return t.name===e})[0],game:null,preview:{medium:"https://static-cdn.jtvnw.net/previews-ttv/live_user_"+e+"-320x180.jpg"}},i=Object.assign({},s);delete i.viewers,r.activeStreams[e]={chat:!1,data:i},(t||n.shiftKey)&&(v.goTo(n,"/"+v.paths.player),a.reset())},!1)}},openPage:function(e){var t=this;return function(a){v.goTo(a,v.paths.game+"/"+encodeURIComponent(e)),t.reset()}},keepFocusInterval:null,currentAjaxChannels:null,currentAjaxGames:null,currentTimeout:null,reset:function(e,t){e=e||{};var a=this;t||(a.refs.input.value="");var n=Object.assign({},{loading:!1,selectionY:0,selectionX:0,channels:[]},e);a.setState(n),a.props.searchingOff()},blur:function(){},keyPress:function(e){var t=this;if(27===e.which)return t.currentAjaxChannels&&t.currentAjaxChannels.abort(),t.currentAjaxGames&&t.currentAjaxGames.abort(),t.setState({channels:[],loading:!1}),t.props.searchingOff(),e.target.value="";this.state.channels.length;if(e.which.toString().match(/(13|38|40|37|39|27)/)){var a=this.state.selectionX,n=this.state.selectionY;if(38===e.which&&(n-=1,0>n&&(n=this.state.channels.length-1)),40===e.which&&(n+=1,n>this.state.channels.length-1&&(n=0)),37===e.which&&(a-=1,0>a&&(a=2)),39===e.which&&(a+=1,a>2&&(a=0)),13===e.which){var r=t.state.channels[t.state.selectionY];if(!r)return;if(r.box)switch(t.state.selectionX){default:t.openPage(r.name)({})}else switch(t.state.selectionX){case 0:t.add(r.name,!0)({});break;case 1:t.add(r.name,!1)({});break;case 2:v.goTo(e,"/"+v.paths.stream+"/"+encodeURIComponent(r.name))}return}t.setState({selectionX:a,selectionY:n})}else{t.currentTimeout&&clearTimeout(t.currentTimeout);var s=t.refs.input.value.trim();if(!s)return t.reset();t.currentAjaxChannels&&t.currentAjaxChannels.abort(),t.currentAjaxGames&&t.currentAjaxGames.abort(),t.setState({channels:[],loading:!0}),t.props.searchingOn(),t.currentTimeout=setTimeout(function(){t.currentAjaxChannels=g({url:"https://api.twitch.tv/kraken/search/channels?limit=5&q="+encodeURIComponent(s),dataType:"json",success:function(e){t.setState({channels:t.state.channels.concat(e.channels.sort(function(e,t){return e.followers>t.followers?-1:t.followers>e.followers?1:0})),loading:!1})}}),t.currentAjaxGames=g({url:"https://api.twitch.tv/kraken/search/games?limit=5&live=true&type=suggest&q="+encodeURIComponent(s),dataType:"json",success:function(e){t.setState({channels:e.games.sort(function(e,t){return e.popularity>t.popularity?-1:t.popularity>e.popularity?1:0}).slice(0,2).concat(t.state.channels),loading:!1})}})},200)}},getInitialState:function(){return{channels:[],loading:!1,selectionY:0,selectionX:0}},render:function(){var e=this;this.props;return React.createElement("div",{className:"search",ref:"searchContainer"},React.createElement("input",{ref:"input",type:"text",placeholder:"Search for streamer or game",onBlur:this.blur,onKeyUp:this.keyPress}),React.createElement("img",{className:"arrows",src:"/img/arrows-icon.svg"}),e.state.loading||e.state.channels.length?React.createElement("div",{className:"dropdown"},e.state.loading?React.createElement(C,null):null,e.state.channels.map(function(t,a){return React.createElement("div",{className:"result-container"},t.box?React.createElement("div",{key:t._id,className:h({result:!0,active:a===e.state.selectionY})},t.logo?React.createElement("div",{className:"logoContainer"},React.createElement(H,{className:"logo",src:t.box.medium.replace("136x190","60x84")})):React.createElement("div",{className:"noLogo"}),React.createElement("div",{className:"buttons"},React.createElement("a",{className:h({openStream:!0,button:!0,"sub-active":!0}),href:"/"+v.paths.game+"/"+encodeURIComponent(t.name),onClick:v.goTo},"Streams playing ",t.name)),React.createElement("div",{className:"info"},React.createElement("div",{className:"streamerName"},t.name))):React.createElement("div",{key:t._id,className:h({result:!0,active:a===e.state.selectionY})},t.logo?React.createElement(H,{className:"logo",src:t.logo}):React.createElement("div",{className:"noLogo"}),React.createElement("div",{className:"buttons"},React.createElement("a",{className:h({openStream:!0,button:!0,"sub-active":0===e.state.selectionX}),onClick:e.add(t.name,!0)},"Open stream"),React.createElement("a",{className:h({addStream:!0,button:!0,"sub-active":1===e.state.selectionX}),onClick:e.add(t.name,!1)},"+"),React.createElement("a",{className:h({goToPage:!0,button:!0,"sub-active":2===e.state.selectionX}),href:"/"+v.paths.stream+"/"+encodeURIComponent(t.name),onClick:v.goTo},"Info & VODs")),React.createElement("div",{className:"info"},React.createElement("div",{className:"streamerName"},t.display_name))))})):null)}}),j={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},I=React.createClass({displayName:"Chat",chatMsgId:0,componentDidMount:function(){return},subscriberEmote:"",emoticons:{},matches:[],emoteMatch:new RegExp(/xxxxx/),updateEmoticonMatch:function(){var e=this;e.emoteMatch=new RegExp("("+e.matches.sort(function(e,t){return e.length>t.length?-1:t.length>e.length?1:0}).join("|")+")","i")},say:function(e){if(13===e.which){var t=this,a=e.target.value.trim();e.target.value="",a&&this.client&&t.client.say(t.props.stream,a)}},formatEmotes:function(e){e=o(e);var t=e.match(this.emoteMatch);return e=t&&this.emoticons[t[0].toLowerCase()]?e.replace(new RegExp(c(t[0]),"g"),this.emoticons[t[0].toLowerCase()]):l(e)},getInitialState:function(){return{messages:[]}},client:null,componentWillUnmount:function(){this.client&&this.client.disconnect()},shouldHighlight:function(e){return v.settings.user.display_name?e.match(new RegExp(v.settings.user.display_name,"i")):null},render:function(){var e=(this.props,this),t=h({chat:!0,loggedIn:v.settings.token});return React.createElement("div",{className:t},React.createElement("iframe",{src:"https://www.twitch.tv/"+e.props.stream+"/chat?theme=dark"}))}}),M=React.createClass({displayName:"Stream",componentDidMount:function(){},removeStream:function(e){var t=this;return function(a){return t.props.video?history.back():(v.changeSettings(function(t){delete t.activeStreams[e]}),void(1===R(".stream").length&&v.goTo(a,v.paths.streams)))}},toggleSound:function(e){var t=this;return function(e){if("INPUT"!==e.target.tagName){var a=!1;a=t.refs.player.contentWindow.player.getMuted()?!1:!0,t.refs.player.contentWindow.player.setMuted(a),t.setState({muted:a})}}},toggleChat:function(e){return function(t){v.changeSettings(function(t){var a=t.activeStreams[e];a.chat?a.chat=!1:a.chat=!0})}},popout:function(t){var a=this;a.setState({poppedOut:!0});var n=e.open("",t,"width=1280, height=720");this.props.video?n.document.write('<style>* {margin:0;padding:0;background:#000;overflow:hidden;}</style><iframe ref="player" style="width: 100%;height:100%;border: 0;" src="https://player.twitch.tv/?muted=false&video='+a.props.video+'"/>'):n.document.write('<style>* {margin:0;padding:0;background:#000;overflow:hidden;}</style><iframe ref="player" style="width: 100%;height:100%;border: 0;" src="https://player.twitch.tv/?muted=false&channel='+a.props.stream+'"/>'),n.onbeforeunload=function(){a.setState({poppedOut:!1})}},setVolume:function(e){var t=parseFloat(e.target.value,10);this.setState({volume:t,muted:!1}),this.refs.player.contentWindow.player.setVolume(t)},getInitialState:function(){return{muted:!1,volume:1,poppedOut:!1}},render:function(){var e=this,t=this.props,a=v.settings.activeStreams[t.stream]||{},n=a.chat,r={stream:!0,hasChat:n};"linear-gradient(to right, #222 0, #555 "+(100*e.state.volume-.01)+"%, #111 "+100*e.state.volume+"%, #000 100% )";return React.createElement("div",{key:t.stream,className:h(r)},React.createElement("div",{className:"inner-player"},React.createElement("div",{className:"video-wrapper"},t.video?React.createElement("div",{className:"poput-wrapper"},this.state.poppedOut?null:React.createElement("iframe",{ref:"player",className:"player",src:"https://player.twitch.tv/?muted=false&video="+t.video+"&html5_"})):React.createElement("div",{className:"poput-wrapper"},React.createElement("div",{className:"cover"},React.createElement("div",{className:"remove section",onClick:e.removeStream(t.stream)},React.createElement("span",{className:"text"},React.createElement("img",{className:"icon",src:"/img/close-icon.svg"}),t.stream?React.createElement("span",null,"Close Stream"):React.createElement("span",null,"Close Video"))),React.createElement("div",{className:"popout section",onClick:e.popout},React.createElement("span",{className:"text"},React.createElement("img",{className:"icon",src:"/img/expand-icon.svg"}),React.createElement("span",null,"Popout video"))),t.stream?React.createElement("div",{className:"toggle-chat section",onClick:e.toggleChat(t.stream)},React.createElement("span",{className:"text"},React.createElement("img",{className:"icon",src:"/img/chat-icon.svg"}),"Toggle Chat")):null),this.state.poppedOut?null:React.createElement("iframe",{ref:"player",className:"player",src:"https://player.twitch.tv/?muted=false&channel="+t.stream+"&html5_"}))),n?React.createElement(I,{stream:t.stream}):null))}}),P=React.createClass({displayName:"StreamPage",addMore:function(e,t){var a=this,n=100,r=a.state.currentOffset;g({url:"https://api.twitch.tv/kraken/channels/"+a.props.pathArguments[0]+"/videos?offset="+r+"&broadcasts=true&limit="+n,dataType:"json",success:function(e){a.setState({videos:a.state.videos.concat(e.videos),currentOffset:a.state.currentOffset+n,noMoreVideos:e.videos.length!==n}),t&&t()}})},componentDidMount:function(){var t=this;t.addMore(),g({url:"https://api.twitch.tv/kraken/channels/"+t.props.pathArguments[0]+"/",dataType:"json",success:function(e){t.setState({channel:e})}}),g({url:"https://api.twitch.tv/api/channels/"+t.props.pathArguments[0]+"/panels?callback=?",dataType:"jsonp",error:function(){t.setState({twitterHandles:null})},success:function(a){t.setState({panels:a});var r=null;if(a.forEach(function(e){var t=(e.data.link||e.html_description||"").match(/twitter.com\/([a-z0-9-_]+)/i);t&&(r||(r=[]),r.push(t[1]))}),t.setState({twitterHandles:r}),r){e.twttr||!function(e,t,a){var n,r=e.getElementsByTagName(t)[0],s=/^http:/.test(e.location)?"http":"https";e.getElementById(a)||(n=e.createElement(t),n.id=a,n.src=s+"://platform.twitter.com/widgets.js",r.parentNode.insertBefore(n,r))}(n,"script","twitter-wjs");var s=0;!function a(){return e.twttr?void twttr.widgets.createTimeline("688654198716678144",n.querySelector(".twitterTimeline"),{height:620,chrome:"nofooter",linkColor:"#ffa",screenName:r[0]}):(s+=1,s>30?t.setState({twitterHandles:null}):setTimeout(a,100))}()}}});var a=0;t.columnSizer=setInterval(function(){(!t.refs.metaContent.clientHeight||a>30)&&clearInterval(t.columnSizer);var e=t.refs.metaContent.clientHeight,n=210-e%210;return 210===n?void(a+=1):void(t.refs.metaContent.style.minHeight=e+n+"px")},100)},columnSizer:null,componentWillUnmount:function(){clearInterval(this.columnSizer)},getInitialState:function(){return{videos:[],panels:[],twitterHandles:[],channel:{},currentOffset:0,noMoreVideos:!1}},render:function(){var e=this.state.videos;return React.createElement("div",{className:"streamsPage streamPage"},!Object.keys(this.state.channel).length||this.state.channel.profile_banner?React.createElement("div",{className:"header",style:{backgroundImage:"url("+this.state.channel.profile_banner+")"}}):React.createElement("div",{className:"title"},decodeURIComponent(this.props.pathArguments[0])," VODs"),React.createElement("div",{className:"metaContent",ref:"metaContent"},null!==this.state.twitterHandles?React.createElement("div",{className:"twitterTimeline"},this.state.twitterHandles.length?null:React.createElement(C,null)):null,React.createElement("div",{className:"panels"},this.state.panels.map(function(e){return React.createElement("div",{className:"panel"},e.data.title?React.createElement("div",{className:"title slim"},e.data.title):null,e.data.image?React.createElement("a",{href:e.data.link,target:"_blank"},React.createElement("img",{src:e.data.image})):null,e.html_description?React.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:e.html_description}}):null)}))),e.length>0?React.createElement("div",{className:"videos"},e.map(function(e,t){return React.createElement(U,{key:t,data:e})})):React.createElement(C,null),this.state.videos.length>0&&!this.state.noMoreVideos?React.createElement(x,{className:"addMore",onClickCallback:this.addMore},"Fetch the next 100 videos"):null)}}),L=React.createClass({displayName:"StreamsPage",addMore:function(e,t){var a=this,n=100,r=a.state.currentOffset,s=Object.keys(v.settings.filters.languagesAllowed);s.length||s.push(""),d(function(){var e=this;s.forEach(function(t){var a=e.parallel();g({url:"https://api.twitch.tv/kraken/streams?limit="+n+"&offset="+r+"&broadcaster_language="+t,dataType:"json",success:function(e){a(null,e.streams)}})})},function(e,r){var s=[];[].slice.call(arguments).slice(1).forEach(function(e){s=s.concat(e)});var i=(a.state.streams||[]).concat(s).sort(function(e,t){return e.viewers>t.viewers?-1:t.viewers>e.viewers?1:0});a.setState({streams:i,currentOffset:a.state.currentOffset+n,noMoreStreams:s.length!==n}),t&&t()})},componentDidMount:function(){var e=this;e.addMore(),g({url:"https://api.twitch.tv/kraken/streams/featured?limit=6&lang=en&on_site=1",dataType:"json",success:function(t){e.setState({featured:t.featured.map(function(e){return e.stream})})}}),v.settings.user.name&&u({name:v.settings.user.name,callback:function(t){var a=t.follows.map(function(e){return e.channel.name});m({streams:a,callback:function(t){e.setState({following:t})}})}})},getInitialState:function(){return{streams:null,featured:[],following:[],currentOffset:0,noMoreStreams:!1}},render:function(){var e=v.getLanguageCountSorted(this.state.streams||[]),t=(this.state.streams||[]).filter(function(e){return v.settings.filters.gamesRemoved[e.game]?null:!0}),a=Object.keys(v.settings.activeStreams).map(function(e){return v.settings.activeStreams[e].data});return React.createElement("div",{className:"streamsPage"},React.createElement(T,{streams:this.state.streams}),React.createElement(S,{languages:e}),a.length>0?React.createElement("div",{className:"currentlyPlayingRow row"},React.createElement("div",{className:"title"},"In player"),React.createElement("div",{className:"streams"},a.map(function(e,t){return React.createElement(W,{key:t,data:e})}))):null,this.state.following.length>0?React.createElement("div",{className:"title"},"Following"):null,React.createElement("div",{className:"streams following"},this.state.following.map(function(e,t){return React.createElement(W,{key:e._id,data:e})})),this.state.featured.length>0?React.createElement("div",{className:"title"},"Featured"):null,React.createElement("div",{className:"streams featured"},this.state.featured.map(function(e,t){return React.createElement(W,{key:e._id,data:e})})),this.state.streams&&this.state.streams.length>0?React.createElement("div",{className:"title"},"Top streams"):React.createElement("div",{className:""},null===this.state.streams?React.createElement(C,null):React.createElement("div",{className:"noStreams"},"No streams")),this.state.streams&&this.state.streams.length>0?React.createElement("div",{className:"streams"},t.map(function(e,t){return React.createElement(W,{key:e._id,data:e})})):null,this.state.streams&&this.state.streams.length>0&&!this.state.noMoreStreams?React.createElement(x,{className:"addMore",onClickCallback:this.addMore},"Fetch more streams"):null)}}),U=React.createClass({displayName:"",render:function(){var e=this.props;return React.createElement("div",{className:h({video:!0})},React.createElement("div",{className:"head"},React.createElement("span",{className:"name"},e.data.title),e.data.game?React.createElement("span",{className:"game-name"},": ",e.data.game):null),e.data.views?React.createElement("div",{className:"viewer-count"},v.formatViewerCount(e.data.views)," views"):null,e.data.views?React.createElement("div",{className:"viewer-count"},React.createElement("img",{className:"viewerIcon",src:"/img/user-icon.svg"}),v.formatViewerCount(e.data.views)," views"):null,e.data.created_at?React.createElement("div",{className:"uptime"},React.createElement("img",{className:"clockIcon",src:"/img/clock-icon.svg"}),"uploaded ",v.formatTimeAgo(e.data.created_at)," ago"):null,e.data.length?React.createElement("div",{className:"length"},React.createElement("img",{className:"clockIcon",src:"/img/clock-icon.svg"}),v.formatLength(e.data.length)):null,React.createElement("div",{className:"preview-container"},React.createElement("div",{className:"aspect"}),React.createElement(H,{className:"game-preview",src:e.data.preview.replace(/[0-9]+x[0-9]+/,"299x168"),aspect:"16/9"}),React.createElement("span",{className:"status"},v.formatDate(new Date(e.data.recorded_at))),React.createElement("a",{className:h({play:!0,replace:!0}),href:"/"+v.paths.player+"/"+encodeURIComponent(e.data._id),onClick:this.goTo},React.createElement("span",{className:"text"},"Play video"))))}}),F=React.createClass({displayName:"WishList",keyPress:function(t){if(13===t.which){var a=this,n=a.refs.name.value.trim(),r=a.refs.suggestion.value.trim();if(!r)return;g.post("https://suggestion.ma.pe/",{twitter:n,suggestion:r,url:e.location.toString()},function(){a.setState({finished:!0})})}},getInitialState:function(){return{finished:!1,name:"",suggestion:""}},changeHandle:function(){var e=this.refs.name.value;e.match(/^@/)||(e="@"+e),this.setState({name:e})},changeSubmission:function(){var e=this.refs.suggestion.value;e.match(/^[A-Z]/)||(e=e.replace(/^./,function(e){return e.toUpperCase()})),this.setState({suggestion:e})},render:function(){this.props;return React.createElement("div",{className:"wishList"},this.state.finished?React.createElement("div",{className:"feedback"},"Thanks for the feedback"):React.createElement("div",{className:"submission"},React.createElement("input",{className:"name",ref:"name",type:"text",placeholder:"Optional: @yourTwitter",value:this.state.name,onChange:this.changeHandle}),React.createElement("input",{className:"suggestion",ref:"suggestion",type:"text",value:this.state.suggestion,onChange:this.changeSubmission,placeholder:"Send suggestion: I wish this page would...",onKeyUp:this.keyPress})));
}}),D=React.createClass({displayName:"App",componentDidMount:function(){e.addEventListener("mousemove",this.mouseMove),e.addEventListener("focus",this.focus),e.addEventListener("blur",this.blur)},componentWillUnmount:function(){e.removeEventListener("mousemove",this.mouseMove),e.removeEventListener("focus",this.focus),e.removeEventListener("blur",this.blur)},focus:function(){var e=this;this.setState({idle:!1}),this.mouseTimer&&clearTimeout(this.mouseTimer),this.mouseTimer=setTimeout(function(){e.setState({idle:!0})},2e3)},blur:function(){this.setState({idle:!0})},page:null,mouseTimer:null,mouseMove:function(){var e=this;this.mouseTimer&&clearTimeout(this.mouseTimer),this.mouseTimer=setTimeout(function(){e.setState({idle:!0})},2e3),this.state.idle&&e.setState({idle:!1})},getInitialState:function(){return{idle:!1,searching:!1}},searchingOn:function(){this.setState({searching:!0})},searchingOff:function(){this.setState({searching:!1})},render:function(){var t=null,r=e.location.pathname.split("/")[1];this.page=r;var s=e.location.pathname.split("/").slice(2).filter(String);switch(r){case v.paths.about:t=React.createElement(z,{pathArguments:s});break;case v.paths.streams:t=React.createElement(L,{pathArguments:s});break;case v.paths.stream:t=React.createElement(P,{pathArguments:s});break;case v.paths.settings:t=React.createElement(w,{pathArguments:s});break;case v.paths.games:t=React.createElement(k,{pathArguments:s});break;case v.paths.game:t=React.createElement(b,{pathArguments:s});break;case v.paths.player:t=React.createElement(_,{pathArguments:s});break;case v.paths.marathon:t=React.createElement(X,{pathArguments:s});break;case v.paths.search:t="-"}(""===r||null===t)&&(a.notFirstVisit?setTimeout(function(){v.goTo(null,v.paths.streams)}):setTimeout(function(){v.goTo(null,v.paths.about)}));var i={idle:this.state.idle&&!this.state.searching};i["page-"+r]=!0;var c=n.body.scrollTop||n.querySelector("html").scrollTop;return 0===c&&this.state.idle&&r.match(/(player|marathon)/i)?n.body.classList.add("idle"):n.body.classList.remove("idle"),React.createElement("div",{key:v.getAppKey(),id:"app",className:h(i)},React.createElement(O,{searchingOn:this.searchingOn,searchingOff:this.searchingOff}),t,React.createElement(F,null))}}),z=function(e){return React.createElement("div",{className:"aboutPage"},React.createElement("h1",{className:"tagline"},"Explore Twitch content fast and efficently"),React.createElement(H,{className:"screen",src:"/img/usage.jpg",aspect:"1280/803"}),React.createElement("ul",{className:"featured"},React.createElement("li",null,React.createElement("h2",null,"Filter game/stream listing based on game and language"),React.createElement(H,{className:"feature",src:"/img/feature-filtering.jpg",aspect:"1200/207"})),React.createElement("li",null,React.createElement("h2",null,"Multi-stream support"),React.createElement(H,{className:"feature",src:"/img/feature-multiscreen.jpg",aspect:"1200/207"})),React.createElement("li",null,React.createElement("h2",null,"Supports smileys from ",React.createElement("a",{href:"http://nightdev.com/betterttv/"},"BetterTTV")),React.createElement(H,{className:"feature",src:"/img/feature-favicons.jpg",aspect:"1200/207"})),React.createElement("li",null,React.createElement("h2",null,"Fast and light"),React.createElement(H,{className:"feature",src:"/img/feature-fast.jpg",aspect:"1200/207"}))),React.createElement("div",{className:"updates"},React.createElement("h2",{className:"title"},"Site updates"),React.createElement("ul",null,React.createElement("li",null,React.createElement("small",null,"1.5.4"),React.createElement("strong",{className:"fix"},"FIX"),"Fix issue where adding to stream after search did not work"),React.createElement("li",null,React.createElement("small",null,"1.5.3"),React.createElement("strong",{className:"fix"},"FIX"),"Fix url decoding on open search term"),React.createElement("li",null,React.createElement("small",null,"1.5.2"),React.createElement("strong",{className:"fix"},"FIX"),"Enable HTTPS"),React.createElement("li",null,React.createElement("small",null,"1.5.1"),React.createElement("strong",{className:"fix"},"FIX"),"Removed FrankerFacez and fallback to twitch embed chat instead of tmi.js"),React.createElement("li",null,React.createElement("small",null,"1.15"),React.createElement("strong",{className:"feature"},"FEATURE"),"Add OpenSearch support (type in http://ma.pe in chrome and then Tab)"),React.createElement("li",null,React.createElement("small",null,"1.14"),React.createElement("strong",{className:"feature"},"FEATURE"),"Add marathon page for SGDQ"),React.createElement("li",null,React.createElement("small",null,"1.13.5"),React.createElement("strong",{className:"fix"},"FIX"),"Fix marathon page, can be used with events added to ",React.createElement("a",{href:"https://horaro.org"},"https://horaro.org"),". For example ",React.createElement("a",{href:"http://ma.pe/marathon/agdq_2016/gamesdonequick/secondstream"},"/marathon/agdq_2016/gamesdonequick/secondstream")),React.createElement("li",null,React.createElement("small",null,"1.13.5"),React.createElement("strong",{className:"fix"},"FIX"),"Update TMI.js to 1.0"),React.createElement("li",null,React.createElement("small",null,"1.13.4"),React.createElement("strong",{className:"fix"},"FIX"),"Fix so VODs can be clicked to open in new window"),React.createElement("li",null,React.createElement("small",null,"1.13.3"),React.createElement("strong",{className:"fix"},"FIX"),"Update tmi.js to fix chat not working"),React.createElement("li",null,React.createElement("small",null,"1.13.2"),React.createElement("strong",{className:"fix"},"FIX"),"Fix bug when adding a stream from within a game category stuff broke"),React.createElement("li",null,React.createElement("small",null,"1.13.1"),React.createElement("strong",{className:"fix"},"FIX"),"Make sure the cover on streams fade away on idle even if user hovers it"),React.createElement("li",null,React.createElement("small",null,"1.13"),React.createElement("strong",{className:"feature"},"FEATURE"),"Add special page for marathons, first one is Pre-ESA Online Marathon"),React.createElement("li",null,React.createElement("small",null,"1.12.5"),React.createElement("strong",{className:"fix"},"FIX"),"Remove scroll bar on idle so we fill entire screen"),React.createElement("li",null,React.createElement("small",null,"1.12.4"),React.createElement("strong",{className:"fix"},"FIX"),"Make sure all site navigation uses <a href> so it works nicely with meta key presses and scroll wheel presses for new tabs"),React.createElement("li",null,React.createElement("small",null,"1.12.3"),React.createElement("strong",{className:"fix"},"FIX"),"Use the browser's language settings to sort language filter bar overriding Quantcast's Twitch traffic analytics values"),React.createElement("li",null,React.createElement("small",null,"1.12.2"),React.createElement("strong",{className:"fix"},"FIX"),"When loosing focus and then focusing again setting idle state didn't work"),React.createElement("li",null,React.createElement("small",null,"1.12.1"),React.createElement("strong",{className:"fix"},"FIX"),"Fetch lists based on broadcaster language instead of just filtering them from global."),React.createElement("li",null,React.createElement("small",null,"1.12"),React.createElement("strong",{className:"feature"},"FEATURE"),"Add games to search bar results"),React.createElement("li",null,React.createElement("small",null,"1.11"),React.createElement("strong",{className:"feature"},"FEATURE"),"Add search bar to find streamers"),React.createElement("li",null,React.createElement("small",null,"1.10"),React.createElement("strong",{className:"feature"},"FEATURE"),"Add window popout for streams"),React.createElement("li",null,React.createElement("small",null,"1.9"),React.createElement("strong",{className:"feature"},"FEATURE"),"Add how long a stream has been live on channel info"),React.createElement("li",null,React.createElement("small",null,"1.8"),React.createElement("strong",{className:"feature"},"FEATURE"),'Add "Suggestion feature" on the bottom of each page'),React.createElement("li",null,React.createElement("small",null,"1.7"),React.createElement("strong",{className:"feature"},"FEATURE"),'Add loading bar on "fetch more" buttons'),React.createElement("li",null,React.createElement("small",null,"1.6"),React.createElement("strong",{className:"feature"},"FEATURE"),"Add flag to channel info"),React.createElement("li",null,React.createElement("small",null,"1.5.1"),React.createElement("strong",{className:"fix"},"FIX"),"When people were following hundreds of streamers they didn't see all live streams"),React.createElement("li",null,React.createElement("small",null,"1.5"),React.createElement("strong",{className:"feature"},"FEATURE"),"Add FrankerFacez and BetterTTV emoticons to chat"),React.createElement("li",null,React.createElement("small",null,"1.4"),React.createElement("strong",{className:"feature"},"FEATURE"),"Add chat with stream"),React.createElement("li",null,React.createElement("small",null,"1.3"),React.createElement("strong",{className:"feature"},"FEATURE"),"Add filtering based on languages"),React.createElement("li",null,React.createElement("small",null,"1.2"),React.createElement("strong",{className:"feature"},"FEATURE"),"Add filtering based on games"),React.createElement("li",null,React.createElement("small",null,"1.1"),React.createElement("strong",{className:"feature"},"FEATURE"),"Implement Multi-stream viewer"),React.createElement("li",null,React.createElement("small",null,"1.0"),React.createElement("strong",{className:"feature"}),"Site goes live"))),React.createElement("div",{className:"contact"},React.createElement("p",null,"Contact: ",React.createElement("a",{href:"https://twitter.com/mape"},"@mape")),React.createElement("p",null,React.createElement("small",null,"Donations: ",React.createElement("a",{href:"https://www.paypal.me/mape"},"here")))))},H=React.createClass({displayName:"Image",componentDidMount:function(){var e=this;e.preloadImage=n.createElement("img"),e.preloadImage.onload=function(){e.setState({loaded:!0})},e.preloadImage.src=e.props.src},preloadImage:null,componentWillUnmount:function(){this.preloadImage.onload=function(){}},getInitialState:function(){return{loaded:!1}},fixAspect:function(e){e=e||"1/1";var t=e.split("/");return t[1]/t[0]*100+"%"},render:function(){var e=this.props,t={Image:!0,loaded:this.state.loaded};return t[e.className]=!0,React.createElement("div",{className:h(t)},React.createElement("div",{className:"aspect",style:{paddingTop:this.fixAspect(this.props.aspect)}}),React.createElement("img",{src:this.props.src}),this.state.loaded?null:React.createElement("div",{className:"spinner"},React.createElement("div",{className:"spinner-aspect"}),React.createElement("div",{className:"double-bounce1"}),React.createElement("div",{className:"double-bounce2"})))}}),W=React.createClass({displayName:"Channel",timeAgo:null,componentDidMount:function(){var e=this;e.timeAgo=setInterval(function(){e.setState({update:Date.now()})},6e4)},componentWillUnmount:function(){clearInterval(this.timeAgo)},add:function(e,t){var a=this;return function(r){var s=!1,i=!1;v.changeSettings(function(n){Object.keys(n.activeStreams).length||(i=!0);var r=n.activeStreams[e];if(t&&!r&&(n.activeStreams={}),r)delete n.activeStreams[e],s=!0;else{var c=Object.assign({},a.props.data);delete c.viewers,n.activeStreams[e]={chat:!1,data:c}}}),i&&(n.body.scrollTop=n.body.scrollTop+282),i||Object.keys(v.settings.activeStreams).length||(n.body.scrollTop=n.body.scrollTop-282),(!s&&t||r.shiftKey)&&v.goTo(r,"/"+v.paths.player)}},getInitialState:function(){return{update:!1}},render:function(){var e=this.props,t=v.settings.activeStreams[e.data.channel.name];return React.createElement("div",{className:h({channel:!0,playing:t})},React.createElement("div",{className:"head"},e.data.channel.broadcaster_language?React.createElement("img",{className:"flag",src:"/img/flags/"+v.languageToCountry(e.data.channel.broadcaster_language)+".svg"}):null,React.createElement("span",{className:"name"},e.data.channel.display_name),e.data.game?React.createElement("span",{className:"game-name"},": ",e.data.game):null),e.data.viewers?React.createElement("div",{className:"viewer-count"},React.createElement("img",{className:"viewerIcon",src:"/img/user-icon.svg"}),v.formatViewerCount(e.data.viewers)," viewers"):null,e.data.created_at?React.createElement("div",{className:"uptime"},React.createElement("img",{className:"clockIcon",src:"/img/clock-icon.svg"}),v.formatTimeAgo(e.data.created_at)):null,React.createElement("div",{className:"preview-container"},React.createElement("div",{className:"aspect"}),React.createElement(H,{className:"game-preview",src:e.data.preview.medium.replace("320x180","299x168"),aspect:"16/9"}),React.createElement("span",{className:"status"},e.data.channel.status),e.data.channel.mature?React.createElement("div",{className:"mature"}):null,React.createElement("div",{className:h({play:!0,replace:!0,removing:t}),onClick:this.add(e.data.channel.name,!0)},React.createElement("span",{className:"text"},t?"Remove stream":"Play")),t?null:React.createElement("div",{className:"play add",onClick:this.add(e.data.channel.name,!1)},React.createElement("span",{className:"text"},t?"Remove stream":"Add to multi-stream",React.createElement("small",null,"Hold shift to switch to player after adding")))))}});d.fn=function(){var e=Array.prototype.slice.call(arguments);return function(){var t=Array.prototype.slice.call(arguments),a=[function(){this.apply(null,t)}].concat(e);"function"==typeof t[t.length-1]&&a.push(t.pop()),d.apply(null,a)}},"undefined"!=typeof module&&"exports"in module&&(module.exports=d);var X=React.createClass({displayName:"MarathonPage",componentDidMount:function(){e.addEventListener("resize",this.fitPlayer),this.fitPlayer();var t=this;t.schedule=t.props.pathArguments[0],t.updateSchedule(),t.updateScheduleInterval=setInterval(t.updateSchedule,18e5),t.updateTimesInterval=setInterval(function(){t.forceUpdate()},6e4),t.setState({streams:t.props.pathArguments.slice(1)}),t.updateTwitter=setInterval(function(){t.refs.twitterContainer&&(t.refs.twitterContainer.innerHTML=""),t.insertTwitter()},18e5),a.firstMarathonVisit||(n.body.scrollTop=e.innerHeight/2,n.querySelector("html").scrollTop=e.innerHeight/2,a.firstMarathonVisit=1)},schedule:null,twitter:null,updateScheduleInterval:null,updateTimesInterval:null,updateTwitter:null,componentWillUnmount:function(){e.removeEventListener("resize",this.fitPlayer),clearInterval(this.updateScheduleInterval),clearInterval(this.updateTimesInterval),clearInterval(self.updateTwitter)},fitPlayer:function(){this.refs.playerContainer.style.maxHeight=e.innerHeight+"px"},insertTwitter:function(){var e=this;twttr.widgets.createTimeline("688654198716678144",e.refs.twitterContainer,{height:620,chrome:"nofooter",linkColor:"#ffa",screenName:e.state.twitter})},updateSchedule:function(){var t=this,a=t.schedule;a.match(/_/)||(a+="_schedule"),a=a.replace(/_/g,"/"),g({url:"https://horaro.org/"+a+".json?named=true&callback=?",dataType:"jsonp",success:function(r){var s=r.schedule;s.columns.splice(1,0,"Estimate"),s.columns.splice(1,0,"Time"),s.columns.splice(1,0,"Starts in"),s.items=s.items.map(function(e){return e.data.splice(1,0,e.length_t),e.data.splice(1,0,e.scheduled),e.data.splice(1,0,e.scheduled),"preesa/schedule"===a&&e.data.splice(4,1),e}),"preesa/schedule"===a&&(s.columns.splice(4,1),s.columns[4]="Runner(s)"),e.twttr||!function(e,t,a){var n,r=e.getElementsByTagName(t)[0],s=/^http:/.test(e.location)?"http":"https";e.getElementById(a)||(n=e.createElement(t),n.id=a,n.src=s+"://platform.twitter.com/widgets.js",r.parentNode.insertBefore(n,r))}(n,"script","twitter-wjs");t.setState({schedule:s,twitter:r.schedule.twitter}),function a(){return e.twttr?void t.insertTwitter():setTimeout(a,100)}()}})},getInitialState:function(){return{schedule:{},streams:[],streamIndex:0,showEntireSchedule:!1,hasChat:!1,twitter:null}},returnDataBasedOnCol:function(e,t,a){return"Starts in"===t?v.formatTimeLeft(e):"Time"===t?new Date(e).toString().match(/(..:..).*/)[1]:"Estimate"===t?v.formatLengthExtended(e,!0):"Runner(s)"===t?e.split(/[,.]/).map(function(e,t){return React.createElement("a",{key:t,href:"https://twitch.tv/"+e.trim()},e)}):e},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],getEntries:function(e){var t=this,a=this.state.schedule,n=null,r=[];return e.forEach(function(e,s){var i=new Date(e.scheduled),c=i.getDate(),l=t.dayNames[i.getDay()],o=t.monthNames[i.getMonth()],u=i.getFullYear();c!==n&&r.push(React.createElement("tr",{key:c,className:h({active:e.active,finished:e.finished})},React.createElement("td",{colSpan:e.data.length,className:"date"},l,", ",c," ",o," ",u))),n=c,r.push(React.createElement("tr",{key:e.scheduled_t,className:h({active:e.active,finished:e.finished})},e.data.map(function(n,r){return React.createElement("td",{key:a.columns[r],className:"col-"+a.columns[r].toLowerCase().replace(/ /g,"-").replace(/[^ a-z]/g,"")},t.returnDataBasedOnCol(n,a.columns[r],e))})))}),r},toggleChat:function(){this.setState({hasChat:!this.state.hasChat})},toggleShowEntireSchedule:function(){this.setState({showEntireSchedule:!this.state.showEntireSchedule})},switchStream:function(e){var t=this;return function(){t.setState({streamIndex:e})}},render:function(){var e=this,t=e.state,a=t.schedule,n=(t.videos,[]);return Object.keys(a).length&&(n=a.items.map(function(e){return v.getNow()>new Date(e.scheduled).getTime()&&(e.finished=!0),e}),n.forEach(function(e,t){var a=n[t+1];a&&e.finished&&!a.finished&&(delete e.finished,e.active=!0)}),n=n.filter(function(e){return!e.finished}),e.state.showEntireSchedule||(n=n.slice(0,5)),n.length||(n=[a.items[a.items.length-1]])),React.createElement("div",{className:h({marathonPage:!0,hasChat:t.hasChat})},React.createElement("div",{className:"playerContainer",ref:"playerContainer"},React.createElement("div",{className:"aspect"}),React.createElement("div",{className:"playerIframeContainer"},React.createElement("iframe",{ref:"player",className:"player",src:"https://player.twitch.tv/?muted=false&channel="+t.streams[t.streamIndex]+"&html5_"})),React.createElement("div",{className:"cover"}),React.createElement("div",{className:"coverSmall"}),t.hasChat?React.createElement("div",{className:"chatContainer"},React.createElement("iframe",{ref:"chat",className:"chat",src:"https://twitch.tv/"+t.streams[t.streamIndex]+'/chat?popout="'})):null,React.createElement("div",{className:"toggleChat",onClick:this.toggleChat},"Toggle Chat")),t.streams.length>1?React.createElement("div",{className:"switchStreams"},t.streams.map(function(a,n){return React.createElement("div",{className:h({streamButton:!0,active:n===t.streamIndex}),onClick:e.switchStream(n)},n===t.streamIndex?React.createElement("span",null,"Viewing ",a,"'s stream"):React.createElement("span",null,"Switch to ",a,"'s stream"))})):null,Object.keys(a).length?React.createElement("table",null,React.createElement("thead",null,React.createElement("tr",null,a.columns.map(function(e,t){return React.createElement("th",{key:t},e)}))),React.createElement("tbody",null,this.getEntries(n))):React.createElement(C,null),n.length>4?React.createElement("div",{className:"toggleShowEntireSchedule",onClick:this.toggleShowEntireSchedule},e.state.showEntireSchedule?React.createElement("span",null,"Hide full schedule"):React.createElement("span",null,"Show full schedule")):null,null!==t.twitter?React.createElement("div",{ref:"twitterContainer",className:"twitterTimeline"}):null)}})}(window,Math,localStorage,document);</script></body></html>