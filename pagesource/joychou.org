  <!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8"/>
<meta name="author" content="jrotty,bssf@qq.com">
 <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
<meta http-equiv="x-dns-prefetch-control" content="on"> 
<link rel="dns-prefetch" href="https://joychou.org/usr/themes/yodu/" />
<link rel="dns-prefetch" href="//cdn.v2ex.com" />
<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="theme-color" content="#00BDFF">
  <link rel="icon" href="/favicon.ico">
   <link rel="apple-touch-icon" href="https://joychou.org/usr/themes/yodu/images/favicon.png">
 <!--[if lt IE 9]><style>body{overflow-y: hidden; }</style>
<div class="browsehappy" role="dialog"><a href="http://browsehappy.com/"><img  src="https://joychou.org/usr/themes/yodu/images/hj.png"><br>您的浏览器很滑稽，建议点击滑稽升级您的浏览器！</a></div>
<![endif]-->







<title>JoyChou-The Road Less Traveled.</title> 

 <link rel="stylesheet" href="https://joychou.org/usr/themes/yodu/style.css?v=1.2">
  <meta name="description" content="The Road Less Traveled." />
<meta name="keywords" content="security" />
<link rel="pingback" href="https://joychou.org/action/xmlrpc" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://joychou.org/action/xmlrpc?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://joychou.org/action/xmlrpc?wlw" />
<link rel="alternate" type="application/rss+xml" title="JoyChou &raquo; RSS 2.0" href="https://joychou.org/feed/" />
<link rel="alternate" type="application/rdf+xml" title="JoyChou &raquo; RSS 1.0" href="https://joychou.org/feed/rss/" />
<link rel="alternate" type="application/atom+xml" title="JoyChou &raquo; ATOM 1.0" href="https://joychou.org/feed/atom/" />
<link rel="stylesheet" type="text/css" href="https://joychou.org/usr/plugins/HighlightJs/res/styles/monokai_sublime.css" /></head>
                                                                  
<body id="menu"> <form class="js-search search-form search-form--modal" method="get" role="search">
		<div class="search-form__inner">
			<div>
				<p class="micro mb-">输入后按回车搜索 ...</p>
				<i class="icon-search"></i>
				<input id="keyword" class="text-input" type="search" name="s" placeholder="Search" required="">
			</div>
		</div>
		<div class="search_close" onclick="$.Close()"></div></form>

<sidebar id="sidebar">
<a  href="https://joychou.org/"><div class="tx">
<img src="//cdn.v2ex.com/gravatar/d5b234984190822adf2f31a4d5a371bb?s=140" alt="JoyChou" itemprop="image" data-no-instant>
<span>JoyChou</span>
</div></a>
<ul class="cd">
          
          <li>
              <a class="" href="https://joychou.org/" title="主页">
<i class="iconfont icon-quan"></i>
                  <span>主页</span>
              </a>
          </li>
            <li>
              <a class="" href="https://joychou.org/categories.html" title="分类">
<i class="iconfont icon-kongxing"></i>
                  <span>分类</span>
              </a>
          </li>
          <li>
              <a class="" href="https://joychou.org/archives.html" title="归档">
<i class="iconfont icon-openwj"></i>
                  <span>归档</span>
              </a>
          </li>
          
          <li>
              <a class="" href="https://joychou.org/tags.html" title="标签">
<i class="iconfont icon-tags"></i>
                  <span>标签</span>
              </a>
          </li>                    
          <li>
              <a class="" href="https://joychou.org/links.html" title="友链">
<i class="iconfont icon-aite"></i>
                  <span>友链</span>
              </a>
          </li>
          <li>
              <a class="" href="https://joychou.org/about.html" title="关于">
 <i class="iconfont icon-wo"></i>
                  <span>关于</span>
              </a>
          </li>
          
      </ul>
<ul class="cd minx">
        <li class="maxico">
          
          <a class="inline" rel="nofollow" target="_blank" href="https://github.com/JoyChou93">
<i class="iconfont icon-github"></i>
          </a>
          
          
            
            <a class="inline" rel="nofollow" target="_blank" href="http://weibo.com/JoyChou1993">
<i class="iconfont icon-weibo"></i>
            </a>
            
            
          
          <a class="inline"  target="_blank"  href="https://joychou.org/feed">
<i class="iconfont icon-rss"></i>
          </a>
          <a class="inline"  id="sousuo" onclick="$.Sousuo()">
<i class="iconfont icon-search"></i>
          </a>
        </li>
      </ul>
</sidebar>
<div id="header"  class="header">
  <div class="sjcd"  onclick="$.Menu()"><i></i></div>
  <h1><a href="https://joychou.org/">JoyChou</a></h1>
  <a class="me" href="https://joychou.org/about.html"><img src="//cdn.v2ex.com/gravatar/d5b234984190822adf2f31a4d5a371bb?s=140" alt="JoyChou" itemprop="image" data-no-instant></a>
</div><div id="zhezhao"  onclick="$.Menu()"></div><div class="bug"><div id="bug">
<div id="main" class="main">
<article><div class="post">
<a href="https://joychou.org/web/exploit-ssti-in-flask-jinja2.html" >
<div class="index-img">
<div class="tutu">
<img src="https://joychou.org/usr/themes/yodu/images/slt/361.jpg" itemprop="image" data-no-instant/>
                </div></div></a>

                
<h1 class="title"><a href="https://joychou.org/web/exploit-ssti-in-flask-jinja2.html">Exploit SSTI in Flask/Jinja2</a>
</h1>

<div class="meta">
 <time itemprop="datePublished" content="2018-01-19  12:08"> 2018-01-19 	
    </time>
   <a class="category-link"><a href="https://joychou.org/category/web/">WEB安全</a></a>
<span> 阅读(828)</span>

</div>

<div class="content">

1. 漏洞简介Server-Side Template Injection(服务端模板注入)Web网站使用模板动态渲染网页，可能就会造成模板注入。比如Flask使用Jinja2模板时，如下代码就会造成模板注入。from flask import Flask, request...</div>

</div>

<div class="post">
<a href="https://joychou.org/operations/debug-nginx-worker-process-is-shutting-down.html" >
<div class="index-img">
<div class="tutu">
<img src="https://joychou.org/usr/themes/yodu/images/slt/187.jpg" itemprop="image" data-no-instant/>
                </div></div></a>

                
<h1 class="title"><a href="https://joychou.org/operations/debug-nginx-worker-process-is-shutting-down.html">nginx: worker process is shutting down </a>
</h1>

<div class="meta">
 <time itemprop="datePublished" content="2017-12-20  14:00"> 2017-12-20 	
    </time>
   <a class="category-link"><a href="https://joychou.org/category/operations/">运维安全</a></a>
<span> 阅读(828)</span>

</div>

<div class="content">

0x00 背景当有大量的请求Nginx时，进行reload nginx操作后，会出现一些shutting down的nginx worker进程。这是nginx为了平滑加载规则所导致，未处理完的请求会继续处理，直到所有的请求处理完，shutting down的worker进...</div>

</div>

<div class="post">
<a href="https://joychou.org/web/human-computer-recognition-using-javascript.html" >
<div class="index-img">
<div class="tutu">
<img src="https://joychou.org/usr/themes/yodu/images/slt/80.jpg" itemprop="image" data-no-instant/>
                </div></div></a>

                
<h1 class="title"><a href="https://joychou.org/web/human-computer-recognition-using-javascript.html">此内容被密码保护</a>
</h1>

<div class="meta">
 <time itemprop="datePublished" content="2017-12-6  18:21"> 2017-12-06 	
    </time>
   <a class="category-link"><a href="https://joychou.org/category/web/">WEB安全</a></a>
<span> 阅读(722)</span>

</div>

<div class="content">

请输入密码访问            </div>

</div>

<div class="post">
<a href="https://joychou.org/web/java-xxe-vulnerability.html" >
<div class="index-img">
<div class="tutu">
<img src="https://joychou.org/usr/themes/yodu/images/slt/485.jpg" itemprop="image" data-no-instant/>
                </div></div></a>

                
<h1 class="title"><a href="https://joychou.org/web/java-xxe-vulnerability.html">JAVA XXE Vulnerability</a>
</h1>

<div class="meta">
 <time itemprop="datePublished" content="2017-12-4  18:22"> 2017-12-04 	
    </time>
   <a class="category-link"><a href="https://joychou.org/category/web/">WEB安全</a></a>
<span> 阅读(3069)</span>

</div>

<div class="content">

0x00 前言今天遇到一个Java XXE漏洞，需要修复方案，网上的方案试了都不行。最后发现，需要使用造成XXE漏洞类的setFeature方法设置disallow-doctype-decl为true。最后给find-sec-bugs提了一个ISSUE，详情可以看 http...</div>

</div>

<div class="post">
<a href="https://joychou.org/operations/nginx-lua-logging.html" >
<div class="index-img">
<div class="tutu">
<img src="https://joychou.org/usr/themes/yodu/images/slt/388.jpg" itemprop="image" data-no-instant/>
                </div></div></a>

                
<h1 class="title"><a href="https://joychou.org/operations/nginx-lua-logging.html">Nginx Lua Logging</a>
</h1>

<div class="meta">
 <time itemprop="datePublished" content="2017-11-1  21:02"> 2017-11-01 	
    </time>
   <a class="category-link"><a href="https://joychou.org/category/operations/">运维安全</a></a>
<span> 阅读(1432)</span>

</div>

<div class="content">

申明，如果文章内容，有任何问题，欢迎读者进行评论指正。我也是这方面的初学者，我也一直在寻找最优秀、有效的方式。0x00 背景在WAF命中规则后，需要记录拦截的日志，之前使用的方法是ngx.log。运行了一段时间，遇到一个瓶颈，ngx.log记录每行最长长度为2048字节。但...</div>

</div>

<div class="post">
<a href="https://joychou.org/codesec/anti-javascript.html" >
<div class="index-img">
<div class="tutu">
<img src="https://joychou.org/usr/themes/yodu/images/slt/21.jpg" itemprop="image" data-no-instant/>
                </div></div></a>

                
<h1 class="title"><a href="https://joychou.org/codesec/anti-javascript.html">此内容被密码保护</a>
</h1>

<div class="meta">
 <time itemprop="datePublished" content="2017-11-1  15:31"> 2017-11-01 	
    </time>
   <a class="category-link"><a href="https://joychou.org/category/codesec/">代码安全</a></a>
<span> 阅读(1135)</span>

</div>

<div class="content">

请输入密码访问            </div>

</div>

<div class="post">
<a href="https://joychou.org/web/bypass-waf-of-file-upload.html" >
<div class="index-img">
<div class="tutu">
<img src="https://joychou.org/usr/themes/yodu/images/slt/261.jpg" itemprop="image" data-no-instant/>
                </div></div></a>

                
<h1 class="title"><a href="https://joychou.org/web/bypass-waf-of-file-upload.html">File Upload and WAF</a>
</h1>

<div class="meta">
 <time itemprop="datePublished" content="2017-10-19  01:10"> 2017-10-19 	
    </time>
   <a class="category-link"><a href="https://joychou.org/category/web/">WEB安全</a></a>
<span> 阅读(1980)</span>

</div>

<div class="content">

1. 前言本文主要讨论下 文件上传和WAF的功与防。测试环境均为nginx/1.10.3PHP 5.5.34有些特性和 语言及webserver有关，有问题的地方，欢迎大家指正。</div>

</div>

<div class="post">
<a href="https://joychou.org/web/typecho-unserialize-vulnerability.html" >
<div class="index-img">
<div class="tutu">
<img src="https://joychou.org/usr/themes/yodu/images/slt/337.jpg" itemprop="image" data-no-instant/>
                </div></div></a>

                
<h1 class="title"><a href="https://joychou.org/web/typecho-unserialize-vulnerability.html">Typecho install.php Unserialize Vulnerability Analysis</a>
</h1>

<div class="meta">
 <time itemprop="datePublished" content="2017-10-17  11:34"> 2017-10-17 	
    </time>
   <a class="category-link"><a href="https://joychou.org/category/web/">WEB安全</a></a>
<span> 阅读(1437)</span>

</div>

<div class="content">

对PHP反序列化的漏洞理解可以阅读下这篇浅谈php反序列化漏洞文章。</div>

</div>

<nav class="page">

 <a class="next" title="" href="https://joychou.org/page/2/"><xt class="btn--two"><span>下一页</span><i class="iconfont icon-you text-base ml"></i></xt></a><div class="page-right">页码
1 <span >/</span> 21</div>

</nav>
 </article>


 

<footer id="footer" class="footer">
<span>博客已经运行</span><span id="span_dt_dt"></span>
<br>© Powered by JoyChou (2013-2018)
</footer>
</div>


</div></div>



   <div id="leimu"><img src="https://joychou.org/usr/themes/yodu/images/a.png" alt="雷姆" onmouseover="this.src='https://joychou.org/usr/themes/yodu/images/b.png'" onmouseout="this.src='https://joychou.org/usr/themes/yodu/images/a.png'" id="audioBtn">
</div><div id="lamu"><img src="https://joychou.org/usr/themes/yodu/images/c.png" alt="拉姆" onmouseover="this.src='https://joychou.org/usr/themes/yodu/images/d.png'" onmouseout="this.src='https://joychou.org/usr/themes/yodu/images/c.png'" id="audioBtn">
</div><script src="https://joychou.org/usr/themes/yodu/js/jquery.js?v=1.2" data-no-instant></script><script src="https://joychou.org/usr/themes/yodu/load.js?v=1.2"></script><script type="text/javascript" src="https://joychou.org/usr/plugins/HighlightJs/res/highlight.pack.js"></script><script type="text/javascript">window.onload = function () {
var codes = document.getElementsByTagName("pre"),
    hlNames = {
        actionscript : /^as[1-3]$/i,
        cmake : /^(make|makefile)$/i,
        cs : /^csharp$/i,
        css : /^css[1-3]$/i,
        delphi : /^pascal$/i,
        javascript : /^js$/i,
        markdown : /^md$/i,
        objectivec : /^objective\-c$/i,
        php  : /^php[1-6]$/i,
        sql : /^mysql$/i,
        xml : /^(html|html5|xhtml)$/i
    }, hlLangs = hljs.LANGUAGES;

for (var i = 0; i < codes.length; i ++) {
    var children = codes[i].getElementsByTagName("code"), highlighted = false;

    if (children.length > 0) {
        var code = children[0], className = code.className;

        if (!!className) {
            if (0 == className.indexOf("lang-")) {
                var lang = className.substring(5).toLowerCase(), finalLang;
            
                if (hlLangs[lang]) {
                    finalLang = lang;
                } else {
                    for (var l in hlNames) {
                        if (lang.match(hlNames[l])) {
                            finalLang = l;
                        }
                    }
                }

                if (!!finalLang) {
                    var result = hljs.highlight(finalLang, code.textContent, true);
                    code.innerHTML = result.value;
                    highlighted = true;
                }
            }
        }

        if (!highlighted) {
            var html = code.innerHTML;
            code.innerHTML = html.replace(/<\/?[a-z]+[^>]*>/ig, "");
            hljs.highlightBlock(code, "", false);
        }
    }
}
}</script></body>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?554ea4d9d0c45b3010d6aeb37dd1244d";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

</html>