<!DOCTYPE html>
<!--[if IE 7]>     <html class="ie ie7 lte9 lte8 lte7" lang="sv"><![endif]-->
<!--[if IE 8]>     <html class="ie ie8 lte9 lte8" lang="sv"><![endif]-->
<!--[if IE 9]>     <html class="ie ie9 lte9" lang="sv"><![endif]-->
<!--[if gt IE 9]>  <html lang="sv"><![endif]-->
<!--[if !IE]><!--> <html lang="sv"><!--<![endif]-->
    <head>
        <meta content="2018.01.15.0 (release)" name="version" />
<meta content="101" name="lb-leg" />
<meta content="Desktop" name="device" />
<meta content="DesktopGeneric/1.0" name="device-cache-profile" />

        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <meta name="msapplication-tap-highlight" content="no" />
        <link rel="shortcut icon" href="/favicon.ico" />
        <meta name="keywords" content="">
        <meta name="description">
        <meta name="apple-mobile-web-app-capable" content="yes" /> 
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="//sl.se/Resources/img/SL_icon_iPhone4.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="//sl.se/Resources/img/SL_icon_iPad.png" />
        <link rel="apple-touch-icon-precomposed" href="//sl.se/Resources/img/SL_icon_SmartPhone.png" />
        <meta name="mobile-web-app-capable" content="yes">
        <link rel="shortcut icon" sizes="114x114" href="//sl.se/Resources/img/SL_icon_iPhone4.png" />
        <link rel="shortcut icon" sizes="72x72" href="//sl.se/Resources/img/SL_icon_iPad.png" />
        
        <meta property="og:image" content="//sl.se/Resources/img/sl_logo_fb.png" />
        <meta property="og:type" content="website" />
        <meta property="og:site_name" content="SL"/> 
        <meta property="og:title" content="Storstockholms Lokaltrafik" />
        <meta property="og:description" content="&nbsp;" />
        <title>Start - SL</title>
        
        <link href="/ui.axd/sv/bundles/css/sl.css?v=2018.01.15.0" rel="stylesheet"/>

         
        <!--[if lte IE 8]>
            <script src="/ui.axd/sv/bundles/js/sl.ie.js?v=2018.01.15.0"></script>
        <![endif]-->

        <script>
            var pageLoadData = {};
            var useGeoLocation = 'True';
        </script>
    </head>
    
    <body data-ng-app="slapp" class="ng-app:slapp {{browser}}" id="ng-app" data-init="">

        
        

        <main class="wrapper">
<div class="skipnav">
    <a href="#content" class="clickable" data-skipnav>Hoppa &#246;ver navigering, g&#229; direkt till inneh&#229;llet.</a>
</div>
<header id="header" class="site-header" data-ng-controller="siteHeader" data-scroll-if="scrollToTop" data-ng-init="setVersion('2018.01.15.0')">
    <div class="container">
        <h1 class="site-header-logo">
            <a href="https://sl.se/sv/" data-ng-click="goToStartPage('https://sl.se/sv/')" accesskey="1">
                <span class="sl-logo clickable">SL</span>
            </a>
        </h1>
        <div class="site-header-button-container">
            <ul>
                <li data-ng-if="shopping_cart.data.UserAuthenticated" data-ng-cloak><div class="site-header-button clickable logout-button" data-ng-click="shopping_cart.logout()" tabindex="0" role="button">Logga ut</div>  
                </li><li data-ng-show="shopping_cart.data.ProductsView.length > 0" data-ng-cloak><div data-ng-class="{active: display.shopping_cart}" class="site-header-button shopping-cart-button clickable" data-target="shopping_cart" data-toggler="headerButtons" data-ng-click="cartView()" data-ng-cloak tabindex="0" role="button" aria-pressed="{{display.shopping_cart == true}}"><span>Varukorg : </span>{{shopping_cart.data.ProductsView.length}} <span data-ng-if="shopping_cart.data.ProductsView.length == 1">produkt</span><span data-ng-if="shopping_cart.data.ProductsView.length != 1">produkter</span><span class="shopping-cart-icon"></span></div>   
                     </li><li><div class="site-header-button search-button clickable" data-ng-class="{active: display.search}" data-target="search" data-toggler="headerButtons" role="button" tabindex="0" aria-pressed="{{display.search == true}}">S&#246;k</div>
                          </li><li><div class="site-header-button open-nav-button clickable" data-ng-class="{active: display.navX}" data-target="navX" data-toggler="headerButtons" tabindex="0" role="button" aria-pressed="{{display.navX == true}}">Meny</div></li>
            </ul>
        </div>
<nav class="site-header-nav-list {{togleeState}} mobile-hide" data-ng-class="{ 'mobile-hide': !display.navX }" data-ng-show="display.nav || display.navX" data-toglee='{"max": true, "target": "nav"}'>
    <ul class="site-header-nav-list-wrapper">
<li class="dropdown"> 

              <a href="https://sl.se/sv/" class=selected target="_self">Start</a>
          </li><li class="dropdown"> 

              <a href="https://sl.se/sv/reseinfo/"  target="_self">Reseinfo</a>
          </li><li class="dropdown"> 

              <a href="https://sl.se/sv/kop-biljett/"  target="_self">K&#246;pa biljett</a>
          </li><li class="dropdown"> 

              <a href="https://sl.se/sv/mitt-sl/konto/"  target="_self">Mitt SL</a>
          </li><li class="dropdown"> 

              <a href="https://sl.se/sv/kundservice/"  target="_self">Kundservice &amp; villkor</a>
          </li>    </ul> 
</nav>
    </div> 
    <nav data-ng-class="{'site-header-search':true}" data-ng-show="display.search" data-ng-cloak data-ng-controller="SiteSearchCtrl" aria-expanded="{{display.search == true}}">
        <div class="container search-field">
<form action="/sv/find/" method="get" name="headerSearchForm">                <div class="form-error error" data-ng-show="headerSearchForm.query.$invalid">
                    <p><span class="form-error-icon"></span>{{error}}</p>
                </div>
                <div class="input-field-wrapper">
                    <label for="header_search">S&#246;k</label>
                    <input id="header_search" type="text" name="query" class="input-medium search-query" maxlength="{{formParams.textLimit}}" placeholder="S&#246;k" data-ng-model="searchTerm" data-ng-pattern="/^[\w\s\u00C0-\u0231-´'`:()]+$/" data-focus-on ="display.search" data-form="headerSearchForm" data-validate-on-enter="{{headerSearchForm.query.$invalid}}" />  <!--   {{formParams.textPattern}} -->
                    <div class="button-container">
                        <div class="close-icon" data-ng-click="resetField()" data-ng-show="searchTerm.length > 0"></div>
                        <button type="submit" class="button-primary clickable" data-ng-class="{ disabled: headerSearchForm.query.$invalid }" data-ng-click="submitForm('headerSearchForm', headerSearchForm.query.$invalid)" data-ng-disabled="headerSearchForm.query.$invalid">S&#246;k</button>
                    </div>
                </div>      
</form>        </div>
    </nav>
</header>
            <div id="content" accesskey="s" tabindex="-1">


<div data-ng-controller="ErrorsCtrl" class="error-messages" data-ng-show="false || 0 > 0 || shopping_cart.data.Errors.length > 0" data-scroll-if="shopping_cart.data.Errors.length > 0">
    <ul class="middle-col">
                <li class="error-item" data-ng-cloak data-ng-repeat="error in shopping_cart.data.Errors track by $index">
            {{error}}
            <span class="error-icon"></span>
        </li>
    </ul>
</div>
<noscript>
    <div class="middle-col error-messages">
        <div class="error-item">
            JavaScript måste vara aktiverat i webbläsaren för att sajten ska fungera korrekt.
            Om du inte kan/vill aktivera JavaScript kan du istället gå till <a href="http://mini.sl.se/">mini.sl.se</a>.
            <span class="error-icon"></span>
        </div>
    </div>
</noscript>
<script>
    pageLoadData.statusinfo = 'false';
</script>

<section class="shopping-cart" data-ng-controller="ShoppingCartCtrl" data-ng-show="display.shopping_cart && shopping_cart.data.ProductsView.length > 0" data-ng-cloak data-scroll-if="shopping_cart.data.ValidationErrors.RemoveProduct.form_errors" aria-expanded="{{display.shopping_cart == true && shopping_cart.data.ProductsView.length > 0}}">
    <div class="shopping-cart-inside middle-col" data-scroll-if="shopping_cart.data.ValidationErrors.GetSecurityMessage.form_errors">
        <h2>Kundkorg</h2>
        <div class="form-error error" data-ng-show="shopping_cart.data.ValidationErrors.RemoveProduct.form_errors" data-ng-repeat="error in shopping_cart.data.ValidationErrors.RemoveProduct.form_errors track by $index">
            <p><span class="form-error-icon"></span>{{error}}</p>
        </div>
        <div class="error" data-ng-show="shopping_cart.data.ValidationErrors.GetSecurityMessage.form_errors" data-ng-repeat="error in shopping_cart.data.ValidationErrors.GetSecurityMessage.form_errors track by $index">
            <p>{{error}} <a href="{{shopping_cart.data.ECommerseProductsURL}}">Köp biljett</a></p>
        </div>
        <ul class="ticket-list">
            <li data-ng-repeat="product in shopping_cart.data.ProductsView" id="{{product.ObjectId}}">
                <span class="name">{{product.Name}}</span>
                <span class="price">{{product.PriceIncVat}} kr</span>
                <span class="remove-item-icon clickable" data-ng-click="shopping_cart.removeProduct(product.ObjectId)" tabindex="0" role="button">Ta bort produkt</span>
            </li>
        </ul>
        <p class="sum">Totalt {{shopping_cart.data.TotalSum}} SEK</p>
        <a class="button-primary" href="https://sl.se/sv/mitt-sl/e-handel/" data-ng-click="cartCheckout()">Till kassan</a> 
    </div>
</section>

                
<section class="tab-group" data-ng-controller="TrafficStatusCtrl" data-ng-class="{ inactive: inactive.trafficsituation }" data-ng-init="autoUpdate = true">
    <div class="tab-group-content" data-ng-if="traffic_situation.data.traffic_types.length == 0">
<div class="container tab-info-groups prerendered">
    <div class="tab-label">

            <h2>Trafikl&#228;get</h2><span class="tab-time">22:00</span>
        
    </div>
    <ul class="tab-list"> <li class="info-tab tab-list-item container" data-ng-class="{ expanded: activeTab == 'bus' }">
 
                  <div class="clickable tab bus" data-traffic-status-details data-target="bus" data-ng-click="trafficStatusTab('bus')" tabindex="0" role="button">
                      
                          <span class="tab-group-icon-wrapper"><span class="tab-group-icon bus"></span>Buss<span class="status">(St&#246;rningar finns)</span></span><span class="tab-group-status-icon EventMinor"></span>
                  </div>
                  <div data-ng-cloak class="tab-list-group" data-ng-show="activeTab == 'bus'">
                  </div>
          </li><li class="info-tab tab-list-item container" data-ng-class="{ expanded: activeTab == 'metro' }">
 
                  <div class="clickable tab metro" data-traffic-status-details data-target="metro" data-ng-click="trafficStatusTab('metro')" tabindex="0" role="button">
                      
                          <span class="tab-group-icon-wrapper"><span class="tab-group-icon metro"></span>Tunnelbana<span class="status">(Inga st&#246;rre st&#246;rningar)</span></span><span class="tab-group-status-icon EventGood"></span>
                  </div>
                  <div data-ng-cloak class="tab-list-group" data-ng-show="activeTab == 'metro'">
                  </div>
          </li><li class="info-tab tab-list-item container" data-ng-class="{ expanded: activeTab == 'local' }">
 
                  <div class="clickable tab local" data-traffic-status-details data-target="local" data-ng-click="trafficStatusTab('local')" tabindex="0" role="button">
                      
                          <span class="tab-group-icon-wrapper"><span class="tab-group-icon local"></span>Lokalbana<span class="status">(Inga st&#246;rre st&#246;rningar)</span></span><span class="tab-group-status-icon EventPlanned"></span>
                  </div>
                  <div data-ng-cloak class="tab-list-group" data-ng-show="activeTab == 'local'">
                  </div>
          </li><li class="info-tab tab-list-item container" data-ng-class="{ expanded: activeTab == 'train' }">
 
                  <div class="clickable tab train" data-traffic-status-details data-target="train" data-ng-click="trafficStatusTab('train')" tabindex="0" role="button">
                      
                          <span class="tab-group-icon-wrapper"><span class="tab-group-icon train"></span>Pendelt&#229;g<span class="status">(Inga st&#246;rre st&#246;rningar)</span></span><span class="tab-group-status-icon EventPlanned"></span>
                  </div>
                  <div data-ng-cloak class="tab-list-group" data-ng-show="activeTab == 'train'">
                  </div>
          </li><li class="info-tab tab-list-item container" data-ng-class="{ expanded: activeTab == 'tram' }">
 
                  <div class="clickable tab tram" data-traffic-status-details data-target="tram" data-ng-click="trafficStatusTab('tram')" tabindex="0" role="button">
                      
                          <span class="tab-group-icon-wrapper"><span class="tab-group-icon tram"></span>Sp&#229;rvagn<span class="status">(Inga st&#246;rre st&#246;rningar)</span></span><span class="tab-group-status-icon EventPlanned"></span>
                  </div>
                  <div data-ng-cloak class="tab-list-group" data-ng-show="activeTab == 'tram'">
                  </div>
          </li><li class="info-tab tab-list-item container" data-ng-class="{ expanded: activeTab == 'fer' }">
 
                  <div class="clickable tab fer" data-traffic-status-details data-target="fer" data-ng-click="trafficStatusTab('fer')" tabindex="0" role="button">
                      
                          <span class="tab-group-icon-wrapper"><span class="tab-group-icon fer"></span>B&#229;t<span class="status">(Inga st&#246;rre st&#246;rningar)</span></span><span class="tab-group-status-icon EventGood"></span>
                  </div>
                  <div data-ng-cloak class="tab-list-group" data-ng-show="activeTab == 'fer'">
                  </div>
          </li>    </ul>   
</div>
<script>
    var trafficstatus = 'True' == "True" ? "on" : "off";
    pageLoadData.trafficstatus = trafficstatus;
</script>

    </div>
    <div class="tab-group-content" data-ng-if="traffic_situation.data.traffic_types.length > 0" data-ng-cloak>
<div class="container tab-info-groups">
    <div class="tab-label">
        <h2>Trafikl&#228;get</h2><span class="tab-time">{{traffic_situation.data.time_updated}}</span>

    </div><ul class="tab-list" aria-live="off">
        <li class="tab-list-item info-tab container" data-ng-repeat="item in traffic_situation.data.traffic_types" data-ng-class="{ expanded: activeTab == item.Type }">
                <div class="clickable tab" data-ng-class="{ 'bus': 'bus', 'train': 'train', 'metro': 'metro', 'local': 'local', 'fer': 'fer', 'tram': 'tram' }[item.Type]" data-traffic-status-details data-target="{{item.Type}}" data-ng-click="trafficStatusTab(item.Type)" tabindex="0" role="button">
                    <span class="tab-group-icon-wrapper"><span class="tab-group-icon" data-ng-class="{ '{{item.Type}}': true }"></span>{{trafficTypeName(item.Type)}} <span class="status"><span data-ng-if="item.StatusIcon == 'EventGood'">(Inga st&#246;rre st&#246;rningar)</span><span data-ng-if="item.StatusIcon != 'EventGood'">(St&#246;rningar finns)</span></span></span><span class="tab-group-status-icon {{item.StatusIcon}}" data-ng-class="{ 'EventPlanned' : (item.StatusIcon == 'EventGood' && item.HasPlannedEvent) }"></span>
                </div>
                <div data-ng-cloak class="tab-list-group" data-ng-show="activeTab == '{{item.Type}}'">
                    <ul class="info-list" data-ng-if="item.Events.length == 0">
                        <li>
                            <span class="tab-group-status-icon EventGood"></span>                                                                  
                            <div class="tab-list-group-description">
                                Inga st&#246;rre st&#246;rningar
                            </div>
                        </li>
                    </ul>
                    <span class="deviation-mobile-name">{{trafficTypeName(item.Type)}}</span> 
                    <ul class="info-list">
                        <li data-ng-repeat="eventItem in item.Events">
                            <span class="tab-group-status-icon" data-ng-class="{ '{{eventItem.StatusIcon}}': true }"></span>                                                                  
                            <div class="tab-list-group-description">
                                <a data-ng-if="eventItem.EventInfoUrl != null && eventItem.EventInfoUrl != ''" data-ng-href="{{eventItem.EventInfoUrl}}">
                                    <strong>{{eventItem.TrafficLine}}:</strong>
                                    {{eventItem.Message}} <div style="margin-top: 5px;">L&#228;s mer &raquo;</div>
                                </a>  
                                <div data-ng-if="eventItem.EventInfoUrl == null || eventItem.EventInfoUrl == ''" data-ng-init="splitMessage(eventItem.TrafficLine == null || eventItem.TrafficLine == '', item.Type + '_' + $index, eventItem.Message)">
                                    <strong data-ng-if="eventItem.TrafficLine != null && eventItem.TrafficLine != ''">{{eventItem.TrafficLine}}:</strong>
                                    <strong data-ng-if="(eventItem.TrafficLine == null && eventItem.TrafficLine == '') || message[item.Type + '_' + $index].length > 0">{{message[item.Type  + '_' + $index][0]}}:</strong>
                                    <span data-ng-if="(eventItem.TrafficLine == null && eventItem.TrafficLine == '') || message[item.Type + '_' + $index].length > 0">{{message[item.Type  + '_' + $index][1]}}</span>
                                    <span data-ng-if="message[item.Type + '_' + $index].length == 0">{{eventItem.Message}}</span>
                                </div>
                            </div>
                            <div data-ng-if="eventItem.Deviations.length > 0" class="clickable tab-list-group-description">
                                <h3>
                                    <span class="clickable" data-ng-class="{ active: clickedArray['eventGroup_' + item.Type] == ($index + 1) }" data-ng-click="setClicked('eventGroup_' + item.Type, ($index + 1))" role="button" tabindex="0" aria-pressed="{{clickedArray['eventGroup_' + item.Type] == ($index + 1)}}">
                                        {{eventItem.Deviations.length}} {{deviationsText(eventItem.Deviations.length)}}
                                        <span class="expand-alt-icon"></span>
                                    </span>
                                </h3>
                            </div>

                            
                            <ul class="events" data-ng-show="clickedArray['eventGroup_' + item.Type] == ($index + 1)" aria-expanded="{{clickedArray['eventGroup_' + item.Type] == ($index + 1)}}">
                                <li data-ng-repeat="deviationItem in eventItem.Deviations">
                                    <div class="clickable event" data-ng-class="{ active: clickedArray['groupEventGroup_' + item.Type] == ($index + 1) }" data-ng-click="setClicked('groupEventGroup_' + item.Type, ($index + 1))" tabindex="0">
                                        <h4>
                                            <span data-ng-click="setClicked('groupEventGroup_' + item.Type, ($index + 1))" role="button" aria-pressed="{{clickedArray['groupEventGroup_' + item.Type] == ($index + 1)}}" data-eat-click>{{deviationItem.Scope}}</span>
                                        </h4>
                                        <p>{{deviationItem.Header}}</p>
                                        
                                        <i>G&#228;ller fr&#229;n: </i>
                                        <time>{{parseDate(deviationItem.FromDateTime)}}</time>, <time>{{parseTime(deviationItem.FromDateTime)}}</time>
                                        <div class="desc" data-ng-show="clickedArray['groupEventGroup_' + item.Type] == ($index + 1)" role="region" aria-expanded="{{clickedArray['groupEventGroup_' + item.Type] == ($index + 1)}}">
                                            <p data-ng-bind-html="deviationItem.Details"></p>
                                            <ul data-ng-if="deviationItem.Links.length > 0" class="link-list">
                                                <li data-ng-repeat="link in deviationItem.Links">
                                                    <a href="{{link.Url}}" class="block">{{link.Title}} &raquo;</a>
                                                </li>
                                            </ul>
                                        </div>
                                        <span class="trafic-icon" data-ng-class="{ '{{item.Type}}': true }"></span>
                                        <span class="expand-alt-icon"></span>
                                    </div>
                                </li>
                            </ul>
                        </li>
                    </ul>
                    <div data-ng-if="item.Type == 'bus'">

                        <div class="search-line search-field" data-ng-controller="searchLineInputField">
                            
                            <!-- Datepicker -->
                            <div class="departure-day-wrapper"> 
                                <div class="departure-day select-container"> 
                                    <span class="select-overlay">{{parseDateOption(time.day)}}<span class="dropdown-icon"></span></span>
                                    <select class="departure-time-value" data-ng-model="time.day" data-ng-options="item.value as item.name for item in dateChoices"></select>
                                </div>
                            </div>
                            <!-- End of Datepicker -->
                           
                            <div class="input-field-wrapper ">
                                <input type="text"  class="input-medium search-query" placeholder="{{placeholder}}" data-ng-model="traffic_situation.data.line.value" maxlength="{{formParams.textLimit}}" data-on-enter="performLineNumberSearch" />
                                <div class="close-icon" data-ng-click="data.line.value=''" data-ng-show="data.line.value.length>0"></div>
                            </div>
                            <a class="button-primary clickable" data-ng-class="{disabled: !searchIsValid()}" data-ng-click="performLineNumberSearch()" role="button" tabindex="0">{{search}}</a>
                        </div>
                        <span class="sl-loading" data-ng-show="isSearching" data-scroll-if="isSearching" data-ng-cloak> loading the results... </span>
                        <div class="no-results" data-ng-show="!item.CURRENT.length && !item.UPCOMMING.length">Det finns ingen st&#246;rning f&#246;r den s&#246;kta linjen.</div>
                        <div class="no-results" data-ng-show="lineNumberSearchResult.length==0 && !isSearching && !error && !invalid"></div>
                        <div class="no-results form-error" data-ng-show="!lineNumberSearchResult.length && !isSearching && error && !invalid"><p><span class="form-error-icon"></span>{{error}}</p></div>
                        <div class="no-results form-error error" data-ng-show="!isSearching && invalid && !error"><p><span class="form-error-icon"></span>{{invalid}}</p></div>
                        <ul class="events hide" data-ng-show="lineNumberSearchResult.length>0 && !isSearching && !invalid">
                            <li data-ng-repeat="event in lineNumberSearchResult">
                                <div class="clickable event" data-ng-class="{ active: clickedArray['searchGroup'] == $index }" data-ng-click="setClicked('searchGroup', $index)" tabindex="0">
                                    <h4>
                                        <span data-ng-click="setClicked('searchGroup', $index)" role="button" aria-pressed="{{clickedArray['searchGroup'] == $index}}" data-eat-click>{{event.Scope}}</span>
                                    </h4>
                                    <p>{{event.Header}}</p>
                                    
                                    <i>G&#228;ller fr&#229;n: </i>
                                    <time>{{parseDate(event.FromDateTime)}}</time>, <time>{{parseTime(event.FromDateTime)}}</time>
                                    <div class="desc" data-ng-show="clickedArray['searchGroup'] == $index" role="region" aria-expanded="{{clickedArray['searchGroup'] == $index}}">
                                        <p data-ng-bind-html="event.Details"></p>
                                        <ul data-ng-if="event.Links.length > 0" class="link-list">
                                            <li data-ng-repeat="link in event.Links">
                                                <a href="{{link.Url}}" class="block">{{link.Title}} &raquo;</a>
                                            </li>
                                        </ul>
                                    </div>
                                    <span class="trafic-icon" data-ng-class="{ '{{event.TrafficType}}': true }"></span>
                                    <span class="expand-alt-icon"></span>
                                </div>
                            </li>
                        </ul>
                    </div>
                    
                    <!-- Current events toggler -->

                    <div data-ng-if="item.CURRENT.length > 0" class="allEvents clickable-dropdown">
                        <h3 class="allEvents-label">
                            <span  class="clickable" data-ng-class="{ active: clickedArray['currentEvents_' + item.Type] == 1 }" data-ng-click="setClicked('currentEvents_' + item.Type, 1)" role="button" tabindex="0" aria-pressed="{{clickedArray['currentEvents_' + item.Type] == 1}}">
                                {{item.CURRENT.length}}
                                <span data-ng-if="item.Deviations.length == 1">Aktuell st&#246;rning</span>
                                <span data-ng-if="item.Deviations.length != 1">Aktuella st&#246;rningar</span>
                                <span class="expand-alt-icon"></span>
                            </span>
                        </h3>
                    </div>

                    <!-- End of current events toggler -->

                    <!-- list of current events -->

                    <ul class="events" data-ng-show="clickedArray['currentEvents_' + item.Type] == 1" aria-expanded="{{clickedArray['currentEvents_' + item.Type] == 1}}">
                        <li data-ng-repeat="deviationItem in item.CURRENT">
                            <div class="clickable event" data-ng-class="{ active: clickedArray['currentEventsDesc_' + item.Type] == $index }" data-ng-click="setClicked('currentEventsDesc_' + item.Type, $index)" tabindex="0">
                                <h4>
                                    <span data-ng-click="setClicked('currentEventsDesc_' + item.Type, $index)" role="button" aria-pressed="{{clickedArray['currentEventsDesc_' + item.Type] == $index}}" data-eat-click>{{deviationItem.Scope}}</span>
                                </h4>
                                <p>{{deviationItem.Header}}</p>
                                
                                <i>G&#228;ller fr&#229;n: </i>
                                <time>{{parseDate(deviationItem.FromDateTime)}}</time>, <time>{{parseTime(deviationItem.FromDateTime)}}</time>
                                <div class="desc" data-ng-show="clickedArray['currentEventsDesc_' + item.Type] == $index" role="region" aria-expanded="{{clickedArray['currentEventsDesc_' + item.Type] == $index}}">
                                    <p data-ng-bind-html="deviationItem.Details"></p>
                                    <ul data-ng-if="deviationItem.Links.length > 0" class="link-list">
                                        <li data-ng-repeat="link in deviationItem.Links">
                                            <a href="{{link.Url}}" class="block">{{link.Title}} &raquo;</a>
                                        </li>
                                    </ul>
                                </div>
                                <span class="trafic-icon" data-ng-class="{ '{{deviationItem.TrafficType}}': true }"></span>
                                <span class="expand-alt-icon"></span>
                            </div>
                        </li>   
                    </ul>

                    <!-- end of list of current events -->

                    <!-- Planned events toggler -->

                    <div data-ng-if="item.UPCOMMING.length > 0" class="allEvents clickable-dropdown">
                        <h3 class="allEvents-label">
                            <span  class="clickable" data-ng-class="{ active: clickedArray['plannedEvents_' + item.Type] == 1 }" data-ng-click="setClicked('plannedEvents_' + item.Type, 1)" role="button" tabindex="0" aria-pressed="{{clickedArray['plannedEvents_' + item.Type] == 1}}">
                                {{item.UPCOMMING.length}}
                                <span data-ng-if="item.Deviations.length == 1">Kommande st&#246;rning</span>
                                <span data-ng-if="item.Deviations.length != 1">Kommande st&#246;rningar</span>
                                <span class="expand-alt-icon"></span>
                            </span>
                        </h3>
                    </div>

                    <!-- end of planned events toggler -->
                    <!-- list of planned events -->

                    <ul class="events" data-ng-show="clickedArray['plannedEvents_' + item.Type] == 1" aria-expanded="{{clickedArray['plannedEvents_' + item.Type] == 1}}">
                        <li data-ng-repeat="deviationItem in item.UPCOMMING">
                            <div class="clickable event" data-ng-class="{ active: clickedArray['plannedEventsDesc_' + item.Type] == $index }" data-ng-click="setClicked('plannedEventsDesc_' + item.Type, $index)" tabindex="0">
                                <h4>
                                    <span data-ng-click="setClicked('plannedEventsDesc_' + item.Type, $index)" role="button" aria-pressed="{{clickedArray['plannedEventsDesc_' + item.Type] == $index}}" data-eat-click>{{deviationItem.Scope}}</span>
                                </h4>
                                <p>{{deviationItem.Header}}</p>
                                
                                <i>G&#228;ller fr&#229;n: </i>
                                <time>{{parseDate(deviationItem.FromDateTime)}}</time>, <time>{{parseTime(deviationItem.FromDateTime)}}</time>
                                <div class="desc" data-ng-show="clickedArray['plannedEventsDesc_' + item.Type] == $index" role="region" aria-expanded="{{clickedArray['plannedEventsDesc_' + item.Type] == $index}}">
                                    <p data-ng-bind-html="deviationItem.Details"></p>
                                    <ul data-ng-if="deviationItem.Links.length > 0" class="link-list">
                                        <li data-ng-repeat="link in deviationItem.Links">
                                            <a href="{{link.Url}}" class="block">{{link.Title}} &raquo;</a>
                                        </li>
                                    </ul>
                                </div>
                                <span class="trafic-icon" data-ng-class="{ '{{deviationItem.TrafficType}}': true }"></span>
                                <span class="expand-alt-icon"></span>
                            </div>
                        </li>   
                    </ul>

                    <!-- div data-ng-if="item.Deviations.length > 0" class="allEvents clickable-dropdown">
                        <h3 class="allEvents-label">
                            <span class="clickable" data-ng-class="{ active: clickedArray['allEvents_' + item.Type] == 1 }" data-ng-click="setClicked('allEvents_' + item.Type, 1)" role="button" tabindex="0" aria-pressed="{{clickedArray['allEvents_' + item.Type] == 1}}">
                                {{item.Deviations.length}} 
                                <span data-ng-if="item.Deviations.length == 1">st&#246;rning totalt</span>
                                <span data-ng-if="item.Deviations.length != 1">st&#246;rningar totalt</span>
                                <span class="expand-alt-icon"></span>
                            </span>   
                        </h3> 
                    </div
                    <ul class="events" data-ng-show="clickedArray['allEvents_' + item.Type] == 1" aria-expanded="{{clickedArray['allEvents_' + item.Type] == 1}}">
                        <li data-ng-repeat="deviationItem in item.Deviations">
                            <div class="clickable event" data-ng-class="{ active: clickedArray['allEventsDesc_' + item.Type] == $index }" data-ng-click="setClicked('allEventsDesc_' + item.Type, $index)" tabindex="0">
                                <h4>
                                    <span data-ng-click="setClicked('allEventsDesc_' + item.Type, $index)" role="button" aria-pressed="{{clickedArray['allEventsDesc_' + item.Type] == $index}}" data-eat-click>{{deviationItem.Scope}}</span>
                                </h4>
                                <p>{{deviationItem.Header}}</p>
                                <time>{{parseDate(deviationItem.FromDateTime)}}</time>, <time>{{parseTime(deviationItem.FromDateTime)}}</time>
                                <div class="desc" data-ng-show="clickedArray['allEventsDesc_' + item.Type] == $index" role="region" aria-expanded="{{clickedArray['allEventsDesc_' + item.Type] == $index}}">
                                    <p data-ng-bind-html="deviationItem.Details"></p>
                                </div>
                                <span class="trafic-icon" data-ng-class="{ '{{deviationItem.TrafficType}}': true }"></span>
                                <span class="expand-alt-icon"></span>
                            </div>
                        </li>   
                    </ul -->
                </div>
        </li>
    </ul>
</div>
    </div>
</section>

<div class="col-12">

    <aside class="search-col teasers" data-ng-hide="!map.locked">

        <div><div>
<div ng-controller="slapp.campaign">
    <div class="campaign" data-ng-show="active" data-ng-cloak>
        <article class="campaign-message has-img" style="background-image: url(/contentassets/33e887b7fe474e8f8bfce57e620cb8c9/kampanjyta-sl-wb-liten.jpg); background-size: cover; background-position: center;">
            <div class="campaign-content">
                <h3></h3>
                <p>
                    SL:s periodbiljetter f&#246;r 30, 90 och 365 dagar g&#228;ller f&#246;r resor p&#229; Waxholmsbolagets b&#229;tar fram till den 29 april. 
                </p>
                <div class="buttons">
                    <a href="#" data-ng-click="active = false">St&#228;ng</a>
                    <a href="https://sl.se/sv/info/kampanjsidor/waab-biljetter/">L&#228;s mer</a>
                </div>
            </div>
        </article>
    </div>
</div>
</div></div>



<section class="search row v2"  data-ng-controller="newTravelPlanner" data-ng-init="delay = 100">                   
    <div class="search-options tabs search-form-container search-field" data-scroll-if="isViewLoading.newSearchResults" data-no-scroll-animation data-no-desktop-scroll>
        <h2 class="tab-item travelplanner-tab-item" id="TravelplannerTab" data-ng-class="{active: stateService.getShowSearchTo()}" data-scroll-if="focusOnTravelplannerTab" data-no-scroll-animation data-no-desktop-scroll>
            <span class="clickable" data-ng-click="stateService.setShowSearchTo(true); updateState();" tabindex="0" data-focus-on="focusOnTravelplannerTab" role="button" aria-pressed="{{stateService.getShowSearchTo() == true}}">S&#246;k resa</span>
            <span class="tab-arrow"></span>
        </h2>
        <div class="form" id="Travelplanner" data-ng-show="stateService.getShowSearchTo()" data-ng-cloak role="region" aria-expanded="{{stateService.getShowSearchTo() == true}}" data-overlay="isViewLoading.newSearchResults" data-overlay-delay="300">
            <div class="searchFromToWrapper">
                <div data-ng-controller="inputField">
                    <div class="input-field-wrapper v2 " data-scroll-if="scrollToSearchField" data-no-desktop-scroll>
                        <label for="travelplanner_from">Fr&#229;n station/h&#229;llplats/adress</label>
                        <input type="text" id="travelplanner_from"  data-input-field="from" data-select-on-click data-newtypeahead data-ng-model="model.from.value" placeholder="Fr&#229;n station/h&#229;llplats/adress" class="input-medium search-query" maxlength="{{formParams.textLimit}}" aria-haspopup="true" autocomplete="off"/>
                        <div data-ng-class="{'sl-loading-mini': isTypeAheadLoading == true, 'close-icon': isTypeAheadLoading == false}" data-ng-click="resetField()" data-ng-show="model.from.value.length>0"></div>
                    </div>
                   
                    <div class="search-dropdown-menu v2" data-ng-cloak data-ng-show="showDropdown('from') || (!hasGeoLocation && destination.length == 0 && states.typeahead == 'latestsearch' && model.from.value.length >= charlimit)">
                        <ul data-ng-show="destination.length == 0 && states.typeahead == 'latestsearch' && model.from.value.length >= charlimit" class="no-results-container">
                            <li> 
                                <span class="sl-emphasized">F&#246;rslag p&#229; resm&#229;l saknas</span>
                            </li>
                        </ul>
                        <ul data-ng-show="destination.Error" class="no-results-container">
                            <li> 
                                <span class="sl-emphasized">{{destination.Error}}</span>
                            </li>
                        </ul>
                        <ul data-ng-show="(destination.length>0 || states.typeahead == 'latestsearch') && !destination.Error">
                            <li data-ng-show="states.typeahead == 'latestsearch'" data-ng-if="hasGeoLocation && !(destination.length == 0 && states.typeahead == 'latestsearch' && model.from.value.length >= charlimit) && !destination.Error" data-ng-click="getPosition('from')" data-ng-controller="newGeoLocation" data-ng-repeat="item in geolocation" class="geo-location-container" data-ng-class="{active: activeRow == $index && activeList == 'geolocation'}">
                                <span class="trafic-icon geo-location"></span>
                                <span class="sl-emphasized">{{item.Name}}</span>
                            </li>

                            <!-- Latest: Just a name, when user clicks on the name it will be chosen. -->
                            <li data-ng-repeat="latest in latest_searched_travel_items.combined" data-ng-show="states.typeahead == 'latestsearch' && latest_searched_travel_items.combined.length > 0"  data-ng-class="{active: activeRow == $index && activeList == 'destination'}" data-ng-click="updateInput(latest, 'click')" data-ng-mousedown="mouseDownHandler(latest)" data-typeahead-choice >
                                <div class="two-col-rel-one">
                                    <span class="two-col-rel-left">
                                        <span class="two-col-abs-left trafic-icon" data-ng-class="{address: latest.SiteId == 0, stationIcon: latest.Type == 'station'}"></span> 
                                        {{latest.Name}}
                                    </span>
                                </div>
                            </li>
                            <!-- End:Latest -->

                            <li data-ng-repeat="choice in destination" data-ng-show="states.typeahead != 'latestsearch'" data-ng-class="{active: activeRow == $index && activeList == 'destination'}" data-ng-click="updateInput(choice, 'click')" data-ng-mousedown="mouseDownHandler(choice)" data-typeahead-choice>
                                <div class="two-col-rel-one" data-ng-if="choice.Type == 'Realtime'">
                                    <span class="two-col-rel-left">
                                        <span class="two-col-abs-left trafic-icon stationIcon"></span> 
                                        <span class="sl-emphasized">{{choice.FromName}}</span>
                                    </span>
                                </div>
                                <div class="two-col-rel-one" data-ng-if="choice.Type == 'Travelplanner'">
                                    <span class="two-col-rel-left sl-emphasized">
                                        <span class="two-col-abs-left trafic-icon travelIcon"></span> 
                                        {{choice.FromName}}
                                    </span>
                                </div>
                                <div class="two-col-rel-one" data-ng-if="choice.Type != 'Realtime' && choice.Type != 'Travelplanner' && states.typeahead != 'geolocation'">
                                    <span class="two-col-rel-left">
                                        <span class="two-col-abs-left trafic-icon" data-ng-class="{address: choice.SiteId == 0, stationIcon: choice.Type == 'station'}" data-id="{{choice.SiteId}}"></span>
                                        {{choice.Name}}
                                    </span>
                                </div>  
                            </li>
                        </ul>
                    </div>
                </div>
                <div data-ng-controller="inputField">
                    <div class="input-field-wrapper v2 ">
                        <label for="travelplanner_to">Till station/h&#229;llplats/adress</label>
                        <input type="text" id="travelplanner_to"  data-input-field="to" data-select-on-click data-newtypeahead data-ng-model="model.to.value" data-trigger-click-on="focusOnToInput && model.from.value" placeholder="Till station/h&#229;llplats/adress" accesskey="t" class="input-medium search-query" maxlength="{{formParams.textLimit}}" aria-haspopup="true" autocomplete="off">
                        <div data-ng-class="{'sl-loading-mini': isTypeAheadLoading == true, 'close-icon': isTypeAheadLoading == false}"  data-ng-click="resetField()" data-ng-show="model.to.value.length>0"></div>
                    </div>
                    <div class="search-dropdown-menu v2" data-ng-cloak data-ng-show="showDropdown('to') || (!hasGeoLocation && destination.length == 0 && states.typeahead == 'latestsearch' && model.to.value.length >= charlimit)">
                        <ul data-ng-show="destination.length == 0 && states.typeahead == 'latestsearch' && model.to.value.length >= charlimit" class="no-results-container">
                            <li> 
                                <span class="sl-emphasized">F&#246;rslag p&#229; resm&#229;l saknas</span>
                            </li>
                        </ul>
                        <ul data-ng-show="destination.Error" class="no-results-container">
                            <li> 
                                <span class="sl-emphasized">{{destination.Error}}</span>
                            </li>
                        </ul>
                        <ul data-ng-show="(destination.length>0 || states.typeahead == 'latestsearch') && !destination.Error">
                            <li data-ng-show="states.typeahead == 'latestsearch'" data-ng-if="hasGeoLocation && !(destination.length == 0 && states.typeahead == 'latestsearch' && model.to.value.length >= charlimit) && !destination.Error" data-ng-click="getPosition('to')" data-ng-controller="newGeoLocation" data-ng-repeat="item in geolocation" class="geo-location-container" data-ng-class="{active: activeRow == $index && activeList == 'geolocation'}">
                                <span class="trafic-icon geo-location"></span>
                                <span class="sl-emphasized">{{item.Name}}</span>
                            </li>
                            
                            <!-- Latest: Just a name, when user clicks on the name it will be chosen. -->
                            <li data-ng-repeat="latest in latest_searched_travel_items.combined" data-ng-click="updateInput(latest, 'click')" data-ng-class="{active: activeRow == $index && activeList == 'destination'}" data-ng-mousedown="mouseDownHandler(latest)" data-typeahead-choice data-ng-show="states.typeahead == 'latestsearch' && latest_searched_travel_items.combined.length > 0">
                                <div class="two-col-rel-one">
                                    <span class="two-col-rel-left">
                                        <span class="two-col-abs-left trafic-icon" data-ng-class="{address: latest.SiteId == 0, stationIcon: latest.Type == 'station'}"></span> 
                                        {{latest.Name}}
                                    </span>
                                </div>
                            </li>
                            <!-- End:Latest -->

                            <li data-ng-repeat="choice in destination" data-ng-show="states.typeahead != 'latestsearch'" data-ng-class="{active: activeRow == $index && activeList == 'destination'}" data-ng-click="updateInput(choice, 'click')" data-ng-mousedown="mouseDownHandler(choice)" data-typeahead-choice>
                                <div class="two-col-rel-one" data-ng-if="choice.Type == 'Realtime'">
                                    <span class="two-col-rel-left">
                                        <span class="two-col-abs-left trafic-icon stationIcon"></span> 
                                        <span class="sl-emphasized">{{choice.FromName}}</span>
                                    </span>
                                </div>
                                <div class="two-col-rel-one" data-ng-if="choice.Type == 'Travelplanner'">
                                    <span class="two-col-rel-left sl-emphasized">
                                        <span class="two-col-abs-left trafic-icon travelIcon"></span> 
                                        {{choice.ToName}}
                                    </span>
                                </div>
                                <div class="two-col-rel-one" data-ng-if="choice.Type != 'Realtime' && choice.Type != 'Travelplanner' && states.typeahead != 'geolocation'">
                                    <span class="two-col-rel-left">
                                        <span class="two-col-abs-left trafic-icon" data-ng-class="{address: choice.SiteId == 0, stationIcon: choice.Type == 'station'}" data-id="{{choice.SiteId}}"></span>
                                        {{choice.Name}}
                                    </span>
                                </div> 
                            </li>
                        </ul>
                    </div>
                </div>
                <span class="switch-directions-icon clickable" data-ng-click="switchDirections()" data-focus-on="focusOnSwitchDirections && model.to.value" role="button" tabindex="0">Byt riktning</span> 
            </div>

<div class="search-time-selection" data-ng-controller="newDepartureTimeSearch">
	
	<div class="clickable search-select-time select-container">
		<span class="select-overlay" tabindex="0">
												<span data-ng-if="departTypeChoices" data-ng-cloak>{{departTypeChoices[model.advancedParams.time.direction - 1].name}}</span>
												<span data-ng-if="!departTypeChoices">Jag vill &#229;ka nu</span>
												<span class="dropdown-icon"></span>
								</span>
		<select data-ng-model="model.advancedParams.time.direction" data-ng-options="item.value as item.name for item in departTypeChoices" tabindex="-1"></select>
	</div>
	<div class="search-time-wrapper" data-ng-show="model.advancedParams.time.direction > 1" data-ng-cloak>
		<div class="departure-day-wrapper">
			<div class="departure-day select-container">
				<span class="select-overlay" tabindex="0">{{parseDate(model.advancedParams.time.day)}}<span class="dropdown-icon"></span></span>
				<select class="departure-time-value" data-ng-model="model.advancedParams.time.day" data-ng-change="checkIfTimeHasPassed()" data-ng-options="item.value as item.name for item in dateChoices" tabindex="-1"></select>
			</div>
		</div>
		<div class="search-time-right">
			<div class="departure-hour select-container">
				<span class="select-overlay" tabindex="0">{{model.advancedParams.time.hour}}<span class="dropdown-icon"></span></span>
				<select class="departure-time-value" data-ng-model="model.advancedParams.time.hour" data-ng-change="checkIfTimeHasPassed()" data-ng-options="item.value as item.name for item in hourChoices" tabindex="-1"></select>
			</div>
			<div class="departure-minute select-container">
				<span class="select-overlay" tabindex="0">{{model.advancedParams.time.minute}}<span class="dropdown-icon"></span></span>
				<select class="departure-time-value" data-ng-model="model.advancedParams.time.minute" data-ng-change="checkIfTimeHasPassed()" data-ng-options="item.value as item.name for item in minChoices" tabindex="-1"></select>
			</div>
		</div>
	</div>
	<span class="warning" data-ng-if="timeHasPassed && model.advancedParams.time.direction > 1" data-ng-cloak>! Observera att tiden som &#228;r vald redan har passerat</span>
</div>

            <span class="button-secondary advanced-button result-info clickable searchButton" data-ng-click="advancedParamsToggler();" role="button" tabindex="0" aria-pressed="{{model.advancedParams.isVisible == true}}">
                <span data-ng-cloak data-ng-if="advancedButton()">{{ advancedButton() }}</span>
                <span data-ng-if="!advancedButton()">Fler val</span>
                <span class="downIcon" data-ng-class="{true: 'upIcon', false: 'downIcon'}[model.advancedParams.isVisible == true]"></span>
            </span>

<div id="searchAdvancedParams" class="search-advanced-params" data-ng-cloak data-ng-show="model.advancedParams.isVisible" role="region" aria-expanded="{{model.advancedParams.isVisible == true}}">
    
    <div class="advanced-search-filter" data-ng-controller="newViaStation">
        <div class="clickable param clickable-dropdown" data-ng-class="{ active: display.viaStation }" data-target="viaStation" data-toggler role="button" tabindex="0" aria-pressed="{{display.viaStation == true}}">
            Via h&#229;llplats
            <span class="filterState">{{ isChanged() ? '&#196;ndrad' : 'Ingen &#228;ndring' }}</span>
            <span class="expand-alt-icon"></span>
        </div>
        <div class="advanced-search-details search-field" data-ng-show="display.viaStation" role="region" aria-expanded="{{display.viaStation == true}}">
            <div data-ng-controller="inputField">
                <div class="input-field-wrapper">
                    <label for="viastation">{{placeholder}}</label>
                    <input type="text" id="viastation" data-input-field="advancedParams.viaStation.data" data-select-on-click data-onlystations="true" data-nolatestsearch="true" data-newtypeahead data-ng-model="model.advancedParams.viaStation.data.value" placeholder="{{placeholder}}" class="input-medium search-query" maxlength="{{formParams.textLimit}}" tabindex="0" aria-haspopup="true">
                    <div data-ng-class="{'sl-loading-mini': isTypeAheadLoading == true, 'close-icon': isTypeAheadLoading == false}" data-ng-click="resetField()" data-ng-show="model.advancedParams.viaStation.data.value.length>0"></div>
                </div>
                <div class="search-dropdown-menu v1" data-ng-show="(destination.length>0 && states.typeahead != 'latestsearch') || destination.Error">
                    <ul data-ng-show="destination.Error" class="no-results-container">
                        <li> 
                            <span class="sl-emphasized">{{destination.Error}}</span>
                        </li>
                    </ul>
                    <ul data-ng-show="!destination.Error">
                        <li data-ng-repeat="choice in destination" data-ng-class="{active: activeRow == $index}" data-ng-click="updateInput(choice)">
                            <div class="two-col-rel-one">
                                <span class="two-col-rel-left">
                                    <span class="two-col-abs-left trafic-icon" data-ng-class="{address: choice.SiteId == 0, stationIcon: choice.Type == 'station'}" data-id="{{choice.SiteId}}"></span>
                                    {{choice.Name}}
                                </span>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    
    
    <div class="advanced-search-filter sl-gray" data-ng-controller="newTransportationTypeChoice">
        <div class="clickable param clickable-dropdown" data-ng-class="{ active: display.transportationTypes }" data-target="transportationTypes" data-toggler role="button" tabindex="0" aria-pressed="{{display.transportationTypes == true}}">
            F&#228;rdmedel
            <span class="filterState">{{ isChanged() ? '&#196;ndrad' : 'Ingen &#228;ndring' }}</span>         
            <span class="expand-alt-icon"></span>
        </div>
        <fieldset data-ng-show="display.transportationTypes" aria-expanded="{{display.transportationTypes == true}}">
            <legend>V&#228;lj F&#228;rdmedel</legend>
            <div class="advanced-search-details" data-ng-repeat="transportType in model.advancedParams.transportationTypes.data">                         
                <input type="checkbox" id="advanced-search-transport-type-{{$index}}" data-ng-value="transportType.name" data-ng-checked="transportType.checked" data-ng-model="transportType.checked" tabindex="0" />  
                <label for="advanced-search-transport-type-{{$index}}" class="checkbox-label clickable" data-ng-class="{ active: transportType.checked }">
                    <span class="details-label" data-ng-class="{ '{{transportType.icon}}': true }"></span>
                    
                    {{transportType.name}}
                    <span class="checkbox-icon"></span>
                </label>
            </div>
        </fieldset>
    </div>
    
    
    <div class="advanced-search-filter" data-ng-controller="newLineChoice">
        <div class="clickable param clickable-dropdown" data-ng-class="{ active: display.lineChoice }" data-target="lineChoice" data-toggler role="button" tabindex="0" aria-pressed="{{display.lineChoice == true}}">
            Linje
            <span class="filterState">{{ isChanged() ? '&#196;ndrad' : 'Ingen &#228;ndring' }}</span>
            <span class="expand-alt-icon"></span>
        </div>
        <fieldset class="advanced-search-details" data-ng-show="display.lineChoice" data-ng-form="lineChoiceForm" aria-expanded="{{display.lineChoice == true}}">
            <legend>V&#228;lj Linje</legend>
            <div data-ng-repeat="lineChoice in model.advancedParams.lineChoice.data">
                <input class="search-filter-forms" type="radio" id="advanced-search-line-{{$index}}" name="lineChoice" data-ng-value="lineChoice.id" data-ng-model="model.advancedParams.lineChoice.lineSelected" tabindex="0" />
                <label for="advanced-search-line-{{$index}}" class="radio-button-label clickable" data-ng-class="{ active: model.advancedParams.lineChoice.lineSelected == lineChoice.id }">{{lineChoice.name}}<span class="radio-button-icon"></span></label>                       
            </div>
            <div class="input-field-wrapper search-filter-forms nopadding">
                <label for="linechoice">{{placeholder}}</label>
                <input type="text" id="linechoice" placeholder="{{placeholder}}" data-ng-model="model.advancedParams.lineChoice.lineChoiceText" data-ng-disabled="model.advancedParams.lineChoice.lineSelected == 0" required maxlength="{{formParams.textLimit}}" tabindex="0" />
            </div>
        </fieldset>
    </div>
    
    
    <div class="advanced-search-filter sl-gray" data-ng-controller="newWalkway">
        <div class="clickable param clickable-dropdown" data-ng-class="{ active: display.walkway }" data-target="walkway" data-toggler role="button" tabindex="0" aria-pressed="{{display.walkway == true}}">
            G&#229;ngv&#228;g
            <span class="filterState">{{ isChanged() ? '&#196;ndrad' : 'Ingen &#228;ndring' }}</span>
            <span class="expand-alt-icon"></span>
        </div>
        <div class="advanced-search-details" data-ng-show="display.walkway" role="region" aria-expanded="{{display.walkway == true}}">
            <div class="select-container">
                <span class="select-overlay" tabindex="0">{{parseWalkway(model.advancedParams.walkway.selected)}}<span class="dropdown-icon"></span></span>
                <select data-ng-model="model.advancedParams.walkway.selected" data-ng-options="item.value as item.name for item in model.advancedParams.walkway.choices" tabindex="-1"></select>
            </div>
								</div>
    </div>
    
    
    <div class="advanced-search-filter" data-ng-controller="newTransportationChanges">
        <div class="clickable param clickable-dropdown" data-ng-class="{ active: display.transportationChanges }" data-target="transportationChanges" data-toggler role="button" tabindex="0" aria-pressed="{{display.transportationChanges == true}}">
            Byten
            <span class="filterState">{{ isChanged() ? '&#196;ndrad' : 'Ingen &#228;ndring' }}</span>
            <span class="expand-alt-icon"></span>
        </div>
        <div class="advanced-search-details" data-ng-show="display.transportationChanges" role="region" aria-expanded="{{display.transportationChanges == true}}">
            <div class="select-container">
                <span class="select-overlay" tabindex="0">{{model.advancedParams.transportationChanges.data.changeValues[model.advancedParams.transportationChanges.change + 1].name}}<span class="dropdown-icon"></span></span>
                <select data-ng-model="model.advancedParams.transportationChanges.change" data-ng-options="item.value as item.name for item in model.advancedParams.transportationChanges.data.changeValues" tabindex="-1"></select>
            </div>            
            <div data-ng-repeat="extraTimeEnabling in model.advancedParams.transportationChanges.data.extraTimeEnablingValues">
                <input name="advanced-search-extratime" class="search-filter-forms" type="radio" id="advanced-search-extratime-{{$index}}" data-ng-value="extraTimeEnabling.id" data-ng-model="model.advancedParams.transportationChanges.extraTimeEnabling" tabindex="0" />
                <label for="advanced-search-extratime-{{$index}}" id="label_extratime" class="radio-button-label clickable" data-ng-class="{ active: model.advancedParams.transportationChanges.extraTimeEnabling == extraTimeEnabling.id }">{{extraTimeEnabling.name}}<span class="radio-button-icon"></span></label>                          
            </div>
            <div class="select-container">
                <span class="select-overlay" tabindex="0">{{parseExtraTime(model.advancedParams.transportationChanges.extraTime)}}<span class="dropdown-icon"></span></span>
                <select data-ng-model="model.advancedParams.transportationChanges.extraTime" data-ng-options="item.value as item.name for item in model.advancedParams.transportationChanges.data.extraTimeValues" tabindex="-1" aria-labelledby="label_extratime"></select>
            </div>                
        </div>                     
    </div>
    
</div>

  
            <div class="button-group-left reset-btn-width">
                <span class="button-secondary clickable" data-ng-click="reset();" role="button" tabindex="0">B&#246;rja om</span>
            </div>
            <div class="button-group-right search-btn-rest-width">
                <span class="button-primary clickable searchButton disabled" data-ng-class="{disabled: !searchIsValid()}" data-ng-click="performSearch();" role="button" tabindex="0" aria-disabled="{{!searchIsValid()}}">S&#246;k</span>
            </div>
            <div class="overlay" data-ng-if="isViewLoading.newSearchResults" data-focus-on="isViewLoading.newSearchResults" tabindex="-1" data-ng-cloak>
                <span class="sl-loading" data-ng-if="isViewLoading.newSearchResults">Laddar s&#246;kresultat...</span>
            </div>
        </div> 
        <h2 class="tab-item realtime-tab-item" id="RealtimeTab" data-ng-class="{active: !stateService.getShowSearchTo()}" data-scroll-if="isViewLoading.newRealTimeSearchResults" data-no-scroll-animation data-no-desktop-scroll>
            <span class="clickable" tabindex="0" role="button" data-ng-click="stateService.setShowSearchTo(false); updateState();" aria-pressed="{{!stateService.getShowSearchTo()}}" data-scroll-if="focusOnSearchButton" data-no-scroll-animation data-no-desktop-scroll>N&#228;sta avg&#229;ng</span>
            <span class="tab-arrow"></span>
        </h2>
        
        <div class="form" id="Realtime" data-ng-hide="stateService.getShowSearchTo()" role="region" aria-expanded="{{!stateService.getShowSearchTo()}}" data-overlay="isViewLoading.newRealTimeSearchResults" data-overlay-delay="300">
            <div data-ng-controller="inputField">
            
                <div class="input-field-wrapper v2 " data-scroll-if="scrollToSearchField" data-no-desktop-scroll>
                    <label for="realtime_search">Fr&#229;n station/h&#229;llplats/adress</label>
                    <input type="text" id="realtime_search"  data-allowgeolookup="true" data-input-field="from" data-select-on-click data-newtypeahead data-ng-model="model.from.value" placeholder="Fr&#229;n station/h&#229;llplats/adress" class="input-medium search-query" maxlength="{{formParams.textLimit}}" aria-haspopup="true" autocomplete="off"/>
                    <div data-ng-cloak data-ng-class="{'sl-loading-mini': isTypeAheadLoading == true, 'close-icon': isTypeAheadLoading == false}" data-ng-click="resetField()" data-ng-show="model.from.value.length>0"></div>
                </div>
                <div data-ng-cloak class="search-dropdown-menu v2" data-ng-show="showDropdown('from') || (!hasGeoLocation && destination.length == 0 && states.typeahead == 'latestsearch' && model.from.value.length >= charlimit)">
                    <ul data-ng-show="destination.length == 0 && states.typeahead == 'latestsearch' && model.from.value.length >= charlimit" class="no-results-container">
                        <li> 
                            <span class="sl-emphasized">F&#246;rslag p&#229; resm&#229;l saknas</span>
                        </li>
                    </ul>
                    <ul data-ng-show="destination.Error" class="no-results-container">
                        <li> 
                            <span class="sl-emphasized">{{destination.Error}}</span>
                        </li>
                    </ul>
                  
                    <ul data-ng-show="(destination.length>0 || states.typeahead == 'latestsearch') && !destination.Error">
                        <li data-ng-show="states.typeahead == 'latestsearch'" data-ng-if="hasGeoLocation && !(destination.length == 0 && states.typeahead == 'latestsearch' && model.from.value.length >= charlimit) && !destination.Error" data-ng-click="getPosition('from')" data-ng-controller="newGeoLocation" data-ng-repeat="item in geolocation" class="geo-location-container" data-ng-class="{active: activeRow == $index && activeList == 'geolocation'}">
                            <span class="trafic-icon geo-location"></span>
                            <span class="sl-emphasized">{{item.Name}}</span>
                        </li>
                        <li data-ng-repeat="choice in destination" data-ng-class="{active: activeRow == $index && activeList == 'destination'}" data-ng-click="updateInput(choice, 'click')" data-ng-mousedown="mouseDownHandler(choice)" data-typeahead-choice>
                            <div class="two-col-rel-one" data-ng-if="choice.Type == 'Realtime'">
                                <span class="two-col-rel-left">
                                    <span class="two-col-abs-left trafic-icon stationIcon"></span> 
                                    <span class="sl-emphasized">{{choice.FromName}}</span>
                                </span>
                            </div>
                            <div class="two-col-rel-one" data-ng-if="choice.Type == 'Travelplanner'">
                                <span class="two-col-rel-left sl-emphasized">
                                    <span class="two-col-abs-left trafic-icon travelIcon"></span> 
                                    {{choice.FromName}} &raquo; {{choice.ToName}}
                                </span>
                            </div>
                            <div class="two-col-rel-one" data-ng-if="choice.Type != 'Realtime' && choice.Type != 'Travelplanner' && states.typeahead != 'geolocation'">
                                <span class="two-col-rel-left">
                                    <span class="two-col-abs-left trafic-icon" data-ng-class="{address: choice.SiteId == 0, stationIcon: choice.Type == 'station'}" data-id="{{choice.SiteId}}"></span>
                                    {{choice.Name}}
                                </span>
                            </div>
                            <div class="my-location-stations icons-{{choice.TrafficTypeList.length}}" data-ng-if="states.typeahead == 'geolocation'">
                                <span class="two-col-abs-left trafic-icon stationIcon" data-id="{{choice.SiteId}}"></span>
                                {{choice.Name}} ({{choice.Distance}}m)   
                                <div class="icons">
                                    <span class="trafic-icon {{icon}}" data-ng-repeat="icon in choice.TrafficTypeList"></span>
                                    <span>&raquo;</span>
                                </div>
                            </div>   
                        </li>
                    </ul>
                </div>
                <div class="button-group-left" data-ng-cloak>
                    <span class="button-secondary clickable showOnMap hide-desktop" data-ng-show="states.typeahead == 'geolocation'" data-ng-click="toggleMap()" role="button" tabindex="0">Visa p&#229; kartan</span>
                </div>
            </div>        
            <div class="button-group-right" id="NextDepartureButton" style="width: 50%" data-ng-cloak>
                <span class="button-primary clickable searchButton disabled" style="display:block" data-ng-class="{disabled: !realTimeSearchIsValid() && !isGeoLookup()}" data-ng-click="performRealtimeSearch()" data-focus-on="focusOnSearchButton" role="button" tabindex="0" aria-disabled="{{!realTimeSearchIsValid() && !isGeoLookup()}}">N&#228;sta avg&#229;ng</span>
            </div>
            <div class="overlay" data-ng-if="isViewLoading.newRealTimeSearchResults" data-focus-on="isViewLoading.newRealTimeSearchResults" tabindex="-1" data-ng-cloak>
                <span class="sl-loading" data-ng-if="isViewLoading.newRealTimeSearchResults">Laddar s&#246;kresultat...</span>
            </div>
        </div>
    </div>
</section>




				<div data-ng-controller="newSearchResults" data-ng-show="stateService.getShowSearchTo()" data-ng-cloak data-scroll-if="travelResult.Trips.length>0" data-no-desktop-scroll>
								<section class="search-results middle-col row" data-ng-if="travelResult.Error != null">
												<h1 class="search-title">
																<span data-ng-if="travelResult.From == 'Använd min plats' || travelResult.From == 'Use my location'">Min plats</span>
																<span data-ng-if="travelResult.From != 'Använd min plats' && travelResult.From != 'Use my location'">{{travelResult.From}}</span>
																<span data-ng-if="travelResult.From && travelResult.From != ''">&raquo;</span>
																<span data-ng-if="travelResult.To == 'Använd min plats' || travelResult.To == 'Use my location'">Min plats</span>
																<span data-ng-if="travelResult.To != 'Använd min plats' && travelResult.To != 'Use my location'">{{travelResult.To}}</span>
												</h1>
												<div class="error-messages">
																<div class="error-item">
																				<span class="error-icon"></span>
																				{{travelResult.Error.Message}}
																				<br />
																				<small>Felkod: {{travelResult.Error.Code}}</small>
																</div>
												</div>
								</section>
								<section id="searchResults" class="search-results-wrapper row" data-ng-show="travelResult.Trips.length>0" data-focus-on="travelResult.Trips.length>0" tabindex="-1">
												<div class="search-results middle-col">
																<div class="search-result-pagination earlier" data-scroll-if="isViewLoading.earlierTrips" data-no-desktop-scroll>
																				<a class="clickable" data-ng-click="findLaterOrEarlierTrips()" data-eat-click role="button" tabindex="0">
																								<span data-ng-class="{ true: 'sl-loading-mini', false: 'arrow-up-icon' }[isViewLoading.earlierTrips]">Tidigare avg&#229;ngar</span>
																				</a>
																</div>
																<h1 class="search-title">
																				<span class="sl-favourite clickable" data-ng-class="{'active': currentSearchObject.active == true}" data-ng-click="slFav.active=!slFav.active; saveToFav()" role="button" tabindex="0"><span data-ng-if="currentSearchObject.active == true">Ta bort favorit</span><span data-ng-if="!currentSearchObject.active">Spara som favorit</span></span>

																				<span class="from" data-ng-if="travelResult.From == 'Använd min plats' || travelResult.From == 'Use my location'">Min plats</span>
																				<span class="from" data-ng-if="travelResult.From != 'Använd min plats' && travelResult.From != 'Use my location'">{{travelResult.From}}</span>
																				<span data-ng-if="travelResult.From && travelResult.From != ''">&raquo;</span>
																				<span class="to" data-ng-if="travelResult.To == 'Använd min plats' || travelResult.To == 'Use my location'">Min plats</span>
																				<span class="to" data-ng-if="travelResult.To != 'Använd min plats' && travelResult.To != 'Use my location'">{{travelResult.To}}</span>
																				<span class=" clickable" data-ng-class="{ 'active': coverageModel.trip_exists({ 'From': travelResult.From, 'To': travelResult.To }) }" data-ng-click="coverageModel.add({ 'From': travelResult.From, 'To': travelResult.To })"></span>
																				<span class="print-icon clickable" data-print-target=".search-results" role="button" tabindex="0">Skriv ut</span>
																</h1>

																<!-- Ny bevakning av resa -->
																<div class="modal coverage" data-ng-show="coverageModel.isAdding">

																				<div class="form-item select-container">
																								<span class="select-overlay" tabindex="0">
																												<span>{{coverageModel.beforeAdd.model.departTypeChoices[coverageModel.beforeAdd.model.time.direction].name}}</span>
																												<span class="dropdown-icon"></span>
																								</span>
																								<select data-ng-model="coverageModel.beforeAdd.model.time.direction" data-ng-options="item.value as item.name for item in coverageModel.beforeAdd.model.departTypeChoices" tabindex="-1"></select>
																				</div>

																				<div class="form-item time-period">

																								<div class="input-field first">
																												<label for="from_time">Från tid</label>
																												<input type="time" name="from_time" id="from_time" data-ng-model="coverageModel.beforeAdd.model.time.from_time" placeholder="Från tid" min="00:00:00" max="23:59:59" />
																												<div data-ng-class="{'sl-loading-mini': isTypeAheadLoading == true, 'close-icon': isTypeAheadLoading == false}" data-ng-click="resetField()" data-ng-show="coverageModel.beforeAdd.model.time.hour.length>0" class="close-icon"></div>
																								</div>

																								<div class="input-field">
																												<label for="to_time">Till tid</label>
																												<input type="time" name="to_time" id="to_time" data-ng-model="coverageModel.beforeAdd.model.time.to_time" placeholder="Till tid" min="00:00:00" max="23:59:59" />
																												<div data-ng-class="{'sl-loading-mini': isTypeAheadLoading == true, 'close-icon': isTypeAheadLoading == false}" data-ng-click="resetField()" data-ng-show="coverageModel.beforeAdd.model.time.minutes.length>0" class="close-icon"></div>
																								</div>

																				</div>

																				<div class="form-item checkbox-group">
																								<div data-ng-repeat="day in coverageModel.beforeAdd.model.time.days">
																												<input type="checkbox" name="{{day.name}}" value="{{day.name}}" id="{{day.id}}" data-ng-model="day.selected" />
																												<label for="{{day.id}}" class="checkbox-label clickable" data-ng-class="{ 'active': day.selected }">
																																{{day.short}}
																																<span class="checkbox-icon"></span>
																												</label>
																								</div>
																				</div>

																				<div class="button-group-right">
																								<span class="button-secondary clickable" role="button" data-ng-click="coverageModel.beforeAdd._cancel()" tabindex="0">Avbryt</span>
																								<span class="button-primary clickable" role="button" tabindex="0" data-ng-click="coverageModel.beforeAdd._save()">Spara</span>
																				</div>

																</div>

																<!-- Search update -->

																<h2 class="search-update">
																				<span>Uppdaterad: {{travelResult.LastUpdate}}</span>
																				<span class="update-search clickable" data-ng-click="updateSearch()" role="button" tabindex="0"><span class="update-icon">Uppdatera s&#246;kresultat</span></span>
																</h2>
																<!-- Resrobot -->
																<h2 class="search-update">
																				<a href="{{travelResult.ResrobotUrl}}" target="_blank" style="color: #ffffff;">S&#246;k med fler resebolag &raquo;</a>
																</h2>



																<!-- Invalid trips-->
																<div class="showInvalidTrips checkbox-container hide-print" data-ng-if="invalidTrips > 0 && limit > 1">
																				<input type="checkbox" name="showInvalidTrips" id="showInvalidTrips" />
																				<label for="showInvalidTrips" class="clickable checkbox-label" data-ng-class="{ 'active': travelResult.showInvalidTrips }" data-ng-click="toggleInvalidTrips()">
																								Visa inst&#228;llda / f&#246;r kort bytestid ({{invalidTrips}}st)
																								<span class="checkbox-icon"></span>
																				</label>
																</div>

																<div class="search-result-item" data-ng-repeat="trip in travelResult.Trips | limitTo:limit" data-ng-class="{ 'cancelled' : trip.Invalid, 'no-padding' : (trip.Invalid && !travelResult.showInvalidTrips) }">
																				<div class="trip-date" data-ng-if="trip.DepartureDateTimeText != travelResult.Trips[$index - 1].DepartureDateTimeText">
																								<p>{{trip.DepartureDateTimeText}}</p>
																				</div>
																				<div class="result-info clickable" data-ng-class="{active: getClicked($index), 'map-active' : $index == latestTripSet }" data-ng-click="setClicked($index); mapSetTrip($index)" data-ng-init="reset()" tabindex="0" data-ng-if="!trip.Invalid || ( trip.Invalid && travelResult.showInvalidTrips ) || ( trip.Invalid && !travelResult.showInvalidTrips && limit===1)">
																								<h2>
																												<span class="from">{{ trip.DepartureTime }}</span>  &raquo; <span class="to">{{ trip.ArrivalTime }}</span>
																												<span class="warning" data-ng-if="timePassed(trip)">! Tiden passerad</span>
																								</h2>

																								<h3 class="travel-time" data-ng-class="{ warning: trip.Cancelled || trip.MightMissSubTrip }">
																												<span data-ng-if="!trip.Cancelled && !trip.MightMissSubTrip">Restid {{trip.Duration}}</span>
																												<span class="warning" data-ng-if="trip.MightMissSubTrip">F&#246;r kort tid vid byte</span>
																												<span class="warning" data-ng-if="trip.Cancelled">Resan inst&#228;lld</span>
																								</h3>
																								<h3><span>{{trip.Origin}}</span> &raquo; <span>{{trip.Destination}}</span></h3>
																								<ul>
																												<li class="transport-list" data-ng-repeat="transport in trip.Transports">
																																<span class="trafic-icon" data-ng-class="{ '{{transport.Symbol}}': true }"></span>
																																<span class="line-icon {{transport.Symbol.toLowerCase()}} {{transport.Symbol.toLowerCase() + '_' + transport.LineNumber}}">{{transport.LineNumber}}</span>

																																<span class="walk" data-ng-if="transport.Symbol == 'Walk'">G&#229;</span>
																																<span class="trafic-icon info" data-ng-show="transport.ShowInfoSymbol">Info</span>
																																<span class="trafic-icon warning" data-ng-show="transport.ShowDisruptionSymbol">Störning</span>
																												</li>
																												<li class="transport-list" data-ng-show="trip.ShowPriceInfoSymbol">
																																<span class="trafic-icon warning">Price symbol</span>
																												</li>
																								</ul>

																								<h3>
																												
																								</h3>
																								<span class="expand-alt-icon" role="button" aria-pressed="{{getClicked($index) == true}}" data-ng-click="setClicked($index);mapSetTrip($index)" data-eat-click>Expandera</span>
																				</div>

																				<ul class="trip-list" data-ng-show="getClicked($index)" aria-expanded="{{getClicked($index) == true}}" data-ng-if="!trip.Invalid || ( trip.Invalid && travelResult.showInvalidTrips ) || ( trip.Invalid && !travelResult.showInvalidTrips && limit ===1 )">
																								<li class="trip-section" data-ng-if="!subtrip.Hide" data-ng-class="{start: $index == 0, end: $index == trip.SubTrips.length-1, cancelled: subtrip.Cancelled }" data-ng-repeat="subtrip in trip.SubTrips">
																												<div class="other-messages" data-ng-if="subtrip.MightMissSubTrip" data-ng-class="{'hasPassed' : subtrip.DepartueTimePassed}">
																																<span class="warning">F&#246;r kort tid vid byte pga f&#246;rseningar.</span>
																												</div>
																												<div class="station first clickable" data-ng-class="{active: getClicked($parent.$parent.$index + 'sub' + $index), clickable: subtrip.IntermediateStopRef, hasPassed: ( (subtrip.DepartueTimePassed && !subtrip.Cancelled) || (hasStationPassed(subtrip.DepartureTime, subtrip.DepartureDate) && !subtrip.Cancelled) ) }" data-ng-click="getIntermediateStops($parent.$parent.$index, $index);" tabindex="0">
																																<div class="first-station">
																																				<span class="guarantee-text" data-ng-if="subtrip.GuaranteeText">{{subtrip.GuaranteeText}}</span>
																																				<span class="time">{{subtrip.DepartureTime}}</span>
																																				<span class="oldtime">{{subtrip.OldDepartureTime}}</span>
																																				<span class="stationName" data-ng-if="subtrip.Origin == 'Använd min plats' || subtrip.Origin == 'Use my location'">Min plats</span>
																																				<span class="stationName" data-ng-if="subtrip.Origin != 'Använd min plats' && subtrip.Origin != 'Use my location'">{{subtrip.Origin}}</span>
																																				<div class="station-info">
																																								<span class="trafic-icon tg" data-ng-class="{ '{{subtrip.TransportSymbol}}': true }"></span>
																																								<span class="line-icon {{subtrip.TransportSymbol.toLowerCase()}} {{subtrip.TransportSymbol.toLowerCase() + '_' + subtrip.LineNumber}}">{{subtrip.LineNumber}}</span>
																																								{{subtrip.TransportText}}
																																				</div>
																																				<div class="deviation warning" data-ng-if="subtrip.Cancelled">
																																								<span class="deviation-text warning" data-ng-if="trip.Cancelled">Denna del av resan &#228;r inst&#228;lld</span>
																																				</div>
																																				<div class="deviation warning" data-ng-repeat="deviation in subtrip.RTUMessages">
																																								<span class="trafic-icon warning"></span>
																																								<div class="deviation-text">{{deviation}}</div>
																																				</div>
																																				<div class="deviation" data-ng-repeat="deviation in subtrip.Remarks">
																																								<div class="deviation-text">{{deviation}}</div>
																																				</div>
																																				<span data-ng-show="subtrip.IntermediateStopRef" data-ng-class="{ true: 'sl-loading-mini', false: 'expand-alt-icon' }[getLoading($parent.$parent.$index + 'sub' + $index)]" role="button" aria-pressed="{{getClicked($parent.$parent.$index + 'sub' + $index) == true}}" data-ng-click="getIntermediateStops($parent.$parent.$index, $index);" data-eat-click>Expandera</span>
																																</div>
																												</div>
																												<div class="station-list" data-ng-show="getClicked($parent.$parent.$index + 'sub' + $index) && subtrip.TransportSymbol != 'Walk'" aria-expanded="{{getClicked($parent.$parent.$index + 'sub' + $index) == true}}">
																																<div class="station noIntermediate" data-ng-if="subtrip.IntermediateError">{{subtrip.IntermediateError}}</div>
																																<ul>
																																				<li data-ng-repeat="intermediateStop in subtrip.IntermediateStops" data-ng-if="intermediateStop.Name">
																																								
																																								<div class="station intermediateStop" data-ng-class="{hasPassed: (intermediateStop.DepartueTimePassed && !subtrip.Cancelled) || (hasStationPassed(intermediateStop.DepartureTime, intermediateStop.DepartureDate ) && !subtrip.Cancelled ) }" role="button" tabindex="0">
																																												<span class="time">{{intermediateStop.DepartureTime}}</span>
																																												<span class="oldtime">{{intermediateStop.OldDepartureTime}}</span>
																																												{{intermediateStop.Name}}
																																												<div class="icons">

																																												</div>
																																								</div>
																																				</li>
																																</ul>
																												</div>
																												<div class="station last" data-ng-class="{ 'hasPassed' : ( (subtrip.ArrivalTimePassed && !subtrip.Cancelled) || ( hasStationPassed(subtrip.ArrivalTime, subtrip.ArrivalDate) && !subtrip.Cancelled) ) }" role="button" tabindex="0">
																																<span class="time">{{subtrip.ArrivalTime}}</span>
																																<span class="oldtime">{{subtrip.OldArrivalTime}}</span>
																																<span class="stationName" data-ng-if="subtrip.Destination == 'Använd min plats' || subtrip.Destination == 'Use my location'">Min plats</span>
																																<span class="stationName" data-ng-if="subtrip.Destination != 'Använd min plats' && subtrip.Destination != 'Use my location'">{{subtrip.Destination}}</span>
																																<div class="icons">
																																</div>
																												</div>
																								</li>
																								<li>
																												<div class="price-info-heading" data-ng-class="{clickable: trip.PriceInfo.TariffItems , active: getClicked('price' + $index)}" data-ng-click="setClicked('price' + $index)" role="button" tabindex="0" aria-pressed="{{getClicked('price' + $index) == true}}">

																																				<span data-ng-show="trip.PriceInfo.TariffItems">Prisinformation enkelbiljetter</span>																																<div class="no-price-info" data-ng-show="!trip.PriceInfo.TariffItems">Pris f&#246;r enkelbiljett kunde inte ber&#228;knas. SL:s periodbiljetter f&#246;r 30, 90 och 365 dagar g&#228;ller f&#246;r resor p&#229; Waxholmsbolagets b&#229;tar fram till den 29 april.</div>
																																<span class="expand-alt-icon" data-ng-show="trip.PriceInfo.TariffItems"></span>
																												</div>
																								</li>
																								<li class="price-info">
																												<div data-ng-show="trip.PriceInfo.TariffItems  && getClicked('price' + $index)" role="region" aria-expanded="{{getClicked('price' + $index) == true}}">
																																<div class="thead">
																																				<span class="th type-head">
																																								Typ av k&#246;p
																																				</span><span class="th full-price-head">
																																								Vuxen
																																				</span><span class="th reduced-price-head">
																																								Rabatterat
																																				</span>
																																				<span class="th more-info-head">
																																												<span class="info-icon clickable" data-target="priceInfo_$index" data-toggler role="button" aria-pressed="false" tabindex="0">Prisinformation</span>																																				</span>
																																</div>
																																<div class="tbody" data-ng-if="display.priceInfo_$index">
																																				<span class="tr"><p>Pris för vuxna gäller för de som fyllt 20 men inte 65 år.</p>
<p>*Rabatterat pris&nbsp;gäller för de som fyllt 65 år, är under 20 år, för studenter med giltig studentlegitimation samt för de som uppfyller särskilda villkor.</p>
<p><a title="Läs mer om villkoren under Reducerat pris och rabatter." href="/link/84afd23cbec24923af74686b804c463b.aspx">Läs mer om villkoren under Reducerat pris och rabatter.&nbsp;</a></p>
</span>
																																</div>
																																<div class="tbody station-info-last" data-ng-repeat="price in trip.PriceInfo.TariffItems">
																																				<span class="tr type">
																																								{{price.Name}}
																																				</span><span class="tr full-price">
																																								{{price.FullPrice.Amount}} {{price.FullPrice.Currency}}
																																				</span><span class="tr reduced-price">
																																								{{price.DiscountedPrice.Amount}} kr
																																				</span>
																																</div>

																												</div>

																												<div class="station-info-last deviation warning" data-ng-repeat="priceInfo in trip.PriceInfo.TariffMessages">
																																<span class="trafic-icon warning todo-remove"></span>
																																<div class="deviation-text">{{priceInfo}}</div>
																												</div>
																								</li>
																								<li>
																												<span class="show-in-map clickable" tabindex="0" role="show-in-map" data-ng-click="toggleMap()">
																																Visa p&#229; kartan <span class="arrow pull-right">»</span>
																												</span>
																								</li>
																								<li class="share-block hide-print">
																												<h4 class="share" tabindex="0" data-ng-click="setClicked('shareLink' + $index)">
																																<i class="share-icon"></i>Dela
																												</h4>
																												<ul class="share-links">
																																<li>
																																				<a href="mailto:?subject=Delad resa fr&#229;n SL&amp;body=Klicka h&#228;r {{trip.MailtoLink}}" class="mail">email</a>
																																</li>
																																<li>
																																				<a href="https://www.facebook.com/sharer/sharer.php?u={{trip.ShareLink}}" target="_blank" class="facebook">facebook</a>
																																</li>
																												</ul>
																												<div class="shareEmailSection" data-ng-if="getClicked('shareLink' + $index)">
																																<input type="text" name="email-address" data-ng-value="'{{trip.ShareLink}}'" data-select-on-click data-select-on-focus />
																												</div>
																								</li>
																				</ul>
																</div>

																<div class="search-result-pagination later" data-scroll-if="isViewLoading.laterTrips" data-no-desktop-scroll>
																				<a class="clickable" data-ng-click="findLaterOrEarlierTrips(true)" role="button" tabindex="0">
																								<span data-ng-class="{ true: 'sl-loading-mini', false: 'arrow-down-icon' }[isViewLoading.laterTrips]">Senare avg&#229;ngar</span>
																				</a>
																</div>
												</div>
								</section>
				</div>
 

<section id="realTimeSearchResults" class="real-time-search-results row middle-col" data-ng-controller="newRealTimeSearchResults" data-ng-show="resultHasContent() && !stateService.getShowSearchTo()" data-focus-on="resultHasContent()" tabindex="-1" data-ng-cloak data-scroll-if="resultHasContent()" data-no-desktop-scroll>
				<h1 class="real-time-search-title">
								<span class="sl-favourite clickable" data-ng-class="{'active': currentSearchObject.active == true}" data-ng-click="saveToFav()" role="button" tabindex="0"><span data-ng-if="currentSearchObject.active == true">Ta bort favorit</span><span data-ng-if="!currentSearchObject.active">Spara som favorit</span></span>
								<span class="departures">Avg&#229;ngar</span>
								<span>{{fromName}}</span>
				</h1>
<div class="real-time-update">
	<span class="real-time-update-details">
												Uppdaterad:
												<span>
																{{realTimeResult.LastUpdate}}
												</span>
								</span>
	<span class="real-time-update-icon">
												<span class="update-search clickable" data-ng-click="updateSearch()" role="button" tabindex="0"><span class="update-icon">Uppdatera s&#246;kresultat</span></span>
								</span>
</div>
				<div class="real-time-result-palete">
								<div class="real-time-result-info" data-ng-show="showTransportTypeFilters()">
												<h2 id="transport_type_filters">Filtrera på trafikslag</h2>
												<ul class="real-time-transport-table" aria-labelledby="transport_type_filters">
																<li class="real-time-transport-list clickable">
																				<a class="clickable" data-ng-class="{active: (showAll.realtimeGroups)}" data-target="ShowAll" data-showallonnull="realtimeGroups" role="checkbox" aria-checked="{{showAll.realtimeGroups == true}}" tabindex="0">
																								<strong>Visa alla</strong>
																				</a>
																</li>
																<li class="real-time-transport-list clickable" data-ng-show="realTimeResult.BusGroups.length > 0">
																				<a class="clickable" data-ng-class="{active: showallonnull.realtimeGroups.BusGroups}" data-target="BusGroups" data-showallonnull="realtimeGroups" role="checkbox" aria-checked="{{showallonnull.realtimeGroups.BusGroups == true}}" tabindex="0">
																								<span class="trafic-icon BUS">Buss</span>
																				</a>
																</li>
																<!--<li class="real-time-transport-list clickable" data-ng-show="realTimeResult.MetroRedGroups.length > 0">
																	<a class="clickable" data-ng-class="{active: showallonnull.realtimeGroups.MetroRedGroups}" data-target="MetroRedGroups" data-showallonnull="realtimeGroups" role="checkbox" aria-checked="{{showallonnull.realtimeGroups.MetroRedGroups == true}}" tabindex="0">
																		<span class="trafic-icon MET_red">Tunnelbana r&#246;d</span>
																	</a>
																</li><li class="real-time-transport-list clickable" data-ng-show="realTimeResult.MetroGreenGroups.length > 0">
																	<a class="clickable" data-ng-class="{active: showallonnull.realtimeGroups.MetroGreenGroups}" data-target="MetroGreenGroups" data-showallonnull="realtimeGroups" role="checkbox" aria-checked="{{showallonnull.realtimeGroups.MetroGreenGroups == true}}" tabindex="0">
																		<span class="trafic-icon MET_green">Tunnelbana gr&#246;n</span>
																	</a>
																</li><li class="real-time-transport-list clickable" data-ng-show="realTimeResult.MetroBlueGroups.length > 0">
																	<a class="clickable" data-ng-class="{active: showallonnull.realtimeGroups.MetroBlueGroups}" data-target="MetroBlueGroups" data-showallonnull="realtimeGroups" role="checkbox" aria-checked="{{showallonnull.realtimeGroups.MetroBlueGroups == true}}" tabindex="0">
																		<span class="trafic-icon MET_blue">Tunnelbana bl&#229;</span>
																	</a>
																</li>-->
																<li class="real-time-transport-list clickable" data-ng-show="realTimeResult.MetroGroups.length > 0 && realTimeResult.MetroGroups[0].Departures.length > 0">
																				<a class="clickable" data-ng-class="{active: showallonnull.realtimeGroups.MetroGroups}" data-target="MetroGroups" data-showallonnull="realtimeGroups" role="checkbox" aria-checked="{{showallonnull.realtimeGroups.MetroGroups == true}}" tabindex="0">
																								<span class="trafic-icon MET_blue">Tunnelbana bl&#229;</span>
																				</a>
																</li>
																<li class="real-time-transport-list clickable" data-ng-show="realTimeResult.TrainGroups.length > 0">
																				<a class="clickable" data-ng-class="{active: showallonnull.realtimeGroups.TrainGroups}" data-target="TrainGroups" data-showallonnull="realtimeGroups" role="checkbox" aria-checked="{{showallonnull.realtimeGroups.TrainGroups == true}}" tabindex="0">
																								<span class="trafic-icon TRN">Pendelt&#229;g</span>
																				</a>
																</li>
																<li class="real-time-transport-list clickable" data-ng-show="realTimeResult.TranCityTypes.length > 0">
																				<a class="clickable" data-ng-class="{active: showallonnull.realtimeGroups.TranCityTypes}" data-target="TranCityTypes" data-showallonnull="realtimeGroups" role="checkbox" aria-checked="{{showallonnull.realtimeGroups.TranCityTypes == true}}" tabindex="0">
																								<span class="trafic-icon TRL">Sp&#229;rv&#228;g City</span>
																				</a>
																				
																</li>
																<li class="real-time-transport-list clickable" data-ng-show="realTimeResult.TramTypes.length > 0">
																				<a class="clickable" data-ng-class="{active: showallonnull.realtimeGroups.TramTypes}" data-target="TramTypes" data-showallonnull="realtimeGroups" role="checkbox" aria-checked="{{showallonnull.realtimeGroups.TramTypes == true}}" tabindex="0">
																								<span class="trafic-icon TRM">Lokalbana</span>
																				</a>
																				
																</li>
																<li class="real-time-transport-list clickable" data-ng-show="realTimeResult.ShipGroups.length > 0">
																				<a class="clickable" data-ng-class="{active: showallonnull.realtimeGroups.ShipGroups}" data-target="ShipGroups" data-showallonnull="realtimeGroups" role="checkbox" aria-checked="{{showallonnull.realtimeGroups.ShipGroups == true}}" tabindex="0">
																								<span class="trafic-icon FER">B&#229;t</span>
																				</a>
																				
																</li>
												</ul>
								</div>
				</div>
				<div class="error-messages" data-ng-if="realTimeResult.Error != null">
								<div class="error-item">
												{{realTimeResult.Error}}
												<span class="error-icon"></span>
								</div>
				</div>
				<div class="real-time-tab-info-groups">
								<ul class="real-time-info-tab container" data-fade="showallonnull.realtimeGroups" data-real-time-stations>
												
												<li class="real-time-tab-list-group real-time-tab-list-group1" data-ng-if="realTimeResult.BusGroups.length > 0" data-ng-show="showallonnull.realtimeGroups.BusGroups || showAll.realtimeGroups" data-ng-init="subpanelTrafficType = 'Bus'">
																<div class="group-type" data-ng-repeat="group in realTimeResult.BusGroups">
																				<div class="real-time-info">
																								<div class="deviation warning" data-ng-repeat="deviation in group.StopPointDeviations">
																												<span class="error-icon"></span>
																												<div class="deviation-text">{{deviation.Deviation.Text}}</div>
																								</div>
																								<h2>
																												<span class="trafic-icon {{group.TransportSymbol}}"></span> <b>{{group.Type}}, {{group.Title}}</b>
																								</h2>
																				</div>
<ul>
    <li class="realTimeTransportItem" data-ng-class-even="'even'" data-ng-repeat="departure in group.Departures" data-ng-hide="hideExpanded($index, subpanelTrafficType, $parent.$index)">
        <div class="real-time-transports clickable" data-ng-class="{ active: subpanels['{{$parent.$index}}_{{$index}}_{{group.JourneyProduct}}_{{departure.LineNumber}}'], 'map-active': $parent.$parent.$parent.currentMap == '{{$parent.$index}}_{{$index}}_{{group.JourneyProduct}}_{{departure.LineNumber}}' }" data-ng-click="getRealTimeStations($parent.$index, $index, departure, group.JourneyProduct, realTimeResult.LastUpdate, group); setAria(); $parent.$parent.$parent.currentMap = '{{$parent.$index}}_{{$index}}_{{group.JourneyProduct}}_{{departure.LineNumber}}'" role="button" tabindex="0" aria-pressed="false">
            <div class="real-time-transport-item" data-ng-class-even="'even'">
                <span class="real-time-transport-number-wrapper">
                    <span class="trafic-icon {{group.TransportSymbol}}"></span>
                    <span class="real-time-transport-number clickable line-icon {{group.TransportSymbol.toLowerCase()}} {{group.TransportSymbol.toLowerCase() + '_' + departure.LineNumber}} {{departure.TransportSymbol.toLowerCase()}}" data-ng-class="{'highlight': isHighlighted(fromId, group, departure)}" data-ng-click="highlightTransport(fromId, group, departure)" data-eat-click role="button" tabindex="0" aria-pressed="{{isHighlighted(fromId, group, departure)}}">
                        <span>Bl&#229;markera linje</span> 
                        {{departure.LineNumber}}
                    </span>
                    {{departure.Destination}}
                   
                </span>
                <div class="real-time-transport-time">
                    {{departure.DisplayTime}}
                    <div class="info" data-ng-show="notRealTime(departure.DisplayTime)">ej realtid</div>
                </div>
            </div>
            <div class="deviation warning real-time-transport-item-deviation" data-ng-repeat="deviation in departure.Deviations" >
                <span class="trafic-icon warning"></span>
                <div class="deviation-text">{{deviation.Text}}</div>
            </div>
            <span data-ng-class="{true: 'sl-loading-mini', false: 'expand-alt-icon'}[loadingRealTimeStations[$parent.$index + '_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber] == true]"><span data-ng-show="loadingRealTimeStations[$parent.$index + '_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber] == true">H&#228;mtar mellanliggande stationer...</span></span>
        </div>
        <div class="error-messages" data-ng-show="travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].Error != null && subpanels['{{$parent.$index}}_{{$index}}_{{group.JourneyProduct}}_{{departure.LineNumber}}']">
            <div class="error-item">
                {{travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].Error}}
                <span class="error-icon"></span>
            </div>
        </div>
        <div class="real-time-details trip-list" data-ng-show="!loadingRealTimeStations[$parent.$index + '_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber] && subpanels['{{$parent.$index}}_{{$index}}_{{group.JourneyProduct}}_{{departure.LineNumber}}'] && travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].Error == null" role="region" aria-expanded="false">
            <div class="trip-section start end">
                <div class="station intermediateStop first">
                    {{fromName}}
                </div>
                <ul class="station-list">
                    <li data-ng-repeat="item in travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].MiddleStations">
                        <div class="station intermediateStop clickable icons-{{item.Icons.length}}"  data-ng-click="newRealtimeSearch(item.SiteId, item.Name)" role="button" tabindex="0">
                            {{item.Name}}
                            <div class="icons">
                                <ul>
                                    <li class="trafic-icon" data-ng-class="{ '{{icon}}': true }" data-ng-repeat="icon in item.Icons">{{parseTrafficType(icon)}}</li>
                                </ul>
                                <span>&raquo;</span>
                            </div>
                        </div>
                    </li>
                </ul>
                <div class="station intermediateStop last clickable icons-{{travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].EndStation.Icons.length}}" data-ng-click="newRealtimeSearch(travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].EndStation.SiteId, travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].EndStation.Name)" role="button" tabindex="0">
                    {{travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].EndStation.Name}}
                    <div class="icons">
                        <ul>
                            <li class="trafic-icon" data-ng-class="{ '{{icon}}': true }" data-ng-repeat="icon in travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].EndStation.Icons">{{parseTrafficType(icon)}}</li>
                        </ul>
                        <span>&raquo;</span>
                    </div>
                </div>
                <div>
                    <span class="show-in-map clickable" tabindex="0" role="show-in-map" data-ng-click="toggleMap()">
                        Visa p&#229; kartan <span class="arrow pull-right">»</span>
                    </span>
                </div>
            </div>
        </div>
    </li>
    <li class="real-time-transports" data-ng-show="group.InformationMessage">
        <div class="real-time-transport-item white">
            <span class="real-time-info-message">
                {{group.InformationMessage}}
            </span>
        </div>
        <span class="clickable-icon"></span>
    </li>
</ul>

																				<div data-ng-show="group.Departures.length > 4 && !subpanels['realTimeTransportItemBus' + $index]" class="overflow">
																								<a class="real-time-show-more clickable" data-ng-click="subpanels['realTimeTransportItemBus' + $index] = !subpanels['realTimeTransportItemBus' + $index]" role="button" tabindex="0">
																												Visa senare avg&#229;ngar
																												<span class="show-more-icon"></span>
																								</a>
																				</div>
																</div>
												</li>
												
												<li class="real-time-tab-list-group real-time-tab-list-group2" data-ng-if="realTimeResult.MetroGroups.length > 0" data-ng-show="showallonnull.realtimeGroups.MetroGroups || showAll.realtimeGroups" data-ng-init="subpanelTrafficType = 'Metro'">

																<div class="group-type" data-ng-repeat="group in realTimeResult.MetroGroups" data-ng-show="group.Departures.length > 0">
																				<div class="real-time-info">
																								<div class="deviation warning" data-ng-repeat="deviation in group.StopPointDeviations">
																												<span class="error-icon"></span>
																												<div class="deviation-text">{{deviation.Deviation.Text}}</div>
																								</div>
																								<h2>
																												<span class="trafic-icon MET"></span> <b>Tunnelbana, {{group.Title}}</b>
																								</h2>
																				</div>
																				<div>
<ul>
    <li class="realTimeTransportItem" data-ng-class-even="'even'" data-ng-repeat="departure in group.Departures" data-ng-hide="hideExpanded($index, subpanelTrafficType, $parent.$index)">
        <div class="real-time-transports clickable" data-ng-class="{ active: subpanels['{{$parent.$index}}_{{$index}}_{{group.JourneyProduct}}_{{departure.LineNumber}}'], 'map-active': $parent.$parent.$parent.currentMap == '{{$parent.$index}}_{{$index}}_{{group.JourneyProduct}}_{{departure.LineNumber}}' }" data-ng-click="getRealTimeStations($parent.$index, $index, departure, group.JourneyProduct, realTimeResult.LastUpdate, group); setAria(); $parent.$parent.$parent.currentMap = '{{$parent.$index}}_{{$index}}_{{group.JourneyProduct}}_{{departure.LineNumber}}'" role="button" tabindex="0" aria-pressed="false">
            <div class="real-time-transport-item" data-ng-class-even="'even'">
                <span class="real-time-transport-number-wrapper">
                    <span class="trafic-icon {{group.TransportSymbol}}"></span>
                    <span class="real-time-transport-number clickable line-icon {{group.TransportSymbol.toLowerCase()}} {{group.TransportSymbol.toLowerCase() + '_' + departure.LineNumber}} {{departure.TransportSymbol.toLowerCase()}}" data-ng-class="{'highlight': isHighlighted(fromId, group, departure)}" data-ng-click="highlightTransport(fromId, group, departure)" data-eat-click role="button" tabindex="0" aria-pressed="{{isHighlighted(fromId, group, departure)}}">
                        <span>Bl&#229;markera linje</span> 
                        {{departure.LineNumber}}
                    </span>
                    {{departure.Destination}}
                   
                </span>
                <div class="real-time-transport-time">
                    {{departure.DisplayTime}}
                    <div class="info" data-ng-show="notRealTime(departure.DisplayTime)">ej realtid</div>
                </div>
            </div>
            <div class="deviation warning real-time-transport-item-deviation" data-ng-repeat="deviation in departure.Deviations" >
                <span class="trafic-icon warning"></span>
                <div class="deviation-text">{{deviation.Text}}</div>
            </div>
            <span data-ng-class="{true: 'sl-loading-mini', false: 'expand-alt-icon'}[loadingRealTimeStations[$parent.$index + '_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber] == true]"><span data-ng-show="loadingRealTimeStations[$parent.$index + '_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber] == true">H&#228;mtar mellanliggande stationer...</span></span>
        </div>
        <div class="error-messages" data-ng-show="travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].Error != null && subpanels['{{$parent.$index}}_{{$index}}_{{group.JourneyProduct}}_{{departure.LineNumber}}']">
            <div class="error-item">
                {{travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].Error}}
                <span class="error-icon"></span>
            </div>
        </div>
        <div class="real-time-details trip-list" data-ng-show="!loadingRealTimeStations[$parent.$index + '_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber] && subpanels['{{$parent.$index}}_{{$index}}_{{group.JourneyProduct}}_{{departure.LineNumber}}'] && travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].Error == null" role="region" aria-expanded="false">
            <div class="trip-section start end">
                <div class="station intermediateStop first">
                    {{fromName}}
                </div>
                <ul class="station-list">
                    <li data-ng-repeat="item in travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].MiddleStations">
                        <div class="station intermediateStop clickable icons-{{item.Icons.length}}"  data-ng-click="newRealtimeSearch(item.SiteId, item.Name)" role="button" tabindex="0">
                            {{item.Name}}
                            <div class="icons">
                                <ul>
                                    <li class="trafic-icon" data-ng-class="{ '{{icon}}': true }" data-ng-repeat="icon in item.Icons">{{parseTrafficType(icon)}}</li>
                                </ul>
                                <span>&raquo;</span>
                            </div>
                        </div>
                    </li>
                </ul>
                <div class="station intermediateStop last clickable icons-{{travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].EndStation.Icons.length}}" data-ng-click="newRealtimeSearch(travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].EndStation.SiteId, travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].EndStation.Name)" role="button" tabindex="0">
                    {{travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].EndStation.Name}}
                    <div class="icons">
                        <ul>
                            <li class="trafic-icon" data-ng-class="{ '{{icon}}': true }" data-ng-repeat="icon in travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].EndStation.Icons">{{parseTrafficType(icon)}}</li>
                        </ul>
                        <span>&raquo;</span>
                    </div>
                </div>
                <div>
                    <span class="show-in-map clickable" tabindex="0" role="show-in-map" data-ng-click="toggleMap()">
                        Visa p&#229; kartan <span class="arrow pull-right">»</span>
                    </span>
                </div>
            </div>
        </div>
    </li>
    <li class="real-time-transports" data-ng-show="group.InformationMessage">
        <div class="real-time-transport-item white">
            <span class="real-time-info-message">
                {{group.InformationMessage}}
            </span>
        </div>
        <span class="clickable-icon"></span>
    </li>
</ul>

																				</div>
																				<div data-ng-show="group.Departures.length > 4 && !subpanels['realTimeTransportItemMetro' + $index]" class="overflow">
																								<a class="real-time-show-more clickable" data-ng-click="subpanels['realTimeTransportItemMetro' + $index] = !subpanels['realTimeTransportItemMetro' + $index]" role="button" tabindex="0">
																												Visa senare avg&#229;ngar
																												<span class="show-more-icon"></span>
																								</a>
																				</div>
																</div>
												</li>
												
												<li class="real-time-tab-list-group real-time-tab-list-group5" data-ng-if="realTimeResult.TrainGroups.length > 0" data-ng-show="showallonnull.realtimeGroups.TrainGroups || showAll.realtimeGroups" data-ng-init="subpanelTrafficType = 'Train'">
																<div class="real-time-info">
																				<h2>
																								<span class="trafic-icon TRN"></span> <b>Pendelt&#229;g, {{fromName}}</b>
																				</h2>
																</div>
																<div class="group-type" data-ng-repeat="group in realTimeResult.TrainGroups">
																				<div class="real-time-info">
																								<div class="deviation warning" data-ng-repeat="deviation in group.StopPointDeviations">
																												<span class="error-icon"></span>
																												<div class="deviation-text">{{deviation.Deviation.Text}}</div>
																								</div>
																								<h2 class="real-time-secondary-title">
																												Pendelt&#229;g, {{group.Title}}
																								</h2>

																				</div>
																				<div>
<ul>
    <li class="realTimeTransportItem" data-ng-class-even="'even'" data-ng-repeat="departure in group.Departures" data-ng-hide="hideExpanded($index, subpanelTrafficType, $parent.$index)">
        <div class="real-time-transports clickable" data-ng-class="{ active: subpanels['{{$parent.$index}}_{{$index}}_{{group.JourneyProduct}}_{{departure.LineNumber}}'], 'map-active': $parent.$parent.$parent.currentMap == '{{$parent.$index}}_{{$index}}_{{group.JourneyProduct}}_{{departure.LineNumber}}' }" data-ng-click="getRealTimeStations($parent.$index, $index, departure, group.JourneyProduct, realTimeResult.LastUpdate, group); setAria(); $parent.$parent.$parent.currentMap = '{{$parent.$index}}_{{$index}}_{{group.JourneyProduct}}_{{departure.LineNumber}}'" role="button" tabindex="0" aria-pressed="false">
            <div class="real-time-transport-item" data-ng-class-even="'even'">
                <span class="real-time-transport-number-wrapper">
                    <span class="trafic-icon {{group.TransportSymbol}}"></span>
                    <span class="real-time-transport-number clickable line-icon {{group.TransportSymbol.toLowerCase()}} {{group.TransportSymbol.toLowerCase() + '_' + departure.LineNumber}} {{departure.TransportSymbol.toLowerCase()}}" data-ng-class="{'highlight': isHighlighted(fromId, group, departure)}" data-ng-click="highlightTransport(fromId, group, departure)" data-eat-click role="button" tabindex="0" aria-pressed="{{isHighlighted(fromId, group, departure)}}">
                        <span>Bl&#229;markera linje</span> 
                        {{departure.LineNumber}}
                    </span>
                    {{departure.Destination}}
                   
                </span>
                <div class="real-time-transport-time">
                    {{departure.DisplayTime}}
                    <div class="info" data-ng-show="notRealTime(departure.DisplayTime)">ej realtid</div>
                </div>
            </div>
            <div class="deviation warning real-time-transport-item-deviation" data-ng-repeat="deviation in departure.Deviations" >
                <span class="trafic-icon warning"></span>
                <div class="deviation-text">{{deviation.Text}}</div>
            </div>
            <span data-ng-class="{true: 'sl-loading-mini', false: 'expand-alt-icon'}[loadingRealTimeStations[$parent.$index + '_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber] == true]"><span data-ng-show="loadingRealTimeStations[$parent.$index + '_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber] == true">H&#228;mtar mellanliggande stationer...</span></span>
        </div>
        <div class="error-messages" data-ng-show="travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].Error != null && subpanels['{{$parent.$index}}_{{$index}}_{{group.JourneyProduct}}_{{departure.LineNumber}}']">
            <div class="error-item">
                {{travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].Error}}
                <span class="error-icon"></span>
            </div>
        </div>
        <div class="real-time-details trip-list" data-ng-show="!loadingRealTimeStations[$parent.$index + '_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber] && subpanels['{{$parent.$index}}_{{$index}}_{{group.JourneyProduct}}_{{departure.LineNumber}}'] && travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].Error == null" role="region" aria-expanded="false">
            <div class="trip-section start end">
                <div class="station intermediateStop first">
                    {{fromName}}
                </div>
                <ul class="station-list">
                    <li data-ng-repeat="item in travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].MiddleStations">
                        <div class="station intermediateStop clickable icons-{{item.Icons.length}}"  data-ng-click="newRealtimeSearch(item.SiteId, item.Name)" role="button" tabindex="0">
                            {{item.Name}}
                            <div class="icons">
                                <ul>
                                    <li class="trafic-icon" data-ng-class="{ '{{icon}}': true }" data-ng-repeat="icon in item.Icons">{{parseTrafficType(icon)}}</li>
                                </ul>
                                <span>&raquo;</span>
                            </div>
                        </div>
                    </li>
                </ul>
                <div class="station intermediateStop last clickable icons-{{travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].EndStation.Icons.length}}" data-ng-click="newRealtimeSearch(travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].EndStation.SiteId, travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].EndStation.Name)" role="button" tabindex="0">
                    {{travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].EndStation.Name}}
                    <div class="icons">
                        <ul>
                            <li class="trafic-icon" data-ng-class="{ '{{icon}}': true }" data-ng-repeat="icon in travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].EndStation.Icons">{{parseTrafficType(icon)}}</li>
                        </ul>
                        <span>&raquo;</span>
                    </div>
                </div>
                <div>
                    <span class="show-in-map clickable" tabindex="0" role="show-in-map" data-ng-click="toggleMap()">
                        Visa p&#229; kartan <span class="arrow pull-right">»</span>
                    </span>
                </div>
            </div>
        </div>
    </li>
    <li class="real-time-transports" data-ng-show="group.InformationMessage">
        <div class="real-time-transport-item white">
            <span class="real-time-info-message">
                {{group.InformationMessage}}
            </span>
        </div>
        <span class="clickable-icon"></span>
    </li>
</ul>

																				</div>
																				<div data-ng-show="group.Departures.length > 4 && !subpanels['realTimeTransportItemTrain' + $index]" class="overflow">
																								<a class="real-time-show-more clickable" data-ng-click="subpanels['realTimeTransportItemTrain' + $index] = !subpanels['realTimeTransportItemTrain' + $index]" role="button" tabindex="0">
																												Visa senare avg&#229;ngar
																												<span class="show-more-icon"></span>
																								</a>
																				</div>
																</div>
												</li>
												
												<li class="real-time-tab-list-group real-time-tab-list-group6" data-ng-if="realTimeResult.TranCityTypes.length > 0" data-ng-show="showallonnull.realtimeGroups.TranCityTypes || showAll.realtimeGroups" data-ng-init="subpanelTrafficType = 'TranCity'">
																<div class="group-type" data-ng-repeat="type in realTimeResult.TranCityTypes">
																				<div class="real-time-info">
																								<div class="deviation warning" data-ng-repeat="deviation in type.StopPointDeviations">
																												<span class="error-icon"></span>
																												<div class="deviation-text">{{deviation.Deviation.Text}}</div>
																								</div>
																								<h2>
																												<span class="trafic-icon TRM"></span> <b>{{type.Type}}, {{fromName}}</b>
																								</h2>

																				</div>
																				<div data-ng-repeat="group in type.TramGroups">
																								<div class="real-time-info">
																												<h2 class="real-time-secondary-title">
																																{{type.Type}}, {{group.Title}}
																												</h2>
																								</div>
																								<div>
<ul>
    <li class="realTimeTransportItem" data-ng-class-even="'even'" data-ng-repeat="departure in group.Departures" data-ng-hide="hideExpanded($index, subpanelTrafficType, $parent.$index)">
        <div class="real-time-transports clickable" data-ng-class="{ active: subpanels['{{$parent.$index}}_{{$index}}_{{group.JourneyProduct}}_{{departure.LineNumber}}'], 'map-active': $parent.$parent.$parent.currentMap == '{{$parent.$index}}_{{$index}}_{{group.JourneyProduct}}_{{departure.LineNumber}}' }" data-ng-click="getRealTimeStations($parent.$index, $index, departure, group.JourneyProduct, realTimeResult.LastUpdate, group); setAria(); $parent.$parent.$parent.currentMap = '{{$parent.$index}}_{{$index}}_{{group.JourneyProduct}}_{{departure.LineNumber}}'" role="button" tabindex="0" aria-pressed="false">
            <div class="real-time-transport-item" data-ng-class-even="'even'">
                <span class="real-time-transport-number-wrapper">
                    <span class="trafic-icon {{group.TransportSymbol}}"></span>
                    <span class="real-time-transport-number clickable line-icon {{group.TransportSymbol.toLowerCase()}} {{group.TransportSymbol.toLowerCase() + '_' + departure.LineNumber}} {{departure.TransportSymbol.toLowerCase()}}" data-ng-class="{'highlight': isHighlighted(fromId, group, departure)}" data-ng-click="highlightTransport(fromId, group, departure)" data-eat-click role="button" tabindex="0" aria-pressed="{{isHighlighted(fromId, group, departure)}}">
                        <span>Bl&#229;markera linje</span> 
                        {{departure.LineNumber}}
                    </span>
                    {{departure.Destination}}
                   
                </span>
                <div class="real-time-transport-time">
                    {{departure.DisplayTime}}
                    <div class="info" data-ng-show="notRealTime(departure.DisplayTime)">ej realtid</div>
                </div>
            </div>
            <div class="deviation warning real-time-transport-item-deviation" data-ng-repeat="deviation in departure.Deviations" >
                <span class="trafic-icon warning"></span>
                <div class="deviation-text">{{deviation.Text}}</div>
            </div>
            <span data-ng-class="{true: 'sl-loading-mini', false: 'expand-alt-icon'}[loadingRealTimeStations[$parent.$index + '_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber] == true]"><span data-ng-show="loadingRealTimeStations[$parent.$index + '_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber] == true">H&#228;mtar mellanliggande stationer...</span></span>
        </div>
        <div class="error-messages" data-ng-show="travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].Error != null && subpanels['{{$parent.$index}}_{{$index}}_{{group.JourneyProduct}}_{{departure.LineNumber}}']">
            <div class="error-item">
                {{travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].Error}}
                <span class="error-icon"></span>
            </div>
        </div>
        <div class="real-time-details trip-list" data-ng-show="!loadingRealTimeStations[$parent.$index + '_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber] && subpanels['{{$parent.$index}}_{{$index}}_{{group.JourneyProduct}}_{{departure.LineNumber}}'] && travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].Error == null" role="region" aria-expanded="false">
            <div class="trip-section start end">
                <div class="station intermediateStop first">
                    {{fromName}}
                </div>
                <ul class="station-list">
                    <li data-ng-repeat="item in travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].MiddleStations">
                        <div class="station intermediateStop clickable icons-{{item.Icons.length}}"  data-ng-click="newRealtimeSearch(item.SiteId, item.Name)" role="button" tabindex="0">
                            {{item.Name}}
                            <div class="icons">
                                <ul>
                                    <li class="trafic-icon" data-ng-class="{ '{{icon}}': true }" data-ng-repeat="icon in item.Icons">{{parseTrafficType(icon)}}</li>
                                </ul>
                                <span>&raquo;</span>
                            </div>
                        </div>
                    </li>
                </ul>
                <div class="station intermediateStop last clickable icons-{{travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].EndStation.Icons.length}}" data-ng-click="newRealtimeSearch(travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].EndStation.SiteId, travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].EndStation.Name)" role="button" tabindex="0">
                    {{travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].EndStation.Name}}
                    <div class="icons">
                        <ul>
                            <li class="trafic-icon" data-ng-class="{ '{{icon}}': true }" data-ng-repeat="icon in travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].EndStation.Icons">{{parseTrafficType(icon)}}</li>
                        </ul>
                        <span>&raquo;</span>
                    </div>
                </div>
                <div>
                    <span class="show-in-map clickable" tabindex="0" role="show-in-map" data-ng-click="toggleMap()">
                        Visa p&#229; kartan <span class="arrow pull-right">»</span>
                    </span>
                </div>
            </div>
        </div>
    </li>
    <li class="real-time-transports" data-ng-show="group.InformationMessage">
        <div class="real-time-transport-item white">
            <span class="real-time-info-message">
                {{group.InformationMessage}}
            </span>
        </div>
        <span class="clickable-icon"></span>
    </li>
</ul>

																								</div>
																								<div data-ng-show="group.Departures.length > 4 && !subpanels['realTimeTransportItemTranCity' + $index]" class="overflow">
																												<a class="real-time-show-more clickable" data-ng-click="subpanels['realTimeTransportItemTranCity' + $index] = !subpanels['realTimeTransportItemTranCity' + $index]" role="button" tabindex="0">
																																Visa senare avg&#229;ngar
																																<span class="show-more-icon"></span>
																												</a>
																								</div>
																				</div>
																</div>
												</li>
												
												<li class="real-time-tab-list-group real-time-tab-list-group7" data-ng-if="realTimeResult.TramTypes.length > 0" data-ng-show="showallonnull.realtimeGroups.TramTypes || showAll.realtimeGroups" data-ng-init="subpanelTrafficType = 'Tram'">
																<div class="group-type" data-ng-repeat="type in realTimeResult.TramTypes">
																				<div class="real-time-info">
																								<div class="deviation warning" data-ng-repeat="deviation in type.StopPointDeviations">
																												<span class="error-icon"></span>
																												<div class="deviation-text">{{deviation.Deviation.Text}}</div>
																								</div>
																								<h2>
																												<span class="trafic-icon TRM"></span> <b>{{type.Type}}, {{fromName}}</b>
																								</h2>

																				</div>
																				<div data-ng-repeat="group in type.TramGroups">
																								<div class="real-time-info">
																												<h2 class="real-time-secondary-title">
																																{{type.Type}}, {{group.Title}}
																												</h2>
																								</div>
																								<div>
<ul>
    <li class="realTimeTransportItem" data-ng-class-even="'even'" data-ng-repeat="departure in group.Departures" data-ng-hide="hideExpanded($index, subpanelTrafficType, $parent.$index)">
        <div class="real-time-transports clickable" data-ng-class="{ active: subpanels['{{$parent.$index}}_{{$index}}_{{group.JourneyProduct}}_{{departure.LineNumber}}'], 'map-active': $parent.$parent.$parent.currentMap == '{{$parent.$index}}_{{$index}}_{{group.JourneyProduct}}_{{departure.LineNumber}}' }" data-ng-click="getRealTimeStations($parent.$index, $index, departure, group.JourneyProduct, realTimeResult.LastUpdate, group); setAria(); $parent.$parent.$parent.currentMap = '{{$parent.$index}}_{{$index}}_{{group.JourneyProduct}}_{{departure.LineNumber}}'" role="button" tabindex="0" aria-pressed="false">
            <div class="real-time-transport-item" data-ng-class-even="'even'">
                <span class="real-time-transport-number-wrapper">
                    <span class="trafic-icon {{group.TransportSymbol}}"></span>
                    <span class="real-time-transport-number clickable line-icon {{group.TransportSymbol.toLowerCase()}} {{group.TransportSymbol.toLowerCase() + '_' + departure.LineNumber}} {{departure.TransportSymbol.toLowerCase()}}" data-ng-class="{'highlight': isHighlighted(fromId, group, departure)}" data-ng-click="highlightTransport(fromId, group, departure)" data-eat-click role="button" tabindex="0" aria-pressed="{{isHighlighted(fromId, group, departure)}}">
                        <span>Bl&#229;markera linje</span> 
                        {{departure.LineNumber}}
                    </span>
                    {{departure.Destination}}
                   
                </span>
                <div class="real-time-transport-time">
                    {{departure.DisplayTime}}
                    <div class="info" data-ng-show="notRealTime(departure.DisplayTime)">ej realtid</div>
                </div>
            </div>
            <div class="deviation warning real-time-transport-item-deviation" data-ng-repeat="deviation in departure.Deviations" >
                <span class="trafic-icon warning"></span>
                <div class="deviation-text">{{deviation.Text}}</div>
            </div>
            <span data-ng-class="{true: 'sl-loading-mini', false: 'expand-alt-icon'}[loadingRealTimeStations[$parent.$index + '_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber] == true]"><span data-ng-show="loadingRealTimeStations[$parent.$index + '_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber] == true">H&#228;mtar mellanliggande stationer...</span></span>
        </div>
        <div class="error-messages" data-ng-show="travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].Error != null && subpanels['{{$parent.$index}}_{{$index}}_{{group.JourneyProduct}}_{{departure.LineNumber}}']">
            <div class="error-item">
                {{travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].Error}}
                <span class="error-icon"></span>
            </div>
        </div>
        <div class="real-time-details trip-list" data-ng-show="!loadingRealTimeStations[$parent.$index + '_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber] && subpanels['{{$parent.$index}}_{{$index}}_{{group.JourneyProduct}}_{{departure.LineNumber}}'] && travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].Error == null" role="region" aria-expanded="false">
            <div class="trip-section start end">
                <div class="station intermediateStop first">
                    {{fromName}}
                </div>
                <ul class="station-list">
                    <li data-ng-repeat="item in travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].MiddleStations">
                        <div class="station intermediateStop clickable icons-{{item.Icons.length}}"  data-ng-click="newRealtimeSearch(item.SiteId, item.Name)" role="button" tabindex="0">
                            {{item.Name}}
                            <div class="icons">
                                <ul>
                                    <li class="trafic-icon" data-ng-class="{ '{{icon}}': true }" data-ng-repeat="icon in item.Icons">{{parseTrafficType(icon)}}</li>
                                </ul>
                                <span>&raquo;</span>
                            </div>
                        </div>
                    </li>
                </ul>
                <div class="station intermediateStop last clickable icons-{{travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].EndStation.Icons.length}}" data-ng-click="newRealtimeSearch(travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].EndStation.SiteId, travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].EndStation.Name)" role="button" tabindex="0">
                    {{travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].EndStation.Name}}
                    <div class="icons">
                        <ul>
                            <li class="trafic-icon" data-ng-class="{ '{{icon}}': true }" data-ng-repeat="icon in travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].EndStation.Icons">{{parseTrafficType(icon)}}</li>
                        </ul>
                        <span>&raquo;</span>
                    </div>
                </div>
                <div>
                    <span class="show-in-map clickable" tabindex="0" role="show-in-map" data-ng-click="toggleMap()">
                        Visa p&#229; kartan <span class="arrow pull-right">»</span>
                    </span>
                </div>
            </div>
        </div>
    </li>
    <li class="real-time-transports" data-ng-show="group.InformationMessage">
        <div class="real-time-transport-item white">
            <span class="real-time-info-message">
                {{group.InformationMessage}}
            </span>
        </div>
        <span class="clickable-icon"></span>
    </li>
</ul>

																								</div>
																								<div data-ng-show="group.Departures.length > 4 && !subpanels['realTimeTransportItemTram' + $index]" class="overflow">
																												<a class="real-time-show-more clickable" data-ng-click="subpanels['realTimeTransportItemTram' + $index] = !subpanels['realTimeTransportItemTram' + $index]" role="button" tabindex="0">
																																Visa senare avg&#229;ngar
																																<span class="show-more-icon"></span>
																												</a>
																								</div>
																				</div>
																</div>
												</li>
												
												<li class="real-time-tab-list-group real-time-tab-list-group5" data-ng-if="realTimeResult.ShipGroups.length > 0" data-ng-show="showallonnull.realtimeGroups.ShipGroups || showAll.realtimeGroups" data-ng-init="subpanelTrafficType = 'Ship'">
																<div class="group-type real-time-info">
																				<div class="deviation warning" data-ng-repeat="deviation in realTimeResult.ShipGroups[0].StopPointDeviations">
																								<span class="trafic-icon warning"></span>
																								<div class="deviation-text">{{deviation.Deviation.Text}}</div>
																				</div>
																				<h2>
																								<b>{{realTimeResult.ShipGroups[0].Type}}</b>
																				</h2>

																</div>
																<div class="group-type" data-ng-repeat="group in realTimeResult.ShipGroups">
																				<div class="real-time-info">
																								<h2 class="real-time-secondary-title">
																												{{group.Type}}, {{group.Title}}
																								</h2>
																				</div>
																				<div>
<ul>
    <li class="realTimeTransportItem" data-ng-class-even="'even'" data-ng-repeat="departure in group.Departures" data-ng-hide="hideExpanded($index, subpanelTrafficType, $parent.$index)">
        <div class="real-time-transports clickable" data-ng-class="{ active: subpanels['{{$parent.$index}}_{{$index}}_{{group.JourneyProduct}}_{{departure.LineNumber}}'], 'map-active': $parent.$parent.$parent.currentMap == '{{$parent.$index}}_{{$index}}_{{group.JourneyProduct}}_{{departure.LineNumber}}' }" data-ng-click="getRealTimeStations($parent.$index, $index, departure, group.JourneyProduct, realTimeResult.LastUpdate, group); setAria(); $parent.$parent.$parent.currentMap = '{{$parent.$index}}_{{$index}}_{{group.JourneyProduct}}_{{departure.LineNumber}}'" role="button" tabindex="0" aria-pressed="false">
            <div class="real-time-transport-item" data-ng-class-even="'even'">
                <span class="real-time-transport-number-wrapper">
                    <span class="trafic-icon {{group.TransportSymbol}}"></span>
                    <span class="real-time-transport-number clickable line-icon {{group.TransportSymbol.toLowerCase()}} {{group.TransportSymbol.toLowerCase() + '_' + departure.LineNumber}} {{departure.TransportSymbol.toLowerCase()}}" data-ng-class="{'highlight': isHighlighted(fromId, group, departure)}" data-ng-click="highlightTransport(fromId, group, departure)" data-eat-click role="button" tabindex="0" aria-pressed="{{isHighlighted(fromId, group, departure)}}">
                        <span>Bl&#229;markera linje</span> 
                        {{departure.LineNumber}}
                    </span>
                    {{departure.Destination}}
                   
                </span>
                <div class="real-time-transport-time">
                    {{departure.DisplayTime}}
                    <div class="info" data-ng-show="notRealTime(departure.DisplayTime)">ej realtid</div>
                </div>
            </div>
            <div class="deviation warning real-time-transport-item-deviation" data-ng-repeat="deviation in departure.Deviations" >
                <span class="trafic-icon warning"></span>
                <div class="deviation-text">{{deviation.Text}}</div>
            </div>
            <span data-ng-class="{true: 'sl-loading-mini', false: 'expand-alt-icon'}[loadingRealTimeStations[$parent.$index + '_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber] == true]"><span data-ng-show="loadingRealTimeStations[$parent.$index + '_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber] == true">H&#228;mtar mellanliggande stationer...</span></span>
        </div>
        <div class="error-messages" data-ng-show="travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].Error != null && subpanels['{{$parent.$index}}_{{$index}}_{{group.JourneyProduct}}_{{departure.LineNumber}}']">
            <div class="error-item">
                {{travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].Error}}
                <span class="error-icon"></span>
            </div>
        </div>
        <div class="real-time-details trip-list" data-ng-show="!loadingRealTimeStations[$parent.$index + '_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber] && subpanels['{{$parent.$index}}_{{$index}}_{{group.JourneyProduct}}_{{departure.LineNumber}}'] && travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].Error == null" role="region" aria-expanded="false">
            <div class="trip-section start end">
                <div class="station intermediateStop first">
                    {{fromName}}
                </div>
                <ul class="station-list">
                    <li data-ng-repeat="item in travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].MiddleStations">
                        <div class="station intermediateStop clickable icons-{{item.Icons.length}}"  data-ng-click="newRealtimeSearch(item.SiteId, item.Name)" role="button" tabindex="0">
                            {{item.Name}}
                            <div class="icons">
                                <ul>
                                    <li class="trafic-icon" data-ng-class="{ '{{icon}}': true }" data-ng-repeat="icon in item.Icons">{{parseTrafficType(icon)}}</li>
                                </ul>
                                <span>&raquo;</span>
                            </div>
                        </div>
                    </li>
                </ul>
                <div class="station intermediateStop last clickable icons-{{travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].EndStation.Icons.length}}" data-ng-click="newRealtimeSearch(travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].EndStation.SiteId, travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].EndStation.Name)" role="button" tabindex="0">
                    {{travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].EndStation.Name}}
                    <div class="icons">
                        <ul>
                            <li class="trafic-icon" data-ng-class="{ '{{icon}}': true }" data-ng-repeat="icon in travelResult[$parent.$index +'_' + $index + '_' + group.JourneyProduct + '_' + departure.LineNumber].EndStation.Icons">{{parseTrafficType(icon)}}</li>
                        </ul>
                        <span>&raquo;</span>
                    </div>
                </div>
                <div>
                    <span class="show-in-map clickable" tabindex="0" role="show-in-map" data-ng-click="toggleMap()">
                        Visa p&#229; kartan <span class="arrow pull-right">»</span>
                    </span>
                </div>
            </div>
        </div>
    </li>
    <li class="real-time-transports" data-ng-show="group.InformationMessage">
        <div class="real-time-transport-item white">
            <span class="real-time-info-message">
                {{group.InformationMessage}}
            </span>
        </div>
        <span class="clickable-icon"></span>
    </li>
</ul>

																				</div>
																				<div data-ng-show="group.Departures.length > 4 && !subpanels['realTimeTransportItemShip' + $index]" class="overflow">
																								<a class="real-time-show-more clickable" data-ng-click="subpanels['realTimeTransportItemShip' + $index] = !subpanels['realTimeTransportItemShip' + $index]" role="button" tabindex="0">
																												Visa senare avg&#229;ngar
																												<span class="show-more-icon"></span>
																								</a>
																				</div>
																</div>
												</li>
								</ul>
				</div>
</section>


<div class="search-favourites row middle-col" id="Favorites" data-ng-controller="searchFavourites" data-ng-cloak>
    <section class="sl-panel" id="FavoritesPanel">
        <h3 class="sl-panel-header">Favoriter</h3>
        <p class="sl-panel-info fav-help-info" data-ng-show="favModel.length == 0" style="position:relative">
            <span class="two-col-abs-left trafic-icon travelIcon"></span>  
            Klicka p&#229; stj&#228;rnan i s&#246;kresultatet f&#246;r att favoritmarkera.
            <span class="two-col-abs-right search-fav-icon"  role="button" tabindex="0"></span>
        </p>
        <ul data-ng-show="favModel.length>0" data-ng-cloak>
            <li class="sl-panel-list" data-ng-class="{active: activeRow == $index}" data-ng-class-even="'even'" data-ng-repeat="favourite in favModel track by $index">
                <div class="search-favourites-item two-col-rel-one" data-ng-if="favourite.type == 'Realtime'">
                    <span class="search-favourite-row two-col-rel-left clickable" data-ng-click="goToFavUrl(favourite.url)" tabindex="0" role="button">
                        <span class="two-col-abs-left trafic-icon stationIcon"></span> 
                        Avg&#229;ngar
                        <span class="sl-emphasized">
                            {{favourite.fromName}}
                        </span>  
                    </span>    
                    <span class="two-col-abs-right search-fav-icon clickable" data-ng-class="{'active': favourite.active}" data-ng-click="saveToFav(favourite)" role="button" tabindex="0">
                        <span data-ng-if="favourite.active == true">Ta bort favorit</span><span data-ng-if="!favourite.active">Spara som favorit</span>
                    </span>
                </div>
                <div class="search-favourites-item  two-col-rel-one"  data-ng-if="favourite.type == 'Travelplanner'">
                    <span class="search-favourite-row two-col-rel-left sl-emphasized clickable" data-ng-click="goToFavUrl(favourite.url)" tabindex="0" role="button">
                        <span class="two-col-abs-left trafic-icon travelIcon"></span> 
                        {{favourite.fromName}} &raquo; {{favourite.toName}}
                        <span class="more-options-text" data-ng-if="favourite.advParamsChanged">Fler val i s&#246;kningen</span>  
                    </span>
                    <span class="two-col-abs-right search-fav-icon clickable" data-ng-class="{'active': favourite.active}" data-ng-click="saveToFav(favourite)" role="button" tabindex="0">
                        <span data-ng-if="favourite.active == true">Ta bort favorit</span><span data-ng-if="!favourite.active">Spara som favorit</span>
                    </span>
                </div>                 
            </li>
        </ul>
    </section>
</div>



        <section class="fake-map SL-map clickable row cloakreverse" data-ng-cloak data-ng-click="toggleMap();" data-ng-hide="!map.locked">
            <div class="SL-map-layer-menu">
            </div>
            <span data-ng-class="{'active': map.locked}"  class="expander-icon clickable" data-ng-click="toggleMap()" role="button" tabindex="0" data-eat-click>&#214;ppna kartan</span>
            <div class="controllPanel" aria-hidden="true">

            </div>
        </section>

        

<div class="news">
    <h3 accesskey="2" tabindex="-1">Aktuellt</h3>
    <ul>
            <li>
                <article class="article" data-article>

                        <header>
                            <h1><a href="/sv/info/nyheter/sl-center-blir-sl-kundtjanst/?date=true">SL Center blir SL Kundtj&#228;nst</a></h1>
                            
                                    <time pubdate datetime="2018-01-20 14:42:00">jan <span>20</span></time>
                        </header>
                        <p>Den 25 januari st&#228;nger SL Center p&#229; Sergels torg f&#246;r ombyggnation.</p>
                </article>
            </li>
            <li>
                <article class="article" data-article>

                        <header>
                            <h1><a href="/sv/info/nyheter/sls-periodbiljetter-i-waxholmsbolagets-trafik/?date=true">SL:s periodbiljetter i Waxholmsbolagets trafik</a></h1>
                            
                                    <time pubdate datetime="2018-01-01 15:21:00">jan <span>01</span></time>
                        </header>
                        <p>Under v&#229;ren och h&#246;sten 2018 kommer den som har en 30-dagars-, 90-dagars- eller en &#229;rsbiljett i SL-trafiken kunna resa med samma biljett i Waxholmsbolagets trafik.</p>
                </article>
            </li>
            <li>
                <article class="article" data-article>

                        <header>
                            <h1><a href="/sv/info/nyheter/pendeltag-2018/forandringar-pa-linje-41x/?date=true">Fler t&#229;g fr&#229;n Rotebro och Ulriksdal ger tidigare avg&#229;ngar f&#246;r snabbt&#229;g fr&#229;n M&#228;rsta</a></h1>
                            
                                    <time pubdate datetime="2018-03-12 16:30:46">mar <span>12</span></time>
                        </header>
                        <p>Fr&#229;n och med m&#229;ndag 19 mars f&#229;r du som reser p&#229; linje 41X fr&#229;n Rotebro eller Ulriksdal tre avg&#229;ngar fler p&#229; vardagsmorgnar. Det inneb&#228;r att sex snabbt&#229;g i morgonrusningen fr&#229;n M&#228;rsta mot Tumba m&#229;ste avg&#229; en minut tidigare fr&#229;n stationerna f&#246;re Rotebro och Ulriksdal. Att SL nu inf&#246;r fler avg&#229;ngar fr&#229;n Rotebro och Ulriksdal beror p&#229; att det varit f&#246;r tr&#229;ngt p&#229; de fyra t&#229;g per timme som stannat p&#229; stationerna.</p>
                </article>
            </li>
            <li>
                <article class="article" data-article>

                        <header>
                            <h1><a href="/sv/info/nyheter/slussen/nya-busshallplatser-i-slussen/?date=true">Nya h&#229;llplatser f&#246;r bussar vid Slussen</a></h1>
                            
                                    <time pubdate datetime="2018-03-08 10:23:55">mar <span>08</span></time>
                        </header>
                        <p>Fr&#229;n och med m&#229;ndag 12 mars avg&#229;r ers&#228;ttningsbussarna f&#246;r Saltsj&#246;banan och busslinjerna 
401, 403, 442 och 442X fr&#229;n nya h&#229;llplatser i Slussen. </p>
                </article>
            </li>
            <li>
                <article class="article" data-article>

                        <header>
                            <h1><a href="/sv/info/nyheter/nya-biljettlasare-i-sl-trafiken/?date=true">Nya biljettl&#228;sare i SL-trafiken</a></h1>
                            
                                    <time pubdate datetime="2018-02-21 16:15:00">feb <span>21</span></time>
                        </header>
                        <p>Under 2018 installerar SL nya biljettl&#228;sare f&#246;r mobilbiljetter i alla sp&#228;rrar och p&#229; 
bussarna och pendelb&#229;tarna. Det g&#246;r att du som har biljetten i mobilen snart kan 
blippa dig ombord p&#229; b&#229;ten, bussen eller t&#229;get. </p>
                </article>
            </li>
            <li>
                <article class="article" data-article>

                        <header>
                            <h1><a href="/sv/info/nyheter/ordningsvakter-i-sl-trafiken-bar-kameror/?date=true">Ordningsvakter i SL-trafiken b&#228;r kameror</a></h1>
                            
                                    <time pubdate datetime="2018-02-14 09:35:47">feb <span>14</span></time>
                        </header>
                        <p>Fr&#229;n och med 14 februari kommer en del av ordningsvakterna som patrullerar i SL-trafiken vara utrustade med kroppsburna kameror. Syftet med kamerorna &#228;r att minska hot och v&#229;ldssituationer mot ordningsvakterna. </p>
                </article>
            </li>
            <li>
                <article class="article" data-article>

                        <header>
                            <h1><a href="/sv/info/nyheter/slussen/busshallplats-rantmastartrappan-dras-in/?date=true">Bussh&#229;llplats R&#228;ntm&#228;startrappan indragen</a></h1>
                            
                                    <time pubdate datetime="2018-01-29 09:07:06">jan <span>29</span></time>
                        </header>
                        <p>Sedan 5 februari stannar inga bussar vid h&#229;llplats R&#228;ntm&#228;startrappan. Du kan i st&#228;llet
kliva av och p&#229; vid h&#229;llplats Slussen eller Slottsbacken.</p>
                </article>
            </li>
            <li>
                <article class="article" data-article>

                        <header>
                            <h1><a href="/sv/info/nyheter/betala-mobilbiljett-med-swish/?date=true">Swisha f&#246;r biljetten fr&#229;n 1 februari</a></h1>
                            
                                    <time pubdate datetime="2018-01-26 16:07:42">jan <span>26</span></time>
                        </header>
                        <p>Fr&#229;n och med den 1 februari 2018 kan du ut&#246;ver bankkort &#228;ven betala med Swish p&#229; sl.se 
och i appen SL Reseplanerare och biljetter. Samtidigt f&#246;rsvinner valet att betala mot faktura. </p>
                </article>
            </li>
    </ul>
    <a href="https://sl.se/sv/find/" class="showMore"><span class="show-more-news-icon"></span>Visa fler</a>
</div>

    </aside>

<section class="map-col">
    


<script>
				var isUnlocked = 'True'.toLowerCase();
</script>
<section data-ng-controller="mapController" class="SL-map" data-ng-cloak data-ng-class="{ 'full-screen': !map.locked}">
				<span data-ng-class="{'active': !map.locked}" data-ng-if="!map.locked" class="contract-icon clickable" data-ng-click="map.locked = true" role="button" tabindex="0">Öppna kartan</span>

				<div class="SL-map-static" data-ng-if="mapUnlocked == 'false'" data-ng-click="$parent.unlockMap()"></div>

				<!-- Layer menu -->
				<div class="SL-map-layer-menu" data-ng-if="mapUnlocked == 'true'">
					<button data-ng-click="toggleLayerMenu()" data-ng-class="{ 'active': showLayerMenu }"></button>
								<ul class="SL-map-layer-menu-layers" data-ng-if="showLayerMenu">
												<li class="SL-map-control" data-ng-repeat="layer in mapModel.layerMenu" data-ng-if="layer.name != 'zoner' ">
																<label for="{{layer.layer_id}}" class="SL-map-label">
																				<input type="checkbox" id="{{layer.layer_id}}" data-ng-model="mapModel.layerMenu[$index].checked" data-ng-class="{ checked: layer.checked }" data-ng-change="toggleLayer(layer)" />
																				<span class="checkbox"></span>
																				<p data-ng-if="layer.name == 'CommuterParking'">Pendelparkering</p>
																				<p data-ng-if="layer.name == 'Site'">H&#229;llplatser</p>
																				<p data-ng-if="layer.name == 'TicketVendor'">F&#246;rs&#228;ljning</p>
																				
																</label>
												</li>
								</ul>
								<ul class="SL-map-layer-zones" data-ng-if="mapModel.layerMenu[3].checked">
												<li data-ng-repeat="zone in mapModel.geojson">
																<div data-ng-style="{background: zone.style.fillColor }"></div> <span class="SL-map-layer-zones-hide-mobile">Zon</span> {{zone.zone}}

												</li>
								</ul>

				</div>

				<div class="SL_zoom_control" data-ng-if="mapUnlocked == 'true'">
								<a class="SL_zoom_in" data-ng-click="zoomIn()" title="Zoom in">+</a>
								<a class="SL_zoom_home" data-ng-click="takeMeHome()"></a>
								<a class="SL_zoom_in" data-ng-click="zoomOut()" title="Zoom out">-</a>
				</div>

				<leaflet data-ng-if="mapUnlocked == 'true'" class="SL-map-canvas" data-geojson-nested="true" data-markers="mapModel.markers" data-geojson="mapModel.geojson" data-paths="mapModel.polylines" data-defaults="mapModel.defaults"></leaflet>


</section>




<section class="row col-wrap teasers" data-ng-hide="!map.locked">
        
        <div class="col-xs-12 col-xxlg-12 ">
            <div class="col-wrap">
                
<a class=" col-sm-12 col-lg-6 col-xxlg-4" href="https://sl.se/sv/info/puffar/tidtabell/">
    <div class="box " data-article>
        <h3>Tidtabellss&#246;kning</h3>
            <img src="/globalassets/puffikoner/tidtabell-b_puff.png" alt="" />
        <p>Tidtabellen f&#246;r en speciell h&#229;llplats eller hel linje i en pdf.</p>
    </div>
</a>
<a class=" col-sm-12 col-lg-6 col-xxlg-4" href="https://sl.se/sv/info/puffar/passera-sparren-med-ett-blipp/">
    <div class="box " data-article>
        <h3>Blippa dig ombord</h3>
            <img src="/globalassets/puffikoner/biljetter-b_puff.png" alt="" />
        <p>Under 2018 g&#246;r vi det enklare f&#246;r dig som reser med mobilbiljett.</p>
    </div>
</a>
<a class=" col-sm-12 col-lg-6 col-xxlg-4" href="https://sl.se/sv/info/puffar/tillganglighet/">
    <div class="box " data-article>
        <h3>En resa f&#246;r alla</h3>
            <img src="/globalassets/puffikoner/funktion-r_puff.png" alt="" />
        <p>S&#229; h&#228;r ser tillg&#228;ngligheten ut i SL-trafiken. </p>
    </div>
</a>
<a class=" col-sm-12 col-lg-6 col-xxlg-4" href="https://sl.se/sv/info/puffar/pafyllning/">
    <div class="box " data-article>
        <h3>Tomt i reskassan? </h3>
            <img src="/contentassets/c281fc04c8fe4456bb98be584edde070/laddareskassa-b_puff.png" alt="" />
        <p>Best&#228;ll automatisk p&#229;fyllning s&#229; har du alltid pengar i reskassan n&#228;r du beh&#246;ver.</p>
    </div>
</a>
<a class=" col-sm-12 col-lg-6 col-xxlg-4" href="https://sl.se/sv/info/puffar/ta-med/">
    <div class="box " data-article>
        <h3>V&#228;skor, vovvar, villkor</h3>
            <img src="/globalassets/puffikoner/hund-g_puff.png" alt="" />
        <p>S&#229;nt du f&#229;r ta med dig p&#229; resan. Och s&#229;nt du m&#229;ste l&#228;mna hemma.&#160;</p>
    </div>
</a>
<a class=" col-sm-12 col-lg-6 col-xxlg-4" href="https://sl.se/sv/info/puffar/trygghetscentralen/">
    <div class="box " data-article>
        <h3>N&#229;gon som st&#246;r?</h3>
            <img src="/globalassets/puffikoner/trygghet-r_puff.png" alt="" />
        <p>Ring trygghetscentralen 020 120 25 25.</p>
    </div>
</a>
            </div>
        </div>
</section>


</section>

</div>



            </div>
            
            <div class="push"><div data-ng-view></div></div>
        </main>


<footer data-ng-controller="siteFooter" class="site-footer" data-ng-hide="!map.locked">
    <nav class="container">
        <div class="site-footer-block">
            <ul class="site-footer-menu">
                        <li><a href="https://sl.se/sv/" target="_self">Start &raquo;</a></li>
                        <li><a href="https://sl.se/sv/reseinfo/" target="_self">Resinfo &raquo;</a></li>
                        <li><a href="https://sl.se/sv/kop-biljett/" target="_self">K&#246;p biljett &raquo;</a></li>
                        <li><a href="https://sl.se/sv/mitt-sl/konto/" target="_self">Mitt SL &raquo;</a></li>
                        <li><a href="https://sl.se/sv/kundservice/" target="_self">Kundservice &raquo;</a></li>
                        <li><a href="https://sl.se/sv/info/lattlast/lattlast/" target="_self">L&#228;ttl&#228;st &raquo;</a></li>
                        <li><a href="https://sl.se/sv/info/om-sl/om-sl/" target="_self">Det h&#228;r &#228;r SL &raquo;</a></li>
                        <li><a href="https://sl.se/sv/info/kundservice/villkor/" target="_self">SL:s allm&#228;nna villkor &raquo;</a></li>
                        <li><a href="https://sl.se/sv/info/om-sl/om-webbplatsen/" target="_self">Om webbplatsen &raquo;</a></li>
                                      <li><a href="https://sl.se/en/">Visitor information in English &raquo;</a></li>
                               
            </ul>            


            
        </div>
        <div class="site-footer-block contact-us" accesskey="7" tabindex="-1">
            <h2>Kontakta oss</h2>
<p>SL:s kundtjänst har öppet dygnet runt alla dagar på telefonnummer</p>
<p><strong><a href="/sv/kundservice/"> 08 600 10 00</a>.</strong></p>
<p>Har du tappat något på bussen eller tåget?&nbsp;</p>
<p><a href="/sv/info/kundservice/hittegods/">Hitta till hittegodsavdelningen&nbsp;»</a>&nbsp;</p>
<p>På SL Center får du personlig hjälp över disk med biljetter, reklamationer och information.</p>
<p><a href="/sv/info/kundservice/sl-center/"> Adresser och öppettider »</a></p>
<p>Med hjälp av dina synpunkter kan vi göra SL-trafiken bättre</p>
<p><a href="/sv/kundservice/">Skriv till oss »</a></p>
        </div>
        <div class="site-footer-block">
            <h2>Externa l&#228;nkar</h2>
            <ul class="site-footer-menu" data-footer-menu>
                        <li><a href="http://b2b.sl.se/sv/Foretagare/Foretag/" target="_blank">Biljetter till f&#246;retag (nytt f&#246;nster) &raquo;</a></li>
                        <li><a href="http://b2b.sl.se/sv/Foretagare/Skola/" target="_blank">Biljetter till skolor (nytt f&#246;nster) &raquo;</a></li>
                        <li><a href="http://b2b.sl.se/sv/Foretagare/Salja-SL-biljetter/" target="_blank">Biljetter till ombud &amp; &#229;terf&#246;rs&#228;ljare (nytt f&#246;nster) &raquo;</a></li>
                        <li><a href="http://www.sll.se" target="_blank">Stockholms l&#228;ns landstings webbplats sll.se (nytt f&#246;nster) &raquo;</a></li>
                        <li><a href="http://www.waxholmsbolaget.se/" target="_blank">Waxholmsbolagets webbplats (nytt f&#246;nster) &raquo;</a></li>
                        <li><a href="http://www.fardtjansten.sll.se/" target="_blank">F&#228;rdtj&#228;nstwebben (nytt f&#246;nster) &raquo;</a></li>
                        <li><a href="https://sl.se/sv/info/om-sl/press/" target="_blank">Pressinformation (nytt f&#246;nster) &raquo;</a></li>
               
            </ul>       
            
        </div>
        <div class="site-footer-block multi-block">
            <div class="social-media">
                <h2>Sociala medier</h2>
                <div><div><a href="http://www.facebook.com/KanalSL" class=&quot;&quot; target="_blank">
            <span class="social-media-icon facebook">facebook</span>

</a>
</div><div><a href="http://www.youtube.com/KanalSL" class=&quot;&quot; target="_blank">
            <span class="social-media-icon youtube">youtube</span>

</a>
</div></div>
            </div>
            <div class="social-media">
                <h2>Ladda ner v&#229;r app</h2>
                <div><div><a href="https://itunes.apple.com/se/app/sl-reseplanerare-och-biljetter/id918418291?mt=8" class=&quot;&quot; target="_blank">
            <img alt="" src="/resources/img/app-store.svg" >

</a>
</div><div><a href="https://play.google.com/store/apps/details?id=com.sl.SLBiljetter&amp;hl=sv" class=&quot;&quot; target="_blank">
            <img alt="" src="/resources/img/google-play.svg" >

</a>
</div></div>
            </div>
            <nav class="site-footer-search" data-ng-controller="SiteSearchCtrl" data-ng-cloak>
                <label for="footer_search">S&#246;k</label>
                <div class="search-line search-field">
                    <div class="form-error error" data-ng-show="footerSearchForm.query.$invalid">
                        <p><span class="form-error-icon"></span>{{error}}</p>
                    </div>
<form action="/sv/find/" method="get" name="footerSearchForm">                        <input id="footer_search" type="text" name="query" class="input-medium search-query" maxlength="{{formParams.textLimit}}" data-ng-model="searchTerm" data-ng-pattern="/^[\w\s\u00C0-\u0231-´'`:()]+$/" data-form="footerSearchForm" data-validate-on-enter="{{footerSearchForm.query.$invalid}}" accesskey="4" />
                        <button type="submit" class="button-primary clickable" data-ng-class="{ disabled: footerSearchForm.query.$invalid }" data-ng-click="submitForm('footerSearchForm', footerSearchForm.query.$invalid)" data-ng-disabled="footerSearchForm.query.$invalid">S&#246;k</button>
</form>                </div>
            </nav>
        </div>
</nav>
</footer>
        <script src="https://sl.se//resources/dynamic/js/site.js"></script>
        
          
        
        <script src="/ui.axd/sv/bundles/js/sl.core.js?v=2018.01.15.0"></script> 

         

<script>
    
    var showTravelplanner = function () {
        $("#TravelplannerTab").addClass("active");
        $("#Travelplanner").removeAttr("data-ng-cloak");
        $("#Realtime").addClass("ng-hide");
    };
    var showNextDeparture = function() {
        $("#RealtimeTab").addClass("active");
        $("#NextDepartureButton").removeAttr("data-ng-cloak");
    };
    var href = window.location.href.split("#"),
        path = href.length > 1 ? href[1].replace("/", "") : "";
    if (href.length == 1 || path == "") {
        
        if (Modernizr.localstorage) {
            if (window.localStorage["ls.latestSearchType"] == "realtime") {
                showNextDeparture();
            } else {
                showTravelplanner();
            }
        } else { 
            
            showTravelplanner();
        }
    } else {
        
        path = path.split("/")[0];
        switch (path) {
        case "Travel":
            showTravelplanner();
            break;
        case "Realtime":
            showNextDeparture();
            break;
        default:
            showTravelplanner();
        }
    }
    
    
    if (Modernizr.localstorage) {
        var favorites = window.localStorage["ls.favoriteSearch"];
        favorites = favorites != null && favorites != "null" ? JSON.parse(favorites) : [];
        
        if (favorites.length > 0) {
            var ul = $("<ul />").attr("id", "FavList"),
            i,
            l = favorites.length,
            li,
            item,
            button,
            icon,
            fav,
            moreOptions;

            $("#Favorites").removeAttr("data-ng-cloak");
        
            for (i = 0; i < l; i++) {
                icon = $("<span />").addClass("two-col-abs-left trafic-icon");
                button = $("<span />")
                    .addClass("search-favourite-row two-col-rel-left clickable");
                if (favorites[i].type == "Realtime") {
                    icon.addClass("stationIcon");
                    button
                        .html("Avg&#229;ngar")
                        .prepend(icon)
                        .append(" <span class='sl-emphasized'>" + favorites[i].fromName + "</span>");
                } else {
                    icon.addClass("travelIcon");
                    button
                        .addClass("sl-emphasized")
                        .html(favorites[i].fromName + " &raquo " + favorites[i].toName)
                        .prepend(icon);
                    if (favorites[i].advParamsChanged == "1") {
                        moreOptions = $("<span />")
                            .addClass("more-options-text")
                            .html("Fler val i s&#246;kningen");
                        button.append(moreOptions);
                    }
                }
                item = $("<div />")
                    .addClass("search-favourites-item two-col-rel-one")
                    .append(button);
                fav = $("<span />").addClass("two-col-abs-right search-fav-icon clickable active");
                item.append(fav);
                li = $("<li />")
                    .addClass("sl-panel-list")
                    .append(item);
                if (i % 2 == 1) {
                    li.addClass("even");
                }
                ul.append(li);
            }
            $("#FavoritesPanel").append(ul);
        }
    }
</script>        
        <script src="/ui.axd/sv/bundles/js/sl.critical.js?v=2018.01.15.0"></script>
        <script src="/ui.axd/sv/bundles/js/sl.map.js?v=2018.01.15.0"></script>
        
            <!-- Adobe Marketing Cloud Tag Loader Code
            Copyright 1996-2014 Adobe, Inc. All Rights Reserved
            More info available at http://www.adobe.com/solutions/digital-marketing.html -->
            <script>//<![CDATA[
                var amc = amc || {};
                if (!amc.on) {
                    amc.on = amc.call = function () {
                    };
                };
                document.write("<scr" + "ipt type=\"text/javascript\" src=\"//sl.se/resources/scripts/libs/sitecatalyst/AppMeasurement_p.js\"><\/sc" + "ript>");
            //]]></script>
            <!-- End Adobe Marketing Cloud Tag Loader Code -->
        <script>
            var shareTranslate = 'Dela';
        </script>

        <script><!--
            pageLoadData.server = "101";
            pageLoadData.host = "sl.se";
            pageLoadData.pagename = "Start";
            pageLoadData.sitelevel1 = "";
            pageLoadData.sitelevel2 = "";
            pageLoadData.language = "svenska";
            window.SiteCatalyst.TrackClient("PageLoad", pageLoadData);
            /************* DO NOT ALTER ANYTHING BELOW THIS LINE ! **************/
            if (typeof s != "undefined") {
                var s_code = s.t();
                if (s_code) document.write(s_code);
            }

            if (navigator.appVersion.indexOf('MSIE') >= 0) document.write(unescape('%3C') + '\!-' + '-');

            function preparePrint() {
                document.write("<li" + "nk href=\"/Resources/styles/output/print.min.css?v=2018.01.15.0\" media='print' rel='stylesheet'><\/li" + "nk>");
                document.write("<img src=\"/Resources/img/sl_logo_print.png\" style=\"display:none;\" />");
            }

            preparePrint();
        //-->
        </script>
        <noscript>
            <img src="//storstockholmslokaltrafik.112.2o7.net/b/ss/slseprod/1/H.26.1--NS/0" height="1" width="1" border="0" alt="" />
        </noscript>
        
    </body>
</html>