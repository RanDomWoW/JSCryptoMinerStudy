<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
<!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Fly Egypt</title>
    <meta name="description" content="Fly Egypt">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
    <link rel="stylesheet" href="assets/scss/main.css">
    <link href="assets/scss/jquery-ui-1.12.1/jquery-ui.min.css" rel="stylesheet" type="text/css">
    <!--[if lt IE 9]>
            <script src="js/vendor/respond.min.js"></script>
        <![endif]-->
</head>

<body class="home-page">
    <!--[if lt IE 7]>
    <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="index.html">upgrade your browser</a> to improve your experience.</p>
<![endif]-->
    <nav class="navbar navbar-default">
        <div class="container">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="index.html">Fly Egypt</a>
                </div>
                <div class="top-line visible-lg">
                    <div class="language pull-right"><i class="icon ico-english"></i> English</div>
                    <div class="news-ticker pull-right">Complete ban on Samsung Galaxy Note 7 on Fly Egypt Flights</div>
                </div>
                <div id="navbar" class="navbar-collapse collapse clearfix">
                    <ul class="nav navbar-nav navbar-right">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="e#" data-toggle="modal" data-target="#manageTrip">Manage Trip</a></li>
                        <li><a href="experience.html">Experience</a></li>
                        <li><a href="quotation.php">Travel/Tour Agents</a></li>
                        <li><a href="career.html">Careers</a></li>
                        <li><a href="contact.php">Help & Contacts</a></li>
                    </ul>
                </div>
                <!--/.nav-collapse -->
            </div>
            <!--/.container-fluid -->
        </div>
    </nav>
    <div class="carousel fade-carousel slide" data-ride="carousel" data-interval="4000" id="bs-carousel">

        <!-- Wrapper for slides -->
        <div class="carousel-inner">
            <div class="item slides active">
                <div class="slide-1"></div>
            </div>
            <div class="item slides">
                <div class="slide-2"></div>
                <div class="hero visible-lg">
                    <div>
                        <h3>Fly to <span class="big">JEDDAH</span>
                        <br/>Effective from 01<sup>st</sup> January, 2018</h3>
                    </div>
                </div>
            </div>
            <div class="item slides">
                <div class="slide-3"></div>
            </div>
            <div class="item slides">
                <div class="slide-4"></div>
            </div>
            <div class="item slides">
                <div class="slide-5"></div>
                <div class="hero visible-lg">
                    <div>
                        <h3>Discover <span class="big">EGYPT</span> </br> <span class="small"> Alexandria, Cairo,Sharm el Sheikh, Hurghada, Assuit</span></h3>
                    </div>
                </div>
            </div>
            <div class="item slides">
                <div class="slide-6"></div>
                <div class="hero visible-lg">
                    <div>
                        <h3>Discover <span class="big">AMMAN</span></h3>
                    </div>
                </div>
            </div>
            <div class="item slides">
                <div class="slide-7"></div>
            </div>
        </div>
        <!-- Controls -->
        <a class="left carousel-control visible-lg" href="#bs-carousel" role="button" data-slide="prev">
            <span class="fa fa-angle-left " aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control visible-lg" href="#bs-carousel" role="button" data-slide="next">
            <span class="fa fa-angle-right " aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
        <div class="container">
            <div class="search-box">
                <div id="exTab1">
                    <ul class="nav nav-pills">
                        <li class="active">
                            <a href="#1a" data-toggle="tab"><i class="icon ico-flight"></i> Flight</a>
                        </li>
                        <li>
                            <a href="#3a" data-toggle="tab"><i class="icon ico-hotel"></i> Hotel</a>
                        </li>
                        <li>
                            <a href="#2a" data-toggle="tab"><i class="icon ico-flight-hotel"></i> Flight + Hotel</a>
                        </li>
                        <li>
                            <a href="#4a" data-toggle="tab"><i class="icon ico-car">&nbsp;</i></a>
                        </li>
                    </ul>
                    <div class="tab-content clearfix">
                        <div class="tab-pane active" id="1a">
                            <div class="tabed-search-form">
                                <form class="form-horizontal" role="form" id="MSF_main_form">
                                    <div class="row search-type-row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="col-sm-3 control-label">Search Type</label>
                                                <div class="col-sm-9">
                                                    <select class="form-control" id="MSF_search_type">
                                                        <option value="OW" selected="selected">OneWay</option>
                                                        <option value="RT">Return</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-6 change-width">
                                            <div class="form-group">
                                                <label class="control-label" data-i18n="search.field.from">From</label>
                                                <input type="text" required class="form-control" tabindex="1" id="MSF_from">
                                                <span class="icons down-arrow" aria-hidden="true"></span>
                                            </div>
                                            <div class="form-group dep-col  initial-hide">
                                                <label class="control-label" data-i18n="search.field.departure">Departure date</label>
                                                <input type="text" required class="form-control" tabindex="3" readonly id="MSF_dep_date">
                                                <span class="icons calendar" aria-hidden="true"></span>
                                            </div>
                                        </div>
                                        <div class="col-sm-6 change-width">
                                            <div class="form-group">
                                                <label class="control-label" data-i18n="search.field.to">To</label>
                                                <input type="text" required class="form-control" tabindex="2" id="MSF_to">
                                                <span class="icons down-arrow" aria-hidden="true"></span>
                                            </div>
                                            <div class="form-group ret-col  initial-hide">
                                                <label class="control-label" data-i18n="search.field.return">Return date</label>
                                                <input type="text" required class="form-control" tabindex="4" readonly id="MSF_ret_date" >
                                                <span class="icons calendar" aria-hidden="true"></span>
                                            </div>
                                        </div>

                                        <div class="col-sm-2  initial-hide">
                                            <ul class="nav nav-tabs" id="MSF_tab_control">
                                                <li >One Way <a href="#oneway" data-type="OW" data-i18n="search.type.oneway">One Way</a></li>
                                                <li class="active">Return <a href="#return" data-type="RT" data-i18n="search.type.return">Return</a></li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="row initial-hide">
                                        <div class="col-md-9 pax-spinners inline-pax" id="MSF_pax_types">
                                            <div class="itm">
                                                <div class="form-group">
                                                    <label class="control-label">Adults</label>
                                                    <input type="text" readonly class="form-control" id="MSF_ADT" name="pax['adults']" placeholder="Adults">
                                                </div>
                                            </div>
                                            <div class="itm">
                                                <div class="form-group">
                                                    <label class="control-label">Children</label>
                                                    <input type="text" readonly class="form-control" id="MSF_CHD" name="pax['children']" placeholder="Children">
                                                    <small>Age 2 - 11</small>
                                                </div>
                                            </div>
                                            <div class="itm">
                                                <div class="form-group">
                                                    <label class="control-label">Infant</label>
                                                    <input type="text" readonly class="form-control" id="MSF_INF" name="pax['infant']" placeholder="Infant">
                                                    <small>Age &lt; 2</small>
                                                </div>
                                            </div>
                                            <div class="itm">
                                                <div class="form-group cabin-selector">
                                                    <label class="control-label" data-i18n="search.field.cabinclass">Currency</label>
                                                    <select class="form-control" tabindex="10" id="PRSF_currency_selector">
                                                        <option value="">&nbsp;</option>
                                                        <option value="EGP">EGP - Egyptian Pound</option>
                                                        <option value="KWD">KWD - Kuwaiti Dinar</option>
                                                        <option value="JOD">JOD - Jordanian Dinar</option>
                                                        <option value="SAR">SAR - Saudi Arabian Riyal</option>
                                                        <!--option value="AED">AED - UAE Dirham</option -->
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <button id="MSF_search_form_do" type="submit" data-i18n="btn.search" class="btn btn-primary flip pull-right">Search
                                            </button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <form id="searchForm" target="_top" method="post" action="https://booking.flyeg.com/ibe/FT/home">
                                <input id="externalSearchRequest" type="hidden" name="externalSearchRequest" />
                            </form>
                        </div>
                        <div class="tab-pane  text-center" id="2a">
                            <br>
                            <img src="assets/img/coming-soon-hotel-flights.jpg">
                        </div>
                        <div class="tab-pane" id="3a" style="height: 295px">
                            <ins class="bookingaff" data-aid="1192410" data-target_aid="1192094" data-prod="nsb" data-width="100%" data-height="300">
                                <!-- Anything inside will go away once widget is loaded. -->
                                <a href="//www.booking.com?aid=1192094">Booking.com</a>
                            </ins>
                            <script type="text/javascript">
                                (function(d, sc, u) {
                                    var s = d.createElement(sc), p = d.getElementsByTagName(sc)[0];
                                    s.type = 'text/javascript';
                                    s.async = true;
                                    s.src = u + '?v=' + (+new Date());
                                    p.parentNode.insertBefore(s,p);
                                })(document, 'script', '//aff.bstatic.com/static/affiliate_base/js/flexiproduct.js');
                            </script>

                        </div>
                        <div class="tab-pane text-center" id="4a">
                            <br>
                            <img src="assets/img/coming-soon-cars-b.jpg" >
                        </div>
                        <div class="tab-pane text-center" id="5a">
                            <br>
                            <img src="assets/img/coming-soon-hotdeals-b.jpg">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="intro">
        <div class="container ">
            <div class="row">
                <div class="col-md-3 travel-choice">
                    <img src="assets/img/travel-choice.jpg" />
                </div>
                <div class="col-md-3 intro-section">
                    <div class="icon ico-reliability"></div>
                    <h2>Reliability</h2>
                    <p>Modern and well maintained fleet.Highly qulified operations team, On Time perfomance</p>
                </div>
                <div class="col-md-3 intro-section">
                    <div class="icon ico-comfort"></div>
                    <h2>Comfort</h2>
                    <p>Travel in total comfort from booking to destination</p>
                </div>
                <div class="col-md-3 intro-section">
                    <div class="icon ico-value"></div>
                    <h2>Guaranteed Value</h2>
                    <p>Get the most out of your money </p>
                </div>
            </div>
        </div>
    </div>
    <div class="destinations">
        <div class="container">
           <div class="h-wrapper clearfix">
               <h2>Promotions</h2>
               <hr>
           </div>
            <div class="row">
                <div class="col-md-3 col-xs-6 destination-item" data-toggle="modal" data-target="#callUsModal">
                    <h3>Kuwait</h3>
                    <img class="img-responsive" src="assets/img/kuwait.jpg" alt="">
                    <h4></h4>
                    <p>Weekend Offer</p>
                </div>
                <div class="col-md-3 col-xs-6 destination-item"  data-toggle="modal" data-target="#callUsModal">
                    <h3>Abu Dhabi</h3><img class="img-responsive" src="assets/img/abudhabi.jpg" alt="">
                    <h4></h4>
                    <p>Flight + Hotel + Visa</p>
                </div>
                <div class="col-md-3 col-xs-6 destination-item"  data-toggle="modal" data-target="#callUsModal">
                    <h3>Amman</h3>
                     <img class="img-responsive" src="assets/img/amman.jpg" alt="">
                    <h4></h4>
                    <p>Limited Seats</p>
                </div>
                <div class="col-md-3 col-xs-6 destination-item"  data-toggle="modal" data-target="#callUsModal">
                    <h3>Alexandria</h3>
                    <img class="img-responsive" src="assets/img/alexandria.jpg" alt="">
                   <h4></h4>
                    <p>Weekend offer</p>
                </div>
            </div>
        </div>
    </div>
    <div class="partners">
        <div class="container">
            <div class="h-wrapper clearfix">
                <h2>Our Success Partners</h2>
                <hr>
            </div>
            <div class="row">
                <div class="col-md-2 col-xs-6 partner-itm ">
                    <img src="assets/img/partners/tmg.jpg">
                </div>
                <div class="col-md-2 col-xs-6 partner-itm">
                    <img src="assets/img/partners/egypt-air.jpg">
                </div>
                <div class="col-md-2 col-xs-6 ">
                    <img src="assets/img/partners/areo-angels.jpg">
                </div>
                <div class="col-md-2 col-xs-6 partner-itm">
                    <img src="assets/img/partners/iata-iosa.jpg">
                </div>
                <div class="col-md-2 col-xs-6 partner-itm">
                    <img src="assets/img/partners/iata-member.jpg">
                </div>



            </div>
        </div>
    </div>
    <footer>
        <div class="container">
            <div class="row">
                <div class="footer-menu col-md-7 ">
                    <ul>
                        <li><a href="quotation.php">Travel/Tour Agents</a></li>
                        <li><a href="Conditions%20&%20terms.pdf" target="_blank">Conditions of Carriage</a></li>
                        <li><a href="Conditions%20&%20terms.pdf" target="_blank">Our Policies</a></li>
                        <li><a href="career.html">Careers</a></li>
                        <li><a href="about.php">About Us</a></li>
                        <li><a href="experience.html">Experience</a> </li>
                        <li><a href="news.php">Newsroom</a> </li>
                        <li><a href="partners.html">Our Partners</a> </li>
                        <li><a href="comingsoon.html">Timetable</a> </li>
                        <li><a href="comingsoon.html">FAQs</a> </li>
                        <li><a href="comingsoon.html">How to book</a> </li>
                        <li><a href="howtopay.html"> How to Pay</a> </li>
                        <li><a href="contact.php">Contact Us</a> </li>
                        <li><a href="contact.php">Feedback Form</a> </li>
                        <li><a href="comingsoon.html">Live Chat</a> </li>
                        <li><a href="gallery.php">Gallery</a> </li>
                    </ul>
                </div>
                <div class="footer-col col-md-5 nopadding">
                    <div class="subscribe pull-left">
                        <a href="comingsoon.html"><span class="pull-left yellow-txt">Subscribe to our newsletter</span><span class="arrow"> > </span></a>
                    </div>
                    <div class="social pull-left">
                        <div>Follow Us</div>
                        <ul class="list-inline">
                            <!-- <li>
                                        <a href="https://www.facebook.com/Flyegypt-1034512433281477" class="btn-social btn-outline" target="_blank"><i class="fa fa-fw fa-facebook"></i></a>
                                    </li> -->
                            <li>
                                <a href="https://twitter.com/FlyEGOfficial" class="btn-social btn-outline" target="_blank"><i class="fa fa-fw fa-twitter"></i></a>
                            </li>
                            <li>
                                <a href="https://www.linkedin.com/company/flyegypt" class="btn-social btn-outline" target="_blank"><i class="fa fa-fw fa-linkedin"></i></a>
                            </li>
                            <li>
                                <a href="https://www.instagram.com/flyegypt/" class="btn-social btn-outline" target="_blank"><i class="fa fa-fw fa-instagram"></i></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

        </div>
        <div class="copyright">
            <div class="container">
                <div class="row ">
                    <div class="col-md-12 ">Copyright 2017 Fly Egypt All rights reserved.</div>
                </div>
            </div>
        </div>
    </footer>
    <!-- /container -->
    <!-- Modals -->
    <div class="modal fade" id="callUsModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">Call Us</h4>
                </div>
                <div class="modal-body">
                    <h4 class="text-center">Reserve now by calling FlyEgypt <br>Phone:(002) 02 226 944 65</h4>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="manageTrip" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="">Manage  Trip</h4>
                </div>
                <div class="modal-body">
                    <form id="GBS_search_form" class="manage-booking">
                        <div class="form-group">
                            <label class="control-label " data-i18n="search.lastName">Last Name</label>
                            <input data-label="Last Name" type="text" required="" id="lastName" class="form-control">
                        </div>
                        <div class="form-group">
                            <label class="control-label " data-i18n="search.bookingReference">Booking Reference</label>
                            <input data-label="Booking Reference" type="text" required="" id="recordIdentifier" class="form-control">
                        </div>
                        <button id="GBS_search_booking" type="submit" class="btn btn-primary flip pull-right">Manage</button>
                        <div class="clearfix"></div>
                    </form>
                    <form id="searchForm" target="_top" method="get" action="https://booking.flyeg.com/ibe/FT/home">
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="abuDhabi" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" >&nbsp;</h4>
                </div>
                <div class="modal-body">
                    <img src="assets/img/banner-abuDhabi.jpg" class="img-responsive">
                </div>
            </div>
        </div>
    </div>

    <script src="assets/js/main.min.js"></script>

    <script src="assets/scss/jquery-ui-1.12.1/jquery-ui.js"></script>
    <script src="assets/js/underscore.js"></script>

    <script>
        (function () {

            $.widget("proavos.catcomplete", $.ui.autocomplete, {
                _create: function () {
                    this._super();
                    this.widget().menu("option", "items", "> :not(.ui-autocomplete-category)");
                },
                _renderMenu: function (ul, items) {
                    var that = this,
                        currentCategory = "";
                    $.each(items, function (index, item) {
                        var li;
                        if (item.category != currentCategory) {
                            ul.append("<li class='ui-autocomplete-category'>" + item.category + "</li>");
                            currentCategory = item.category;
                        }
                        li = that._renderItemData(ul, item);
                        if (item.category) {
                            li.attr("aria-label", item.category + " : " + item.label);
                        }
                    });
                }
            });

            var carrierCode = "FT";
            var ondAutoComplete = JSON.parse('[{"value":"HBE(Borg Elarab Airport)","codes":"HBE","code":"HBE","countryCode":"EG","isAirport":true,"displayShortName":"Alexandria","airlineID":null},{"value":"AMM(Queen Alia International Airport)","codes":"AMM","code":"AMM","countryCode":"JO","isAirport":true,"displayShortName":"Amman","airlineID":null},{"value":"ATZ(Assuit Airport)","codes":"ATZ","code":"ATZ","countryCode":"EG","isAirport":true,"displayShortName":"Assiut","airlineID":null},{"value":"KWI(Kuwait International Airport)","codes":"KWI","code":"KWI","countryCode":"KW","isAirport":true,"displayShortName":"Kuwait","airlineID":null},{"value":"SSH(Sharm el Sheikh International Airport)","codes":"SSH","code":"SSH","countryCode":"EG","isAirport":true,"displayShortName":"Sharm El Sheik","airlineID":null},{"value":"HMB(Sohag Airport)","codes":"HMB","code":"HMB","countryCode":"EG","isAirport":true,"displayShortName":"Sohag","airlineID":null},{"value":"NAP(Naples Airport)","codes":"NAP","code":"NAP","countryCode":"EG","isAirport":true,"displayShortName":"Naples","airlineID":null},{"value":"LXR(Luxor International Airport)","codes":"LXR","code":"LXR","countryCode":"EG","isAirport":true,"displayShortName":"Luxor","airlineID":null},{"value":"HRG(Hurghada International Airport)","codes":"HRG","code":"HRG","countryCode":"EG","isAirport":true,"displayShortName":"Hurghada","airlineID":null},{"value":"JED(King Abdulaziz International Airport)","codes":"JED","code":"JED","countryCode":"EG","isAirport":true,"displayShortName":"Jeddah","airlineID":null}]');
            var $searchFrom = $(".tabed-search-form");
            var dateFormat = 'dd/mm/yy';
            var searchType = 'RT';
            var availabilitySearchType = {
                OW: 'OW',
                RT: 'RT'
            };
            var PROAVOS = {};

            var countryFirstONDList = [];
            $.each(ondAutoComplete, function (i, ond) {
                ond.value = ond.code + ' (' + ond.displayShortName + ')';
                countryFirstONDList.push(ond);
            });
            ondAutoComplete = _.sortBy(countryFirstONDList, 'code');
            ondAutoComplete = _.filter(ondAutoComplete, function (d) {
                return d.isAirport;
            });

            $searchFrom.find('.nav-tabs').on('click', 'a', function () {
                var $this = $(this);
                var type = $this.attr('data-type');

                if (type == 'MC') {
                    return false;
                }

                $searchFrom.find('.nav-tabs li').removeClass('active');
                $this.parent().addClass('active');
                $searchFrom.find("#MSF_search_type").val(type);
                searchType = type;

                if (type == 'RT') {
                    $searchFrom.find(".ret-col").show();
                    $searchFrom.find("#MSF_ret_date").removeAttr('disabled');
                    searchType = 'RT';
                } else {
                    $searchFrom.find(".ret-col").hide();
                    $searchFrom.find("#MSF_ret_date").attr('disabled', 'disabled');
                    searchType = 'OW';
                }

            });

            $searchFrom.find('#MSF_dep_date').datepicker({
                minDate: 0,
                numberOfMonths: 2,
                dateFormat: dateFormat,
                onSelect: function (selectedDate) {
                    $searchFrom.find('#MSF_ret_date').datepicker("option", "minDate", selectedDate);
                }
            });

            $searchFrom.find('#MSF_ret_date').datepicker({
                numberOfMonths: 2,
                dateFormat: dateFormat,
                minDate: 0
            });

            $searchFrom.find('#MSF_ADT').spinner({
                min: 1
            }).spinner("value", 1);

            $searchFrom.find('#MSF_CHD').spinner({
                min: 0
            }).spinner("value", 0);

            $searchFrom.find('#MSF_INF').spinner({
                min: 0,
                max: 1
            }).spinner("value", 0);


            $searchFrom.find('#MSF_ADT').spinner("option", "spin", function (event, ui) {
                $searchFrom.find('#MSF_INF').spinner("option", "max", ui.value);
            });


            $searchFrom.find('#MSF_from , #MSF_to').autocomplete({
                minLength: 0,
                source: ondAutoComplete,
                autoFocus: true,
                select: function (event, ui) {
                    $(this).val(ui.item.label);
                    if (!_.isEmpty($('#MSF_to').val())) {
                        $('.initial-hide').removeClass('initial-hide');
                        $('.change-width').removeClass('col-sm-6');
                        $('.change-width').addClass('col-sm-5');
                        $('.search-box').addClass('search-box-expand');
                    }
                    return false;
                },
                change: function (event, ui) {
                    $(this).val((ui.item ? ui.item.label : ""));
                }
            }).on('focus', function (event) {
                $(this).autocomplete("search", '');
            });

			  $searchFrom.find('#MSF_from').autocomplete('option', 'select', function(event, ui) {
				$(this).val(ui.item.label);

				var airportCode = ui.item.value;
					airportCode = airportCode.substr(0, 3)

				//alert(airportCode);

				if (!_.isNull(airportCode)) {

				  var getAirportData = function() {
					//do the remote call and get the actual list
					var ondAutoComplete;

						ondAutoComplete = JSON.parse('[{"value":"HBE(Borg Elarab Airport)","codes":"HBE","code":"HBE","countryCode":"EG","isAirport":true,"displayShortName":"Alexandria","airlineID":null},{"value":"AMM(Queen Alia International Airport)","codes":"AMM","code":"AMM","countryCode":"JO","isAirport":true,"displayShortName":"Amman","airlineID":null},{"value":"ATZ(Assuit Airport)","codes":"ATZ","code":"ATZ","countryCode":"EG","isAirport":true,"displayShortName":"Assiut","airlineID":null},{"value":"KWI(Kuwait International Airport)","codes":"KWI","code":"KWI","countryCode":"KW","isAirport":true,"displayShortName":"Kuwait","airlineID":null},{"value":"SSH(Sharm el Sheikh International Airport)","codes":"SSH","code":"SSH","countryCode":"EG","isAirport":true,"displayShortName":"Sharm El Sheik","airlineID":null},{"value":"HMB(Sohag Airport)","codes":"HMB","code":"HMB","countryCode":"EG","isAirport":true,"displayShortName":"Sohag","airlineID":null},{"value":"NAP(Naples Airport)","codes":"NAP","code":"NAP","countryCode":"EG","isAirport":true,"displayShortName":"Naples","airlineID":null},{"value":"LXR(Luxor International Airport)","codes":"LXR","code":"LXR","countryCode":"EG","isAirport":true,"displayShortName":"Luxor","airlineID":null},{"value":"HRG(Hurghada International Airport)","codes":"HRG","code":"HRG","countryCode":"EG","isAirport":true,"displayShortName":"Hurghada","airlineID":null},{"value":"JED(King Abdulaziz International Airport)","codes":"JED","code":"JED","countryCode":"EG","isAirport":true,"displayShortName":"Jeddah","airlineID":null}]');

					return ondAutoComplete;
				  };

				  var countryFirstONDList = [];
				  $.each(getAirportData(), function (i, ond) {
					ond.value = ond.code + ' (' + ond.displayShortName + ')';
					countryFirstONDList.push(ond);
				  });
				  var filteredOndList = _.filter(countryFirstONDList, function(d) {
					return d.codes != airportCode
				  });

				  if(airportCode==='ATZ'){
					filteredOndList = _.reject(filteredOndList, function(item) {
					  return item.code === 'ATZ' || item.code === 'SSH' || item.code === 'HMB' || item.code === 'HBE' || item.code === 'NAP' || item.code === 'LXR' || item.code === 'HRG' || item.code === 'JED';
					});
				  }

				  if(airportCode==='SSH'){
					filteredOndList = _.reject(filteredOndList, function(item) {
					  return item.code === 'SSH' || item.code === 'HMB' || item.code === 'HBE' || item.code === 'AMM' || item.code === 'ATZ' || item.code === 'LXR' || item.code === 'HRG' || item.code === 'JED';
					});
				  }

				  if(airportCode==='HMB'){
					filteredOndList = _.reject(filteredOndList, function(item) {
					  return item.code === 'HMB' || item.code === 'SSH' || item.code === 'NAP' || item.code === 'HBE' || item.code === 'AMM' || item.code === 'ATZ' || item.code === 'LXR' || item.code === 'HRG';
					});
				  }

				  if(airportCode==='HBE'){
					filteredOndList = _.reject(filteredOndList, function(item) {
					  return item.code === 'HBE' || item.code === 'HMB' || item.code === 'SSH' || item.code === 'ATZ' || item.code === 'NAP' || item.code === 'LXR' || item.code === 'HRG';
					});
				  }

				  if(airportCode==='NAP'){
					filteredOndList = _.reject(filteredOndList, function(item) {
					  return item.code === 'NAP' || item.code === 'ATZ' || item.code === 'HMB' || item.code === 'HBE' || item.code === 'AMM' || item.code === 'KWI' || item.code === 'LXR' || item.code === 'HRG' || item.code === 'JED';
					});
				  }

				  if(airportCode==='AMM'){
					filteredOndList = _.reject(filteredOndList, function(item) {
					  return item.code === 'AMM' || item.code === 'SSH' || item.code === 'NAP' || item.code === 'HMB' || item.code === 'KWI' || item.code === 'LXR' || item.code === 'HRG' || item.code === 'JED';
					});
				  }

				  if(airportCode==='KWI'){
					filteredOndList = _.reject(filteredOndList, function(item) {
					  return item.code === 'KWI' || item.code === 'NAP' || item.code === 'SSH' || item.code === 'AMM' || item.code === 'LXR' || item.code === 'HRG' || item.code === 'JED'; 
					});
				  }
				  
				  if(airportCode==='LXR'){
					filteredOndList = _.reject(filteredOndList, function(item) {
					  return item.code === 'AMM' || item.code === 'ATZ' || item.code === 'HBE' || item.code === 'HMB' || item.code === 'KWI' || item.code === 'NAP' || item.code === 'SSH' || item.code === 'JED';
					});
				  }
				  
				  if(airportCode==='HRG'){
					filteredOndList = _.reject(filteredOndList, function(item) {
					  return item.code === 'AMM' || item.code === 'ATZ' || item.code === 'HBE' || item.code === 'HMB' || item.code === 'KWI' || item.code === 'NAP' || item.code === 'SSH' || item.code === 'JED';
					});
				  }
				  
				  if(airportCode==='JED'){
					filteredOndList = _.reject(filteredOndList, function(item) {
					  return item.code === 'AMM' || item.code === 'ATZ' || item.code === 'JED' || item.code === 'LXR' || item.code === 'KWI' || item.code === 'NAP' || item.code === 'SSH' || item.code === 'HRG';
					});
				  }

				  $(".tabed-search-form").find('#MSF_to').autocomplete('option', 'source', filteredOndList).val('').focus();
				}
			  });

            var validatePaxCount = function () {
                var paxCountVal = 0;
                $searchFrom.find('.pax-spinners input').each(function () {
                    paxCountVal += parseInt($(this).val());
                });
                if (paxCountVal > 9) {
                    alert("Number of passengers must be less than 10");
                    return false;
                }
                return true;
            };

  $searchFrom.find('form').on('submit', function (e) {
    e.preventDefault();
    if (validatePaxCount()) {
      var str = JSON.stringify(getDataToSearch());
      $("#externalSearchRequest").val(str);
      $("#searchForm").submit();
    }
  });

            PROAVOS.generateMap = function (dataObj, keyForText, keyForValue, keyForAdditionalDesc, filterFn) {
                if (_.isFunction(filterFn)) {
                    dataObj = _.filter(dataObj, filterFn)
                }
                if (dataObj != null) {
                    var obj = {};
                    $.each(dataObj, function (k, value) {
                        k = (keyForValue !== undefined) ? value[keyForValue] : k;
                        obj[k] = (keyForText) ? ((keyForAdditionalDesc) ? (value[keyForText] + " - " + value[keyForAdditionalDesc]) : value[keyForText]) : value;
                    });
                    return obj;
                } else {
                    return {};
                }
            };


            var getOnDToSave = function (cabinClassCode) {
                var ondArray = [];
                var origin = $searchFrom.find('#MSF_from').val();
                var destination = $searchFrom.find('#MSF_to').val();

                var originAirports = _.findWhere(ondAutoComplete, {
                    value: origin
                });
                var destinationAirports = _.findWhere(ondAutoComplete, {
                    value: destination
                });

                if (searchType == availabilitySearchType.RT || searchType == availabilitySearchType.OW) {
                    var ondOneWay = {
                        sequence: 1,
                        origin: {
                            airportCodes: originAirports.codes.split(","),
                            code: originAirports.code,
                            isAirport: originAirports.isAirport,
                            adjustedGMTOffset: originAirports.adjustedGMTOffset
                        },
                        destination: {
                            airportCodes: destinationAirports.codes.split(","),
                            code: destinationAirports.code,
                            isAirport: destinationAirports.isAirport,
                            adjustedGMTOffset: destinationAirports.adjustedGMTOffset
                        },
                        selectedDepDateStr: $searchFrom.find('#MSF_dep_date').val(),
                        depDayVariance: 'PlusMinusThreeDays',
                        cabinClassCode: cabinClassCode
                    };
                    ondArray.push(ondOneWay);
                }
                if (searchType == availabilitySearchType.RT) {
                    var ondReturn = {
                        sequence: 2,
                        origin: {
                            airportCodes: destinationAirports.codes.split(","),
                            code: destinationAirports.code,
                            isAirport: destinationAirports.isAirport
                        },
                        destination: {
                            airportCodes: originAirports.codes.split(","),
                            code: originAirports.code,
                            isAirport: originAirports.isAirport
                        },
                        selectedDepDateStr: $searchFrom.find('#MSF_ret_date').val(),
                        depDayVariance: 'PlusMinusThreeDays',
                        cabinClassCode: cabinClassCode
                    };
                    ondArray.push(ondReturn);
                }
                return ondArray;
            };

            var getOndPoint = function () {
                var origin = $searchFrom.find('#MSF_from').val();
                var originAirports = _.findWhere(ondAutoComplete, {
                    value: origin
                });
                return {
                    code: originAirports.code,
                    airportCodes: originAirports.codes.split(","),
                    isAirport: originAirports.isAirport
                };
            };

            var getDataToSearch = function () {
                var data = {};
                var that = this;

                //data['rand'] = moment().format();
                data['uuid'] = '';
                data['travelPaxInfo'] = {};
                data['availabilitySearchType'] = searchType;
                data['searchBehaviour'] = {};
                var paxMap = {},
                    adtCount = 0,
                    infCount = 0;
                $searchFrom.find('.pax-spinners input').each(function () {
                    if ($(this).val() != 0) {
                        paxMap[$(this).attr('id').replace('MSF_', '')] = $(this).val();
                    }
                });

                data["anonymousUserDTO"] = {
                    "carrierCode": carrierCode,
                    "salesChannel": "WEB",
                    "selectedLanguage": "en"
                };

                $.each(paxMap, function (key, value) {
                    if (!_.isEmpty(value) && value != 0) {
                        if (key == 'INF') {
                            infCount += parseInt(value, 10);
                        } else {
                            adtCount += parseInt(value, 10);
                        }
                    }
                });

                data.travelPaxInfo['adultCount'] = adtCount;
                data.travelPaxInfo['infantCount'] = infCount;
                data.travelPaxInfo.paxQuantities = paxMap;

                var cabinClass = _.isEmpty($searchFrom.find('#MSF_cabin_class').val()) ? null : $searchFrom.find('#MSF_cabin_class').val();
                var currency = _.isEmpty($searchFrom.find('#PRSF_currency_selector').val()) ? null : $searchFrom.find('#PRSF_currency_selector').val();

                data['pqPref'] = {preferredCurrencyCode:currency};
                data['searchedOnDInfos'] = [];
                data.searchedOnDInfos = getOnDToSave(cabinClass);
                data.depOrigin = getOndPoint();
                return data;
            };
        })();


        (function() {
            $("#GBS_search_form").on('submit', function(e) {
                e.preventDefault();
                var searchUrl = 'https://booking.flyeg.com/ibe/FT/home?language=en';
                searchUrl += '#/guest/search?';
                var lastName = $('#lastName').val();
                var recordIdentifier = $('#recordIdentifier').val();
                searchUrl += 'p=' + recordIdentifier + '&ln=' + lastName + '&s=1';
                window.top.location = searchUrl;
            });
        })();

        $('.carousel').carousel();

        $('#callUsModal').on('shown.bs.modal', function () {
            $('#callUs').focus()
        })

    </script>


</body>

</html>