<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
<meta name="description" content="プログラミングで勉強になったこと、素晴らしいと思ったことを紹介。" />
<title>もっとクールにプログラミング</title>
<link rel="stylesheet" type="text/css" href="http://pgnote.net/wp-content/themes/pgnote/style.css" media="all" />
<link rel="alternate" type="application/rss+xml" href="http://pgnote.net/?feed=rss2" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/pgnote.net\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.3.15"}};
			!function(a,b,c){function d(a){var c=b.createElement("canvas"),d=c.getContext&&c.getContext("2d");return d&&d.fillText?(d.textBaseline="top",d.font="600 32px Arial","flag"===a?(d.fillText(String.fromCharCode(55356,56812,55356,56807),0,0),c.toDataURL().length>3e3):(d.fillText(String.fromCharCode(55357,56835),0,0),0!==d.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='crayon_style-css'  href='http://pgnote.net/wp-content/plugins/crayon-syntax-highlighter/css/crayon_style.css?ver=1.17' type='text/css' media='all' />
<link rel='stylesheet' id='crayon_global_style-css'  href='http://pgnote.net/wp-content/plugins/crayon-syntax-highlighter/css/global_style.css?ver=1.17' type='text/css' media='all' />
<link rel='stylesheet' id='crayon_fancybox-css'  href='http://pgnote.net/wp-content/plugins/crayon-syntax-highlighter/js/fancybox/jquery.fancybox.css?ver=1.17' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-phiphou-css'  href='http://pgnote.net/wp-content/plugins/crayon-syntax-highlighter/themes/phiphou/phiphou.css?ver=1.17' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-monaco-css'  href='http://pgnote.net/wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=1.17' type='text/css' media='all' />
<script type='text/javascript' src='http://pgnote.net/wp-includes/js/jquery/jquery.js?ver=1.11.3'></script>
<script type='text/javascript' src='http://pgnote.net/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"is_admin":"0","ajaxurl":"http:\/\/pgnote.net\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value"};
/* ]]> */
</script>
<script type='text/javascript' src='http://pgnote.net/wp-content/plugins/crayon-syntax-highlighter/js/util.js?ver=1.17'></script>
<script type='text/javascript' src='http://pgnote.net/wp-content/plugins/crayon-syntax-highlighter/js/jquery.popup.js?ver=1.17'></script>
<script type='text/javascript' src='http://pgnote.net/wp-content/plugins/crayon-syntax-highlighter/js/crayon.js?ver=1.17'></script>
<script type='text/javascript' src='http://pgnote.net/wp-content/plugins/crayon-syntax-highlighter/js/fancybox/jquery.fancybox.init.pack.js?ver=1.17'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonTagEditorSettings = {"home_url":"http:\/\/pgnote.net","css":"crayon-te","css_selected":"crayon-selected","code_css":"#crayon-code","url_css":"#crayon-url","url_info_css":"#crayon-te-url-info","lang_css":"#crayon-lang","title_css":"#crayon-title","mark_css":"#crayon-mark","range_css":"#crayon-range","inline_css":"crayon-inline","inline_hide_css":"crayon-hide-inline","inline_hide_only_css":"crayon-hide-inline-only","hl_css":"#crayon-highlight","switch_html":"#content-html","switch_tmce":"#content-tmce","tinymce_button":"a.mce_crayon_tinymce","submit_css":"#crayon-te-ok","cancel_css":"#crayon-te-cancel","content_css":"#crayon-te-content","dialog_title_css":"#crayon-te-title","submit_wrapper_css":"#crayon-te-submit-wrapper","data_value":"data-value","attr_sep":":","css_sep":"_","fallback_lang":"default","dialog_title_add":"\u633f\u5165\u753b\u9762","dialog_title_edit":"\u7de8\u96c6\u753b\u9762","submit_add":"\u633f\u5165","submit_edit":"\u66f4\u65b0","bar":"#crayon-te-bar","bar_content":"#crayon-te-bar-content","extensions":{"scpt":"applescript","applescript":"applescript","swf":"as","fla":"as","cs":"c#","h":"c++","hh":"c++","hpp":"c++","hxx":"c++","h++":"c++","cc":"c++","cpp":"c++","cxx":"c++","c++":"c++","pas":"delphi","java":"java","class":"java","jar":"java","mv":"miva","mvc":"miva","mvt":"miva","m":"objc","mm":"objc","pl":"perl","py":"python","pyw":"python","pyc":"python","pyo":"python","pyd":"python","rb":"ruby","rbx":"ruby","rhtml":"ruby","vbs":"vb"}};
/* ]]> */
</script>
<script type='text/javascript' src='http://pgnote.net/wp-content/plugins/crayon-syntax-highlighter/util/tag-editor/crayon_te.js?ver=1.17'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://pgnote.net/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://pgnote.net/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.3.15" />
<div id="fb-root"></div>
<!-- いいね！ボタン用スクリプト -->
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/ja_JP/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
</head>
<body>
<div id="root">
 <div id="header">
  <h1><a href="http://pgnote.net">もっとクールにプログラミング</a></h1>
  <div id="description">プログラミングで勉強になったこと、素晴らしいと思ったことを紹介。</div>
 </div>

 <div id="content">
  <!--
  <div id="af-above-content">
  </div>
  -->
 	
  <div id="archive-info">
      
  </div>
  
   
<div class="post">
	<h2><a href="http://pgnote.net/?p=2930">ubuntuでターミナルをショートカットキーで開く</a></h2>
	<div class="posted-time">2013年11月14日 23時09分</div>
	<p>ubuntuでターミナルをショートカットキーで開く方法。</p>
<p>答えは<a href="http://masta.seesaa.net/article/194137303.html">ここ</a>に載っている。</p>
<p>&nbsp;</p>
<p>・・・ええそうですよそれだけの記事ですとも！</p>
<p>&nbsp;</p>
<p>一応ここにも書かせて頂いておく。</p>
<div class="editor">
[Ctrl] + [Alt] + [t]
</div>
<p>これでターミナルが起動します。</p>
</div>
 
 
<div class="post">
	<h2><a href="http://pgnote.net/?p=2919">VMWare Playerを起動しようとするとVMware Kernel Module Updaterが失敗</a></h2>
	<div class="posted-time">2013年11月10日 22時13分</div>
	<p>VMware Playerが起動できなくなった。</p>
<p>正確に言うと、VMware Playerを起動しようとすると立ち上がってくるVMware Kernel Module Updaterというものが失敗して、前へ進めない。</p>
<p><img src="http://pgnote.net/wp-content/uploads/2013/11/vmware-kernel_module_updater_0.png" alt="vmware kernel_module_updater_0" width="502" height="134" class="alignnone size-full wp-image-2923" /></p>
<p>&nbsp;</p>
<p><img src="http://pgnote.net/wp-content/uploads/2013/11/vmware_kernel_module_updater.png" alt="vmware_kernel_module_updater" width="382" height="287" class="alignnone size-full wp-image-2920" /></p>
<p>そしてこのVMware Kernel Module Updaterが何度やっても失敗する。</p>
<p><img src="http://pgnote.net/wp-content/uploads/2013/11/vmware_kernel_module_updater_error.png" alt="vmware_kernel_module_updater_error" width="350" height="174" class="alignnone size-full wp-image-2922" /></p>
<p>&nbsp;</p>
<p>こうなってしまうとVMware Playerを起動することができない。</p>
<p>&nbsp;</p>
<p>これを回避するには<a href="http://askubuntu.com/questions/288373/vmplayer-problem-vmware-kernel-module-updater-doesnt-run-since-13-04-upgrade">vmplayer problem &#8211; VMWare Kernel Module Updater doesn&#8217;t run since 13.04 upgrade</a>が参考になった。</p>
<p>&nbsp;</p>
<p>bashから</p>
<p></p><!-- Crayon Syntax Highlighter v1.17 -->

		<div id="crayon-5ab5333b6ebfb" class="crayon-syntax crayon-theme-phiphou crayon-font-monaco crayon-os-pc print-yes" data-settings=" scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; ">
		
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; ">
sudo vmware-modconfig --console --install-all</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide" style="">
					<div class="crayon-nums-content"><div class="crayon-num" data-line="crayon-5ab5333b6ebfb-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style=""><div class="crayon-line" id="crayon-5ab5333b6ebfb-1"><span class="e">sudo </span><span class="i">vmware</span><span class="o">-</span><span class="i">modconfig</span><span class="h"> </span><span class="o">--</span><span class="i">console</span><span class="h"> </span><span class="o">--</span><span class="i">install</span><span class="o">-</span><span class="i">all</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0011 seconds] -->
<p></p>
<p>とすれば、次回のVMware Playerの起動はVMware Kernel Module Updaterをすっ飛ばして起動することができる。</p>
<p>&nbsp;</p>
<p>でも、ホスト側のOSを再起動すると、やっぱり再度bashから同じコマンドを打たないといけない。</p>
<p>まあ、そう頻繁にVMware Playerを起動するわけでもないから、このくらいで勘弁しといてやらぁー！</p>
</div>
 
 
<div class="post">
	<h2><a href="http://pgnote.net/?p=2913">UbuntuにVMWare Playerをインストールする</a></h2>
	<div class="posted-time">2013年09月28日 20時11分</div>
	<p>といっても<a href="http://linuxg.net/install-vmware-player-on-ubuntu-13-04/">ここ</a>を参考にインストールしただけ。</p>
<p>ただし注意点が1つ。</p>
<p>&nbsp;</p>
<p>VMWare Playerのダウンロードは、Google ChromeだとなぜかVMware-Player-5.0.2-1031769.i386.txtというファイル名のものがダウンロードされてしまう。</p>
<p>Firefoxでダウンロードすれば、意図したVMware-Player-6.0.0-1295980.i386.bundleというファイル名のものがダウンロードできる。</p>
<p>&nbsp;</p>
<p>不思議だ。</p>
<p>&nbsp;</p>
<p>それ以外はほんとうに最初に紹介したリンク先の内容を真似れば問題なく完了。</p>
<p>&nbsp;</p>
<p><img src="http://pgnote.net/wp-content/uploads/2013/09/vmware-installing-windows.jpg" alt="vmware-installing-windows" width="400" height="340" class="alignnone size-full wp-image-2915" /></p>
<p>（Windows7をインストールし直している状態のキャプチャ）</p>
</div>
 
 
<div class="post">
	<h2><a href="http://pgnote.net/?p=2908">Ubuntu13をインストールすると不安定・・</a></h2>
	<div class="posted-time">2013年09月28日 18時04分</div>
	<p>Ubuntu13をインストールすると、うまく起動もしないし起動した後も問題が発生したりして、とにかく不安定になった。</p>
<p>どうしようもならないので、Ubuntu12.10をインストールして、更新をインストールして最新状態にし、そこからUbuntu13にアップグレードすることで安定して動くようになった。</p>
<p>なんだったんだ？</p>
<p>&nbsp;</p>
<p>Ubuntu13をインストールしたけれどどうにも動作が安定しないという方は、Ubuntu12.10をインストールしてからアップグレードする方法をお試しあれ。</p>
</div>
 
 
<div class="post">
	<h2><a href="http://pgnote.net/?p=2892">Movable Typeのブログについたスパムコメントを削除する</a></h2>
	<div class="posted-time">2013年08月18日 17時32分</div>
	<p>昔作成したMovableTypeのブログにスパムコメントがたくさんついていたため、スパムコメントを一掃した。</p>
<p>&nbsp;</p>
<p>スパムコメントを書き込み時に判断してフィルタリングするということはできても、スパムコメントに対して何の対策も無い状態で既に書き込まれてしまったものについていっきに削除するといったことはできないようで、仕方なくCGIを自分で書いて削除用のSQLを直接実行するという方法を採った。</p>
<p>&nbsp;</p>
<p>データベースにはSQLiteを使用していたため、今回のサンプルもSQLiteを使ったものになっている。</p>
<p>また、サーバはhetemlを使っているので、try-catch句を使用するためにPHPのバージョン5を使いたいため、拡張子をphp5にしてある。</p>
<p></p><!-- Crayon Syntax Highlighter v1.17 -->

		<div id="crayon-5ab5333b718a6" class="crayon-syntax crayon-theme-phiphou crayon-font-monaco crayon-os-pc print-yes" data-settings=" scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; ">
		
			<div class="crayon-toolbar" data-settings=" show" style=""><span class="crayon-title">maintain_sqlite.php5</span>
			<div class="crayon-tools"><span class="crayon-mixed-highlight" title="言語が混在しています"></span><a class="crayon-nums-button crayon-button" title="行番号ON/OFF"></a><a class="crayon-wrap-button crayon-button" title="Toggle Line Wrap"></a><a class="crayon-copy-button crayon-button" data-text="貼り付けにコピー、%sに%sを押して、" title="コードをコピー"></a><a class="crayon-popup-button crayon-button" title="新しいウィンドウでコードを開く" onclick="return false;"></a><a class="crayon-expand-button crayon-button" title="Expand Code"></a><a class="crayon-plain-button crayon-button" title="ハイライト表示ON/OFF"></a></div></div>
			<div class="crayon-info" style=""></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; ">
&lt;?php  
try {
	// /path/to/db/mt.dbの部分を実際のデータベースファイルパスに変更すること
	$db = new PDO("sqlite:/path/to/db/mt.db");
	echo "database loaded successfully";

	// まずはコメントテーブルの件数を確認
	$sql = "select count(*) as cnt from mt_comment";

	$stmt = $db-&gt;query($sql);

	foreach ($stmt as $row) {
		print $row['cnt'];
	}

	// 次にこの部分を非コメント化して一括削除を実施
	// 2013年以降にスパムコメントが多くなったため、2013年以降を削除と指定
	// （削除条件は状況に合わせて変えること）
	// $sql = "delete from mt_comment where comment_created_on &gt; '2013-01-01'";
	// $db-&gt;exec($sql);
} catch (PDOException $e) {
	echo $e-&gt;getMessage();
	echo "&lt;br&gt;&lt;br&gt;Database -- NOT -- loaded successfully .. ";
    die( "&lt;br&gt;&lt;br&gt;Query Closed !!! $error");
}
?&gt;  </textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show" style="">
					<div class="crayon-nums-content"><div class="crayon-num" data-line="crayon-5ab5333b718a6-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab5333b718a6-2">2</div><div class="crayon-num" data-line="crayon-5ab5333b718a6-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab5333b718a6-4">4</div><div class="crayon-num" data-line="crayon-5ab5333b718a6-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab5333b718a6-6">6</div><div class="crayon-num" data-line="crayon-5ab5333b718a6-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab5333b718a6-8">8</div><div class="crayon-num" data-line="crayon-5ab5333b718a6-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab5333b718a6-10">10</div><div class="crayon-num" data-line="crayon-5ab5333b718a6-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab5333b718a6-12">12</div><div class="crayon-num" data-line="crayon-5ab5333b718a6-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab5333b718a6-14">14</div><div class="crayon-num" data-line="crayon-5ab5333b718a6-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab5333b718a6-16">16</div><div class="crayon-num" data-line="crayon-5ab5333b718a6-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab5333b718a6-18">18</div><div class="crayon-num" data-line="crayon-5ab5333b718a6-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab5333b718a6-20">20</div><div class="crayon-num" data-line="crayon-5ab5333b718a6-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab5333b718a6-22">22</div><div class="crayon-num" data-line="crayon-5ab5333b718a6-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab5333b718a6-24">24</div><div class="crayon-num" data-line="crayon-5ab5333b718a6-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab5333b718a6-26">26</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style=""><div class="crayon-line" id="crayon-5ab5333b718a6-1"><span class="ta">&lt;?php</span><span class="h">&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab5333b718a6-2"><span class="st">try</span><span class="h"> </span><span class="sy">{</span></div><div class="crayon-line" id="crayon-5ab5333b718a6-3"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c">// /path/to/db/mt.dbの部分を実際のデータベースファイルパスに変更すること</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab5333b718a6-4"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="v">$db</span><span class="h"> </span><span class="o">=</span><span class="h"> </span><span class="r">new</span><span class="h"> </span><span class="e">PDO</span><span class="sy">(</span><span class="s">"sqlite:/path/to/db/mt.db"</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-5ab5333b718a6-5"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="k ">echo</span><span class="h"> </span><span class="s">"database loaded successfully"</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab5333b718a6-6">&nbsp;</div><div class="crayon-line" id="crayon-5ab5333b718a6-7"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c">// まずはコメントテーブルの件数を確認</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab5333b718a6-8"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="v">$sql</span><span class="h"> </span><span class="o">=</span><span class="h"> </span><span class="s">"select count(*) as cnt from mt_comment"</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-5ab5333b718a6-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5ab5333b718a6-10"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="v">$stmt</span><span class="h"> </span><span class="o">=</span><span class="h"> </span><span class="v">$db</span><span class="o">-&gt;</span><span class="e">query</span><span class="sy">(</span><span class="v">$sql</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-5ab5333b718a6-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5ab5333b718a6-12"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="st">foreach</span><span class="h"> </span><span class="sy">(</span><span class="v">$stmt</span><span class="h"> </span><span class="st">as</span><span class="h"> </span><span class="v">$row</span><span class="sy">)</span><span class="h"> </span><span class="sy">{</span></div><div class="crayon-line" id="crayon-5ab5333b718a6-13"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="k ">print</span><span class="h"> </span><span class="v">$row</span><span class="sy">[</span><span class="s">'cnt'</span><span class="sy">]</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab5333b718a6-14"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="sy">}</span></div><div class="crayon-line" id="crayon-5ab5333b718a6-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5ab5333b718a6-16"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c">// 次にこの部分を非コメント化して一括削除を実施</span></div><div class="crayon-line" id="crayon-5ab5333b718a6-17"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c">// 2013年以降にスパムコメントが多くなったため、2013年以降を削除と指定</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab5333b718a6-18"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c">// （削除条件は状況に合わせて変えること）</span></div><div class="crayon-line" id="crayon-5ab5333b718a6-19"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c">// $sql = "delete from mt_comment where comment_created_on &gt; '2013-01-01'";</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab5333b718a6-20"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c">// $db-&gt;exec($sql);</span></div><div class="crayon-line" id="crayon-5ab5333b718a6-21"><span class="sy">}</span><span class="h"> </span><span class="st">catch</span><span class="h"> </span><span class="sy">(</span><span class="i">PDOException</span><span class="h"> </span><span class="v">$e</span><span class="sy">)</span><span class="h"> </span><span class="sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab5333b718a6-22"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="k ">echo</span><span class="h"> </span><span class="v">$e</span><span class="o">-&gt;</span><span class="e">getMessage</span><span class="sy">(</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-5ab5333b718a6-23"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="k ">echo</span><span class="h"> </span><span class="s">"&lt;br&gt;&lt;br&gt;Database -- NOT -- loaded successfully .. "</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab5333b718a6-24"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="k ">die</span><span class="sy">(</span><span class="h"> </span><span class="s">"&lt;br&gt;&lt;br&gt;Query Closed !!! $error"</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-5ab5333b718a6-25"><span class="sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab5333b718a6-26"><span class="ta">?&gt;</span><span class="h">&nbsp;&nbsp;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.1105 seconds] -->
<p></p>
<p>（ちなみに、PHPは全く詳しくないため、いくつかのサイトを参考にしたツギハギプログラム。）</p>
<p>&nbsp;</p>
<p>削除した後にブログの再構築をすれば、スパムコメントは全て消える。が、記事のコメント数を表す数字は変更無いままになってしまった。</p>
<p>mt_commentテーブル以外のどこかに記事に対するコメント数を保持しているのかもしれないが、別に昔のブログだし細かいことは気にしないことにした。</p>
<p>とりあえずスパムコメントさえ排除して、攻撃者への利益を無くすことができれば満足とうことで。</p>
</div>
 
  
  <div id="navigation">
   <a href="http://pgnote.net/?paged=2" >&gt;&gt; 次のページ</a>  </div>
 </div>

<div id="sidebar">

 <div class="sidebar-box">
  <div class="sidebar-title">多く読まれている記事</div>
  <div class="sidebar-content">
   <ul>
    <li><a href="http://pgnote.net/?p=32">Javaでデータの入ったMapをクールに初期化する方法</a></li>
    <li><a href="http://pgnote.net/?p=211">OSとRubyスクリプトの文字コードが異なる場合の対策</a></li>
    <li><a href="http://pgnote.net/?p=5">オブジェクト指向【言語別】呼び出し元情報を取得する方法まとめ</a></li>
    <li><a href="http://pgnote.net/?p=452">Rubyデバッグ環境最速構築＆デバッグ方法解説</a></li>
    <li><a href="http://pgnote.net/?p=1329">Ruby on RailsでDeviseを使う際の手順</a></li>
   </ul>
  </div>
 </div>
	
 <div class="sidebar-box">
  <div class="sidebar-title">新着記事</div>
  <div class="sidebar-content">
   <ul>
    	<li><a href='http://pgnote.net/?p=2930'>ubuntuでターミナルをショートカットキーで開く</a></li>
	<li><a href='http://pgnote.net/?p=2919'>VMWare Playerを起動しようとするとVMware Kernel Module Updaterが失敗</a></li>
	<li><a href='http://pgnote.net/?p=2913'>UbuntuにVMWare Playerをインストールする</a></li>
	<li><a href='http://pgnote.net/?p=2908'>Ubuntu13をインストールすると不安定・・</a></li>
	<li><a href='http://pgnote.net/?p=2892'>Movable Typeのブログについたスパムコメントを削除する</a></li>
	<li><a href='http://pgnote.net/?p=2884'>Ubuntu 動画をmp3変換して音量をそろえる方法覚え書き</a></li>
	<li><a href='http://pgnote.net/?p=2858'>Flash Professional CCでAsUnitを使ってActionScript 3をユニットテストする</a></li>
	<li><a href='http://pgnote.net/?p=2849'>ActionScript 3からTextField.textの値を動的に変更するならフォントの埋め込みが必要だった！</a></li>
	<li><a href='http://pgnote.net/?p=2813'>Ubuntuのディストリビューションのアップグレードが失敗（アップグレード作業を見積もれません）・・・だと？</a></li>
	<li><a href='http://pgnote.net/?p=2827'>Ubuntu 13にGoogle Chromeをインストールする</a></li>
   </ul>
  </div>
 </div>
 
 <div class="sidebar-box">
  <div class="sidebar-title">カテゴリ</div>
  <div class="sidebar-content">
   <ul>
    	<li class="cat-item cat-item-6"><a href="http://pgnote.net/?cat=6" >C#</a> (17)
</li>
	<li class="cat-item cat-item-19"><a href="http://pgnote.net/?cat=19" >Flash Professional CC</a> (3)
</li>
	<li class="cat-item cat-item-17"><a href="http://pgnote.net/?cat=17" >Heroku</a> (5)
</li>
	<li class="cat-item cat-item-3"><a href="http://pgnote.net/?cat=3" >Java</a> (2)
</li>
	<li class="cat-item cat-item-4"><a href="http://pgnote.net/?cat=4" >JavaScript</a> (7)
</li>
	<li class="cat-item cat-item-20"><a href="http://pgnote.net/?cat=20" >PHP</a> (1)
</li>
	<li class="cat-item cat-item-5"><a href="http://pgnote.net/?cat=5" >Ruby</a> (95)
</li>
	<li class="cat-item cat-item-16"><a href="http://pgnote.net/?cat=16" >Ubuntu</a> (17)
</li>
	<li class="cat-item cat-item-12"><a href="http://pgnote.net/?cat=12" >WEBデザイン</a> (7)
</li>
	<li class="cat-item cat-item-15"><a href="http://pgnote.net/?cat=15" >Windows OS</a> (4)
</li>
	<li class="cat-item cat-item-14"><a href="http://pgnote.net/?cat=14" >データベース</a> (2)
</li>
	<li class="cat-item cat-item-8"><a href="http://pgnote.net/?cat=8" >プログラミング哲学</a> (1)
</li>
	<li class="cat-item cat-item-9"><a href="http://pgnote.net/?cat=9" >プロジェクト管理</a> (8)
</li>
	<li class="cat-item cat-item-13"><a href="http://pgnote.net/?cat=13" >時事</a> (6)
</li>
	<li class="cat-item cat-item-11"><a href="http://pgnote.net/?cat=11" >自己啓発</a> (8)
</li>
	<li class="cat-item cat-item-18"><a href="http://pgnote.net/?cat=18" >身だしなみ</a> (1)
</li>
	<li class="cat-item cat-item-10"><a href="http://pgnote.net/?cat=10" >開発環境</a> (25)
</li>
   </ul>
  </div>
 </div>

 <div class="sidebar-box">
  <div class="sidebar-title">制作物</div>
  <div class="sidebar-content">
   <ul>
    <li><a href="http://hyouka-the-game.com/">評価theゲーム</a></li>
    <li><a href="./web-tools/h-cape">HTMLエスケープツール</a></li>
    <li><a href="https://github.com/nagahoge/RubyLikeBlockInCSharp">RubyLikeBlockInCSharp</a></li>
    <li><a href="https://github.com/nagahoge/ThumbnailBuilder">ThumbnailBuilder</a></li>
    <li><a href="http://uhauhadane.com/tablesakuseikun/">HTMLテーブル作成くん</a></li>
    <li><a href="http://lockn.info/">ロックンロール　ファイルロックツール</a></li>
   </ul>
  </div>
 </div>
 
 <div class="sidebar-box-af">
  <div>
<a href="http://px.a8.net/svt/ejp?a8mat=25NDF0+D3LH1U+CO4+ZUIC1" target="_blank">
<img border="0" width="336" height="280" alt="" src="http://www26.a8.net/svt/bgt?aid=130420908792&wid=101&eno=01&mid=s00000001642006021000&mc=1"></a>
<img border="0" width="1" height="1" src="http://www19.a8.net/0.gif?a8mat=25NDF0+D3LH1U+CO4+ZUIC1" alt="">
  </div>
 </div>
 
 <div class="sidebar-box">
  <div class="sidebar-lefthalf">
   <div class="sidebar-title">月別</div>
   <div class="sidebar-content">
    <ul>
     	<li><a href='http://pgnote.net/?m=201311'>2013年11月</a></li>
	<li><a href='http://pgnote.net/?m=201309'>2013年9月</a></li>
	<li><a href='http://pgnote.net/?m=201308'>2013年8月</a></li>
	<li><a href='http://pgnote.net/?m=201307'>2013年7月</a></li>
	<li><a href='http://pgnote.net/?m=201306'>2013年6月</a></li>
	<li><a href='http://pgnote.net/?m=201305'>2013年5月</a></li>
	<li><a href='http://pgnote.net/?m=201304'>2013年4月</a></li>
	<li><a href='http://pgnote.net/?m=201303'>2013年3月</a></li>
	<li><a href='http://pgnote.net/?m=201302'>2013年2月</a></li>
	<li><a href='http://pgnote.net/?m=201301'>2013年1月</a></li>
	<li><a href='http://pgnote.net/?m=201212'>2012年12月</a></li>
	<li><a href='http://pgnote.net/?m=201211'>2012年11月</a></li>
	<li><a href='http://pgnote.net/?m=201210'>2012年10月</a></li>
	<li><a href='http://pgnote.net/?m=201209'>2012年9月</a></li>
	<li><a href='http://pgnote.net/?m=201208'>2012年8月</a></li>
	<li><a href='http://pgnote.net/?m=201207'>2012年7月</a></li>
	<li><a href='http://pgnote.net/?m=201206'>2012年6月</a></li>
	<li><a href='http://pgnote.net/?m=201205'>2012年5月</a></li>
	<li><a href='http://pgnote.net/?m=201204'>2012年4月</a></li>
    </ul>
   </div>
  	
   <div class="sidebar-title">リンク集</div>
   <div class="sidebar-content">
    <ul>
     <li>相互リンク募集中</li>
    </ul>
   </div>
   
   <div class="sidebar-title">ランキング</div>
   <div class="sidebar-content">
    <ul>
     <li>
      <a href="http://it.blogmura.com/">ＩＴ技術ブログランキング</a>
     </li>
    </ul>
   </div>
   
   <!-- 広告 -->
   <br />
   <div class="sidebar-content">
    <a href="http://www.infotop.jp/click.php?aid=186983&iid=46695"><img src="http://www.infotop.jp/img/banner3_46695.jpg" border="0" /></a>
   </div>
  </div>
  
  <div>
   <div class="sidebar-content">
    <div>
     <iframe src="http://rcm-jp.amazon.co.jp/e/cm?t=sweets04-22&o=9&p=8&l=as1&asins=B008B3AMNI&ref=tf_til&fc1=000000&IS2=1&lt1=_blank&m=amazon&lc1=0000FF&bc1=000000&bg1=FFFFFF&f=ifr" style="width:120px;height:240px;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>
    </div>
    <br />
    <div>
     <iframe src="http://rcm-jp.amazon.co.jp/e/cm?t=sweets04-22&o=9&p=8&l=as1&asins=4837924204&ref=tf_til&fc1=000000&IS2=1&lt1=_blank&m=amazon&lc1=0000FF&bc1=000000&bg1=FFFFFF&f=ifr" style="width:120px;height:240px;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>
    </div>
   </div>
  </div>
 </div>
 
 
 <div class="sidebar-box">
  <div class="sidebar-title">このブログは何？</div>
  <div class="sidebar-content">
   <p>プログラミングに関係するネタが中心です。</p>
   <p>管理人はIT土方をしているサラリーマン。残念！</p>
   <p>自由な時間くらいは自分のプログラミングを大切にしたい。</p>
  </div>
 </div>
 
</div>
  <div id="footer">
   <p>Copyright &copy; 2012 〜 2013 <a href="http://pgnote.net">もっとクールにプログラミング</a></p>
  </div>
 </div>
 
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-37340341-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
 </body>

<script type='text/javascript'>
/* <![CDATA[ */
var quicktagsL10n = {"closeAllOpenTags":"\u958b\u3044\u3066\u3044\u308b\u3059\u3079\u3066\u306e\u30bf\u30b0\u3092\u9589\u3058\u308b","closeTags":"\u30bf\u30b0\u3092\u9589\u3058\u308b","enterURL":"URL \u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044","enterImageURL":"\u753b\u50cf\u306e URL \u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044","enterImageDescription":"\u753b\u50cf\u306e\u8aac\u660e\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044","textdirection":"\u30c6\u30ad\u30b9\u30c8\u8a18\u8ff0\u65b9\u5411","toggleTextdirection":"\u30c6\u30ad\u30b9\u30c8\u8a18\u8ff0\u65b9\u5411\u306e\u5207\u66ff","dfw":"\u96c6\u4e2d\u57f7\u7b46\u30e2\u30fc\u30c9","strong":"\u592a\u5b57","strongClose":"\u592a\u5b57\u30bf\u30b0\u3092\u9589\u3058\u308b","em":"\u30a4\u30bf\u30ea\u30c3\u30af","emClose":"\u30a4\u30bf\u30ea\u30c3\u30af\u30bf\u30b0\u3092\u9589\u3058\u308b","link":"\u30ea\u30f3\u30af\u306e\u633f\u5165","blockquote":"\u5f15\u7528","blockquoteClose":"\u5f15\u7528\u30bf\u30b0\u3092\u9589\u3058\u308b","del":"\u6253\u3061\u6d88\u3057\u7dda","delClose":"\u6253\u3061\u6d88\u3057\u7dda\u30bf\u30b0\u3092\u9589\u3058\u308b","ins":"\u633f\u5165\u3055\u308c\u305f\u30c6\u30ad\u30b9\u30c8","insClose":"\u633f\u5165\u30bf\u30b0\u3092\u9589\u3058\u308b","image":"\u753b\u50cf\u3092\u633f\u5165","ul":"\u756a\u53f7\u306a\u3057\u30ea\u30b9\u30c8","ulClose":"\u756a\u53f7\u306a\u3057\u30ea\u30b9\u30c8\u30bf\u30b0\u3092\u9589\u3058\u308b","ol":"\u756a\u53f7\u4ed8\u304d\u30ea\u30b9\u30c8","olClose":"\u756a\u53f7\u4ed8\u304d\u30ea\u30b9\u30c8\u30bf\u30b0\u3092\u9589\u3058\u308b","li":"\u30ea\u30b9\u30c8\u9805\u76ee","liClose":"\u30ea\u30b9\u30c8\u9805\u76ee\u30bf\u30b0\u3092\u9589\u3058\u308b","code":"\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9","codeClose":"\u30b3\u30fc\u30c9\u30bf\u30b0\u3092\u9589\u3058\u308b","more":"\u300c\u7d9a\u304d\u3092\u8aad\u3080\u300d\u30bf\u30b0\u3092\u633f\u5165"};
/* ]]> */
</script>
<script type='text/javascript' src='http://pgnote.net/wp-includes/js/quicktags.min.js?ver=4.3.15'></script>
<script type='text/javascript' src='http://pgnote.net/wp-content/plugins/crayon-syntax-highlighter/util/tag-editor/crayon_qt.js?ver=1.17'></script>
</html>