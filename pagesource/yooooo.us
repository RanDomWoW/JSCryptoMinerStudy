<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="profile" href="http://gmpg.org/xfn/11" />
<title>论野生技术&amp;二次元 - 又一个wORdPRes5站点</title>

<meta name="description" content="又一个wORdPRes5站点" />
<link rel="canonical" href="https://yooooo.us/" />
<link rel="next" href="http://yooooo.us/page/2" />
<link rel="publisher" href="https://plus.google.com/110078182508156737409?rel=author" />
<script type='application/ld+json'>{"@context":"https:\/\/schema.org","@type":"WebSite","@id":"#website","url":"https:\/\/yooooo.us\/","name":"\u8bba\u91ce\u751f\u6280\u672f&amp;\u4e8c\u6b21\u5143","potentialAction":{"@type":"SearchAction","target":"https:\/\/yooooo.us\/?s={search_term_string}","query-input":"required name=search_term_string"}}</script>
<meta name="msvalidate.01" content="2F96C60D394179C49660C212388422C2" />
<meta name="google-site-verification" content="KDWEakB2_OD6mM1cqSSECig65NfRMm3oneRrEvvRyPI" />

<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="论野生技术&amp;二次元 &raquo; Feed" href="https://yooooo.us/feed" />
<link rel="alternate" type="application/rss+xml" title="论野生技术&amp;二次元 &raquo; 评论Feed" href="https://yooooo.us/comments/feed" />
<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.4\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.4\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/yooooo.us\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.9.4"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55357,56692,8205,9792,65039],[55357,56692,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='crayon-css' href='https://yooooo.us/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-classic-css' href='https://yooooo.us/wp-content/plugins/crayon-syntax-highlighter/themes/classic/classic.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-sourcecodepro-css' href='https://yooooo.us/wp-content/plugins/crayon-syntax-highlighter/fonts/sourcecodepro.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='mythemes-front-style-css' href='https://yooooo.us/wp-content/themes/materialize/media/_frontend/css/style.min.css?ver=0.0.20.41' type='text/css' media='all' />
<!--[if IE]>
<link rel='stylesheet' id='materialize-ie-css'  href='https://yooooo.us/wp-content/themes/materialize/media/_frontend/css/ie.min.css?ver=0.0.20' type='text/css' media='all' />
<![endif]-->
<link rel='stylesheet' id='github-embed-css' href='https://yooooo.us/wp-content/plugins/github-embed/css/github-embed.css?ver=4.9.4' type='text/css' media='all' />
<script type='text/javascript' src='https://yooooo.us/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='https://yooooo.us/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"https:\/\/yooooo.us\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type='text/javascript' src='https://yooooo.us/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=_2.7.2_beta'></script>
<!--[if lt IE 9]>
<script type='text/javascript' src='https://yooooo.us/wp-content/themes/materialize/media/_frontend/js/respond.min.js?ver=0.0.20'></script>
<![endif]-->
<!--[if lt IE 9]>
<script type='text/javascript' src='https://yooooo.us/wp-content/themes/materialize/media/_frontend/js/html5shiv.min.js?ver=0.0.20'></script>
<![endif]-->
<script type='text/javascript' src='https://yooooo.us/wp-content/themes/materialize/media/_frontend/js/app.min.js?ver=0.0.2010'></script>
<link rel='https://api.w.org/' href='https://yooooo.us/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://yooooo.us/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://yooooo.us/wp-includes/wlwmanifest.xml" />
<meta name="generator" content="WordPress 4.9.4" />
<!--[if IE]>
	<style type="text/css" id="tempo-custom-css-ie">
			</style>
<![endif]-->
<!--[if IE 11]>
	<style type="text/css" id="tempo-custom-css-ie-11">
			</style>
<![endif]-->
<!--[if IE 10]>
	<style type="text/css" id="tempo-custom-css-ie-10">
			</style>
<![endif]-->
<!--[if IE 9]>
	<style type="text/css" id="tempo-custom-css-ie-9">
			</style>
<![endif]-->
<!--[if IE 8]>
	<style type="text/css" id="tempo-custom-css-ie-8">
			</style>
<![endif]-->
<style type="text/css">

    /* header color */
    body{
        background-color: #ffffff;
    }

    /* background image */
    body > div.content{
            }

    /* breadcrumbs space */ 
    div.mythemes-page-header{
        padding-top: 60px;
        padding-bottom: 60px;
    }
</style>

<style type="text/css" id="mythemes-background-color">
    body > div.content{
        background-color: #f5f5f5;
    }
</style>



<style type="text/css" id="mythemes-header-headline-color" media="all">
    div.mythemes-header a.header-headline{
        color: #e53932    }
</style>

<style type="text/css" id="mythemes-header-description-color" media="all">

    
    div.mythemes-header a.header-description{
        color: rgba( 0,0,0, 0.55 );
    }
    div.mythemes-header a.header-description:hover{
        color: rgba( 0,0,0, 1.0 );
    }
</style>



<style type="text/css" id="mythemes-header-btn-1-color" media="all">
    div.mythemes-header.parallax-container div.mythemes-header-buttons a.btn-large.mythemes-first-button{
        color: #ffffff;
    }
</style>

<style type="text/css" id="mythemes-header-btn-1-bkg-color" media="all">
    div.mythemes-header.parallax-container div.mythemes-header-buttons a.btn-large.mythemes-first-button{
        background-color: #4caf50;
    }
</style>

<style type="text/css" id="mythemes-header-btn-1-bkg-h-color" media="all">
    div.mythemes-header.parallax-container div.mythemes-header-buttons a.btn-large.mythemes-first-button:hover{
        background-color: #43a047;
    }
</style>


<style type="text/css" id="mythemes-header-btn-2-color" media="all">
    div.mythemes-header.parallax-container div.mythemes-header-buttons a.btn-large.mythemes-second-button{
        color: #ffffff;
    }
</style>

<style type="text/css" id="mythemes-header-btn-2-bkg-color" media="all">
    div.mythemes-header.parallax-container div.mythemes-header-buttons a.btn-large.mythemes-second-button{
        background-color: #e53935;
    }
</style>

<style type="text/css" id="mythemes-header-btn-2-bkg-h-color" media="all">
    div.mythemes-header.parallax-container div.mythemes-header-buttons a.btn-large.mythemes-second-button:hover{
        background-color: #d32f2f;
    }
</style>


<style type="text/css" id="mythemes-custom-css">
    div.mythemes-page-header{padding-top: 10px;padding-bottom: 10px}
.content {padding-top: 20px}

.ds-recent-visitors{padding-right: 0!important;padding-top: 10px!important}
div.nav-wrapper div.not-collapsed-wrapper{padding:0}

#ds-thread #ds-reset .ds-sync label:after {border:none}

#ds-thread #ds-reset .ds-sync label:before {border:none}
#ds-thread #ds-reset .ds-post-button{line-height:32px}</style> <style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
</head>
<body class="home blog zh">
<header class="mythemes-miss-header-image">

<nav class="white mythemes-topper" role="navigation">
<div class="nav-wrapper container">

<a href="#" data-activates="nav-mobile" class="button-collapse"><i class="mythemes-icon-menu"></i></a>

<div class="mythemes-blog-identity"><a class="mythemes-blog-title" href="https://yooooo.us/" title="论野生技术&amp;二次元 - 又一个wORdPRes5站点">论野生技术&amp;二次元</a><a class="mythemes-blog-description" href="https://yooooo.us/" title="论野生技术&amp;二次元 - 又一个wORdPRes5站点">又一个wORdPRes5站点</a></div><div class="not-collapsed-wrapper"><ul id="menu-main" class="right hide-on-med-and-down"><li id="menu-item-1999" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-1999"><a href="https://yooooo.us/category/codes">代码</a>
<ul class="sub-menu">
<li id="menu-item-2000" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2000"><a href="https://yooooo.us/category/codes/dotnet">.NET</a></li>
<li id="menu-item-2001" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2001"><a href="https://yooooo.us/category/codes/android">Android</a></li>
<li id="menu-item-2002" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2002"><a href="https://yooooo.us/category/codes/c-cpp">C/C++</a></li>
<li id="menu-item-2003" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2003"><a href="https://yooooo.us/category/codes/linux">Linux</a></li>
<li id="menu-item-2004" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2004"><a href="https://yooooo.us/category/codes/lua">Lua</a></li>
<li id="menu-item-2005" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2005"><a href="https://yooooo.us/category/codes/network">Network</a></li>
<li id="menu-item-2006" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2006"><a href="https://yooooo.us/category/codes/python">Python</a></li>
<li id="menu-item-2007" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2007"><a href="https://yooooo.us/category/codes/web">Web</a></li>
<li id="menu-item-2008" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2008"><a href="https://yooooo.us/category/codes/win">Windows</a></li>
<li id="menu-item-2009" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2009"><a href="https://yooooo.us/category/codes/makedie">作死</a></li>
</ul>
</li>
<li id="menu-item-2010" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-2010"><a href="https://yooooo.us/category/life">森活</a>
<ul class="sub-menu">
<li id="menu-item-2011" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2011"><a href="https://yooooo.us/category/life/the-heavenly">国家大事</a></li>
<li id="menu-item-2012" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2012"><a href="https://yooooo.us/category/life/fluid">流水账</a></li>
<li id="menu-item-2013" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2013"><a href="https://yooooo.us/category/life/w213">老文存档</a></li>
</ul>
</li>
<li id="menu-item-379" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-379"><a href="https://yooooo.us/category/uncategoried">~</a></li>
<li id="menu-item-61" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-61"><a href="https://yooooo.us/about">关于..</a></li>
<li id="menu-item-866" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-866"><a href="https://github.com/fffonion">Github</a></li>
<li id="menu-item-1348" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1348"><a href="https://secure.assrt.net">字幕</a></li>
<li id="menu-item-2161" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-2161"><a href="#">工具</a>
<ul class="sub-menu">
<li id="menu-item-1095" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1095"><a href="https://wc.yooooo.us">维基镜像</a></li>
<li id="menu-item-2160" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2160"><a href="http://tiao.ga">短网址</a></li>
<li id="menu-item-1689" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1689"><a href="https://tmp.yooooo.us">临时邮箱</a></li>
<li id="menu-item-2163" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2163"><a href="https://s.yooooo.us/up/">临时文件</a></li>
<li id="menu-item-2162" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2162"><a href="https://img.yooooo.us">图床</a></li>
<li id="menu-item-2275" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2275"><a href="https://live.yooooo.us:8443">ON AIR</a></li>
<li id="menu-item-1434" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1434"><a href="https://dl.yooooo.us/build/Readme.htm">apt源</a></li>
</ul>
</li>
<li id="menu-item-1062" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1062"><a href="https://yooooo.us/friends">友链</a></li>
<li id="menu-item-699" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-699"><a href="https://yooooo.us/feed">RSS</a></li>
</ul></div><div class="collapsed-wrapper"><ul id="nav-mobile" class="side-nav"><li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-1999"><a href="https://yooooo.us/category/codes">代码</a>
<ul class="sub-menu">
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2000"><a href="https://yooooo.us/category/codes/dotnet">.NET</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2001"><a href="https://yooooo.us/category/codes/android">Android</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2002"><a href="https://yooooo.us/category/codes/c-cpp">C/C++</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2003"><a href="https://yooooo.us/category/codes/linux">Linux</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2004"><a href="https://yooooo.us/category/codes/lua">Lua</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2005"><a href="https://yooooo.us/category/codes/network">Network</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2006"><a href="https://yooooo.us/category/codes/python">Python</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2007"><a href="https://yooooo.us/category/codes/web">Web</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2008"><a href="https://yooooo.us/category/codes/win">Windows</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2009"><a href="https://yooooo.us/category/codes/makedie">作死</a></li>
</ul>
</li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-2010"><a href="https://yooooo.us/category/life">森活</a>
<ul class="sub-menu">
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2011"><a href="https://yooooo.us/category/life/the-heavenly">国家大事</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2012"><a href="https://yooooo.us/category/life/fluid">流水账</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2013"><a href="https://yooooo.us/category/life/w213">老文存档</a></li>
</ul>
</li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-379"><a href="https://yooooo.us/category/uncategoried">~</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-61"><a href="https://yooooo.us/about">关于..</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-866"><a href="https://github.com/fffonion">Github</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1348"><a href="https://secure.assrt.net">字幕</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-2161"><a href="#">工具</a>
<ul class="sub-menu">
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1095"><a href="https://wc.yooooo.us">维基镜像</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2160"><a href="http://tiao.ga">短网址</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1689"><a href="https://tmp.yooooo.us">临时邮箱</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2163"><a href="https://s.yooooo.us/up/">临时文件</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2162"><a href="https://img.yooooo.us">图床</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2275"><a href="https://live.yooooo.us:8443">ON AIR</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1434"><a href="https://dl.yooooo.us/build/Readme.htm">apt源</a></li>
</ul>
</li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1062"><a href="https://yooooo.us/friends">友链</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-699"><a href="https://yooooo.us/feed">RSS</a></li>
</ul></div> </div>
</nav>

</header>

<div class="content">

<div class="container">
<div class="row">

<section class="col s12 m12 l9 mythemes-classic mythemes-classic">

<article class="post-2266 post type-post status-publish format-standard hentry category-win tag-http tag-windows">

<h2 class="post-title">
<a href="https://yooooo.us/2018/use-cmd-do-http-request-under-windows" title="在Windows中使用命令行发起HTTP请求">在Windows中使用命令行发起HTTP请求</a>
</h2>
<div class="mythemes-top-meta meta">

<time datetime="2018-02-07"><i class="mythemes-icon-calendar"></i>on 2018 年 2 月 7 日</time>
<div class="clear"></div>

<ul class="post-categories">
<li><a href="https://yooooo.us/category/codes/win" rel="category tag">Windows</a></li></ul>


<a class="comments waves-effect waves-dark grey lighten-4" href="https://yooooo.us/2018/use-cmd-do-http-request-under-windows#respond"><i class="mythemes-icon-comment-5"></i>0&nbsp;&nbsp;&nbsp;<i class="mythemes-icon-eye"></i>362</a> 
<a href="?variant=zh-hant" class="comments waves-effect waves-dark grey lighten-4"><i class="mythemes-icon-spin3"></i>转为繁体</a>
</div>

<div class="post-content">
<p>在开发mpv的插件时，需要发起http请求，但是mpv并没有提供HTTP的api。</p>
<p>因此我们可以用VBScript或者PowerShell来发起请求。</p>
<p>运行cscript /nologo httpget.vbs &#8220;http://example.com&#8221;</p>
<div id="crayon-5ab4c5c525a56651796990" class="crayon-syntax crayon-theme-classic crayon-font-sourcecodepro crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">httpget.vbs</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Visual Basic</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
args = WScript.Arguments.Count
if args &lt;&gt; 1 then
  wscript.Quit
end if

URL = WScript.Arguments.Item(0)
Set xmlhttp = CreateObject("Microsoft.XmlHttp")  
xmlhttp.open "GET", URL, false
xmlhttp.setRequestHeader "User-Agent",  "cscript/1.0"
xmlhttp.send

WScript.Echo xmlhttp.responseText</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5ab4c5c525a56651796990-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c525a56651796990-2">2</div><div class="crayon-num" data-line="crayon-5ab4c5c525a56651796990-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c525a56651796990-4">4</div><div class="crayon-num" data-line="crayon-5ab4c5c525a56651796990-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c525a56651796990-6">6</div><div class="crayon-num" data-line="crayon-5ab4c5c525a56651796990-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c525a56651796990-8">8</div><div class="crayon-num" data-line="crayon-5ab4c5c525a56651796990-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c525a56651796990-10">10</div><div class="crayon-num" data-line="crayon-5ab4c5c525a56651796990-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c525a56651796990-12">12</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5ab4c5c525a56651796990-1"><span class="crayon-v">args</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">WScript</span><span class="crayon-sy">.</span><span class="crayon-v">Arguments</span><span class="crayon-sy">.</span><span class="crayon-e">Count</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c525a56651796990-2"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">args</span><span class="crayon-h"> </span><span class="crayon-o">&lt;&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-st">then</span></div><div class="crayon-line" id="crayon-5ab4c5c525a56651796990-3"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">wscript</span><span class="crayon-sy">.</span><span class="crayon-e">Quit</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c525a56651796990-4"><span class="crayon-st">end</span><span class="crayon-h"> </span><span class="crayon-st">if</span></div><div class="crayon-line" id="crayon-5ab4c5c525a56651796990-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c525a56651796990-6"><span class="crayon-v">URL</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">WScript</span><span class="crayon-sy">.</span><span class="crayon-v">Arguments</span><span class="crayon-sy">.</span><span class="crayon-e">Item</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5ab4c5c525a56651796990-7"><span class="crayon-t">Set</span><span class="crayon-h"> </span><span class="crayon-v">xmlhttp</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">CreateObject</span><span class="crayon-sy">(</span><span class="crayon-s">"Microsoft.XmlHttp"</span><span class="crayon-sy">)</span><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c525a56651796990-8"><span class="crayon-v">xmlhttp</span><span class="crayon-sy">.</span><span class="crayon-i">open</span><span class="crayon-h"> </span><span class="crayon-s">"GET"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">URL</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">false</span></div><div class="crayon-line" id="crayon-5ab4c5c525a56651796990-9"><span class="crayon-v">xmlhttp</span><span class="crayon-sy">.</span><span class="crayon-i">setRequestHeader</span><span class="crayon-h"> </span><span class="crayon-s">"User-Agent"</span><span class="crayon-sy">,</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"cscript/1.0"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c525a56651796990-10"><span class="crayon-v">xmlhttp</span><span class="crayon-sy">.</span><span class="crayon-e">send</span></div><div class="crayon-line" id="crayon-5ab4c5c525a56651796990-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c525a56651796990-12"><span class="crayon-v">WScript</span><span class="crayon-sy">.</span><span class="crayon-e">Echo </span><span class="crayon-v">xmlhttp</span><span class="crayon-sy">.</span><span class="crayon-v">responseText</span></div></div></td>
</tr>
</table>
</div>
</div>

<p>或者：</p>
<div id="crayon-5ab4c5c525a62637404421" class="crayon-syntax crayon-theme-classic crayon-font-sourcecodepro crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
powershell (Invoke-WebRequest -UserAgent Ps/1.0  -URI "http://example.com").content</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5ab4c5c525a62637404421-1">1</div></div>
</td> 
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5ab4c5c525a62637404421-1"><span class="crayon-e">powershell</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">Invoke</span><span class="crayon-o">-</span><span class="crayon-v">WebRequest</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-e">UserAgent </span><span class="crayon-r">Ps</span><span class="crayon-o">/</span><span class="crayon-cn">1.0</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">-</span><span class="crayon-i">URI</span><span class="crayon-h"> </span><span class="crayon-s">"http://example.com"</span><span class="crayon-sy">)</span><span class="crayon-e">.content</span></div></div></td>
</tr>
</table>
</div>
</div>

<p>这两种方法均可以将响应输出到stdout。Windows会将输出的内容都<strong>重新编码为系统默认代码页</strong>，比如简体中文系统中会被编码为CP936。但是我们有时只想获得原始的内容，而不是便于显示在屏幕上的内容（比如下载文件或者不便于进行编码转换的时候）。</p>
<p>所以我们可以将响应输出到文件：</p>
<div id="crayon-5ab4c5c525a65333266971" class="crayon-syntax crayon-theme-classic crayon-font-sourcecodepro crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">httpget-save.vbs</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Visual Basic</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
args = WScript.Arguments.Count
if args &lt;&gt; 1 then
  wscript.Quit
end if

URL = WScript.Arguments.Item(0)

Set xmlhttp = CreateObject("Microsoft.XmlHttp")  
xmlhttp.open "GET", URL, false
xmlhttp.setRequestHeader "User-Agent",  "cscript/1.0"
xmlhttp.send

Set oStream = CreateObject("ADODB.Stream")
With oStream
	.Type = 1 'adTypeBinary
	.Open
	.Write xmlhttp.responseBody 'to save binary data
	.SaveToFile "out.txt", 2 'adSaveCreateOverWrite
End With

Set oStream = Nothing
Set ret = Nothing</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5ab4c5c525a65333266971-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c525a65333266971-2">2</div><div class="crayon-num" data-line="crayon-5ab4c5c525a65333266971-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c525a65333266971-4">4</div><div class="crayon-num" data-line="crayon-5ab4c5c525a65333266971-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c525a65333266971-6">6</div><div class="crayon-num" data-line="crayon-5ab4c5c525a65333266971-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c525a65333266971-8">8</div><div class="crayon-num" data-line="crayon-5ab4c5c525a65333266971-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c525a65333266971-10">10</div><div class="crayon-num" data-line="crayon-5ab4c5c525a65333266971-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c525a65333266971-12">12</div><div class="crayon-num" data-line="crayon-5ab4c5c525a65333266971-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c525a65333266971-14">14</div><div class="crayon-num" data-line="crayon-5ab4c5c525a65333266971-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c525a65333266971-16">16</div><div class="crayon-num" data-line="crayon-5ab4c5c525a65333266971-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c525a65333266971-18">18</div><div class="crayon-num" data-line="crayon-5ab4c5c525a65333266971-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c525a65333266971-20">20</div><div class="crayon-num" data-line="crayon-5ab4c5c525a65333266971-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c525a65333266971-22">22</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5ab4c5c525a65333266971-1"><span class="crayon-v">args</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">WScript</span><span class="crayon-sy">.</span><span class="crayon-v">Arguments</span><span class="crayon-sy">.</span><span class="crayon-e">Count</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c525a65333266971-2"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">args</span><span class="crayon-h"> </span><span class="crayon-o">&lt;&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-st">then</span></div><div class="crayon-line" id="crayon-5ab4c5c525a65333266971-3"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">wscript</span><span class="crayon-sy">.</span><span class="crayon-e">Quit</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c525a65333266971-4"><span class="crayon-st">end</span><span class="crayon-h"> </span><span class="crayon-st">if</span></div><div class="crayon-line" id="crayon-5ab4c5c525a65333266971-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c525a65333266971-6"><span class="crayon-v">URL</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">WScript</span><span class="crayon-sy">.</span><span class="crayon-v">Arguments</span><span class="crayon-sy">.</span><span class="crayon-e">Item</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5ab4c5c525a65333266971-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c525a65333266971-8"><span class="crayon-t">Set</span><span class="crayon-h"> </span><span class="crayon-v">xmlhttp</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">CreateObject</span><span class="crayon-sy">(</span><span class="crayon-s">"Microsoft.XmlHttp"</span><span class="crayon-sy">)</span><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5ab4c5c525a65333266971-9"><span class="crayon-v">xmlhttp</span><span class="crayon-sy">.</span><span class="crayon-i">open</span><span class="crayon-h"> </span><span class="crayon-s">"GET"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">URL</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">false</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c525a65333266971-10"><span class="crayon-v">xmlhttp</span><span class="crayon-sy">.</span><span class="crayon-i">setRequestHeader</span><span class="crayon-h"> </span><span class="crayon-s">"User-Agent"</span><span class="crayon-sy">,</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"cscript/1.0"</span></div><div class="crayon-line" id="crayon-5ab4c5c525a65333266971-11"><span class="crayon-v">xmlhttp</span><span class="crayon-sy">.</span><span class="crayon-e">send</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c525a65333266971-12">&nbsp;</div><div class="crayon-line" id="crayon-5ab4c5c525a65333266971-13"><span class="crayon-t">Set</span><span class="crayon-h"> </span><span class="crayon-v">oStream</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">CreateObject</span><span class="crayon-sy">(</span><span class="crayon-s">"ADODB.Stream"</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c525a65333266971-14"><span class="crayon-st">With</span><span class="crayon-h"> </span><span class="crayon-i">oStream</span></div><div class="crayon-line" id="crayon-5ab4c5c525a65333266971-15"><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-v">Type</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-c">'adTypeBinary</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c525a65333266971-16"><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-i">Open</span></div><div class="crayon-line" id="crayon-5ab4c5c525a65333266971-17"><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-e">Write </span><span class="crayon-v">xmlhttp</span><span class="crayon-sy">.</span><span class="crayon-i">responseBody</span><span class="crayon-h"> </span><span class="crayon-c">'to save binary data</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c525a65333266971-18"><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-i">SaveToFile</span><span class="crayon-h"> </span><span class="crayon-s">"out.txt"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-h"> </span><span class="crayon-c">'adSaveCreateOverWrite</span></div><div class="crayon-line" id="crayon-5ab4c5c525a65333266971-19"><span class="crayon-st">End</span><span class="crayon-h"> </span><span class="crayon-st">With</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c525a65333266971-20">&nbsp;</div><div class="crayon-line" id="crayon-5ab4c5c525a65333266971-21"><span class="crayon-t">Set</span><span class="crayon-h"> </span><span class="crayon-v">oStream</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">Nothing</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c525a65333266971-22"><span class="crayon-t">Set</span><span class="crayon-h"> </span><span class="crayon-v">ret</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">Nothing</span></div></div></td>
</tr>
</table>
</div>
</div>

<p>或者：</p>
<div id="crayon-5ab4c5c525a66939890014" class="crayon-syntax crayon-theme-classic crayon-font-sourcecodepro crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
powershell Invoke-WebRequest -UserAgent Ps/1.0  -URI "http://example.com" -Outfile out.txt</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5ab4c5c525a66939890014-1">1</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5ab4c5c525a66939890014-1"><span class="crayon-e">powershell </span><span class="crayon-v">Invoke</span><span class="crayon-o">-</span><span class="crayon-v">WebRequest</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-e">UserAgent </span><span class="crayon-v">Ps</span><span class="crayon-o">/</span><span class="crayon-cn">1.0</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">-</span><span class="crayon-i">URI</span><span class="crayon-h"> </span><span class="crayon-s">"http://example.com"</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-e">Outfile </span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-v">txt</span></div></div></td>
</tr>
</table>
</div>
</div>

<p>然后我们读取out.txt就可以获得响应内容了。</p>
<div class="clearfix"></div>
</div>
</article>

<article class="post-2250 post type-post status-publish format-standard hentry category-lua category-web tag-ngx-shared tag-openresty">

<h2 class="post-title">
<a href="https://yooooo.us/2018/use-redis-protocol-to-debug-ngx-shared-api" title="使用Redis协议来调试ngx.shared">使用Redis协议来调试ngx.shared</a>
</h2>
<div class="mythemes-top-meta meta">

 <time datetime="2018-01-25"><i class="mythemes-icon-calendar"></i>on 2018 年 1 月 25 日</time>
<div class="clear"></div>

<ul class="post-categories">
<li><a href="https://yooooo.us/category/codes/lua" rel="category tag">Lua</a></li>
<li><a href="https://yooooo.us/category/codes/web" rel="category tag">Web</a></li></ul>


<a class="comments waves-effect waves-dark grey lighten-4" href="https://yooooo.us/2018/use-redis-protocol-to-debug-ngx-shared-api#respond"><i class="mythemes-icon-comment-5"></i>0&nbsp;&nbsp;&nbsp;<i class="mythemes-icon-eye"></i>473</a> 
<a href="?variant=zh-hant" class="comments waves-effect waves-dark grey lighten-4"><i class="mythemes-icon-spin3"></i>转为繁体</a>
</div>

<div class="post-content">
<p>有时候用ngx.shared的时候想看一下到底存进去的值是什么，或者想列一下满足条件的键，或者想批量操作，所以这个项目就是用来解决这个问题的。</p>
<div class="github-embed github-embed-repository">
<p><a href="https://github.com/fffonion/lua-resty-shdict-server" target="_blank"><strong>A HTTP and Redis protocol compatible interface for debugging ngx.shared API</strong></a><br /><a href="https://github.com/fffonion/lua-resty-shdict-server" target="_blank">https://github.com/fffonion/lua-resty-shdict-server</a><br /><a href="https://github.com/fffonion/lua-resty-shdict-server/network" target="_blank">2</a> forks.<br /><a href="https://github.com/fffonion/lua-resty-shdict-server/stargazers" target="_blank">2</a> stars.<br /><a href="https://github.com/fffonion/lua-resty-shdict-server/issues" target="_blank">0</a> open issues.<br />Recent commits:</p>
<ul class="github_commits">
<li class="github_commit"><a href="https://github.com/fffonion/lua-resty-shdict-server/commit/39de3d8a63b2adb2ec2809343491d0e3cc7906ad" target="_blank">doc: update doc</a>, Alliumcepa</li>
<li class="github_commit"><a href="https://github.com/fffonion/lua-resty-shdict-server/commit/eecc96a13a4ec79ae8c5f98a0650f449d01d01ca" target="_blank">add patch to share shdict between http and stream</a>, Alliumcepa</li>
<li class="github_commit"><a href="https://github.com/fffonion/lua-resty-shdict-server/commit/6c1f0c310010f5d74b811d440b6404a2faeb1101" target="_blank">bugfix: avoid table index on hot function call</a>, Alliumcepa</li>
<li class="github_commit"><a href="https://github.com/fffonion/lua-resty-shdict-server/commit/34a87a2363960ac73b8ec0c437bed1b8de020b4d" target="_blank">doc: add new commands and other fixes</a>, Alliumcepa</li>
<li class="github_commit"><a href="https://github.com/fffonion/lua-resty-shdict-server/commit/01846ef91dcba86dc08dbcdd15a5e3fadff327be" target="_blank">bugfix: return proper value when user flag is set</a>, Alliumcepa</li>
</ul>
</div>
<p>除了支持ngx.shared提供的操作以外，学习Redis增加了PING（测试连通性），KEYS（列出符合条件的键）和EVAL（在服务器上执行Lua脚本）。</p>
<p>已上传到opm，可以通过</p>
<blockquote><p>opm install fffonion/lua-resty-shdict-server</p></blockquote>
<p>一键安装。</p>
<p>由于目前stream和http子系统是两个独立的Lua VM，因此不能通过全局变量来共享数据。另外两个子系统的shdict是分别定义的，因此也不能互撸。所以如果想用这个模块来在redis-cli里撸http子系统下定义的shdict，需要<a href="https://dl.yooooo.us/share/openresty/http_stream_shared_dict.patch">这个补丁</a>。</p>
<p>示例配置：</p>
<div id="crayon-5ab4c5c526269509836808" class="crayon-syntax crayon-theme-classic crayon-font-sourcecodepro crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Lua</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
http {
    lua_shared_dict dog 10m;
}

stream {
    lua_shared_dict dog 10m;
    server {
        listen 6380;
        require "resty.core.shdict"
        require "resty.shdict.redis-commands"
        local srv = require("resty.shdict.server")
        local s = srv:new("a-very-strong-password", "dog")
        s:serve()
}</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5ab4c5c526269509836808-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c526269509836808-2">2</div><div class="crayon-num" data-line="crayon-5ab4c5c526269509836808-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c526269509836808-4">4</div><div class="crayon-num" data-line="crayon-5ab4c5c526269509836808-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c526269509836808-6">6</div><div class="crayon-num" data-line="crayon-5ab4c5c526269509836808-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c526269509836808-8">8</div><div class="crayon-num" data-line="crayon-5ab4c5c526269509836808-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c526269509836808-10">10</div><div class="crayon-num" data-line="crayon-5ab4c5c526269509836808-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c526269509836808-12">12</div><div class="crayon-num" data-line="crayon-5ab4c5c526269509836808-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c526269509836808-14">14</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5ab4c5c526269509836808-1"><span class="crayon-e">http</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c526269509836808-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">lua_shared_dict </span><span class="crayon-i">dog</span><span class="crayon-h"> </span><span class="crayon-cn">10m</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5ab4c5c526269509836808-3"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c526269509836808-4">&nbsp;</div><div class="crayon-line" id="crayon-5ab4c5c526269509836808-5"><span class="crayon-e">stream</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c526269509836808-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">lua_shared_dict </span><span class="crayon-i">dog</span><span class="crayon-h"> </span><span class="crayon-cn">10m</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5ab4c5c526269509836808-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">server</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c526269509836808-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">listen</span><span class="crayon-h"> </span><span class="crayon-cn">6380</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5ab4c5c526269509836808-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">require</span><span class="crayon-h"> </span><span class="crayon-s">"resty.core.shdict"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c526269509836808-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">require</span><span class="crayon-h"> </span><span class="crayon-s">"resty.shdict.redis-commands"</span></div><div class="crayon-line" id="crayon-5ab4c5c526269509836808-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">local</span><span class="crayon-h"> </span><span class="crayon-v">srv</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">require</span><span class="crayon-sy">(</span><span class="crayon-s">"resty.shdict.server"</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c526269509836808-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">local</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">srv</span><span class="crayon-o">:</span><span class="crayon-e">new</span><span class="crayon-sy">(</span><span class="crayon-s">"a-very-strong-password"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"dog"</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5ab4c5c526269509836808-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">s</span><span class="crayon-o">:</span><span class="crayon-e">serve</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c526269509836808-14"><span class="crayon-sy">}</span></div></div></td>
</tr>
</table>
</div>
</div>

<p>然后</p>
<div id="crayon-5ab4c5c526278556296175" class="crayon-syntax crayon-theme-classic crayon-font-sourcecodepro crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
$ redis-cli -h 127.0.0.1 -p 6380
127.0.0.1:6380&gt; set doge wow
(error) ERR authentication required
127.0.0.1:6380&gt; auth a-very-strong-password
OK
127.0.0.1:6380&gt; set doge wow
OK
127.0.0.1:6380&gt; get doge
wow
127.0.0.1:6380&gt; keys dog*
1) "doge"
127.0.0.1:6380&gt; eval "return shdict.call('del', unpack(shdict.call('keys', ARGV[1])))" 0 dog*
OK
127.0.0.1:18002&gt; keys *
(empty list or set)</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5ab4c5c526278556296175-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c526278556296175-2">2</div><div class="crayon-num" data-line="crayon-5ab4c5c526278556296175-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c526278556296175-4">4</div><div class="crayon-num" data-line="crayon-5ab4c5c526278556296175-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c526278556296175-6">6</div><div class="crayon-num" data-line="crayon-5ab4c5c526278556296175-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c526278556296175-8">8</div><div class="crayon-num" data-line="crayon-5ab4c5c526278556296175-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c526278556296175-10">10</div><div class="crayon-num" data-line="crayon-5ab4c5c526278556296175-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c526278556296175-12">12</div><div class="crayon-num" data-line="crayon-5ab4c5c526278556296175-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c526278556296175-14">14</div><div class="crayon-num" data-line="crayon-5ab4c5c526278556296175-15">15</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5ab4c5c526278556296175-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-v">redis</span><span class="crayon-o">-</span><span class="crayon-v">cli</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">h</span><span class="crayon-h"> </span><span class="crayon-cn">127.0.0.1</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">p</span><span class="crayon-h"> </span><span class="crayon-cn">6380</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c526278556296175-2"><span class="crayon-cn">127.0.0.1</span><span class="crayon-o">:</span><span class="crayon-cn">6380</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-e">set </span><span class="crayon-e">doge </span><span class="crayon-e">wow</span></div><div class="crayon-line" id="crayon-5ab4c5c526278556296175-3"><span class="crayon-sy">(</span><span class="crayon-v">error</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-e">ERR </span><span class="crayon-e">authentication </span><span class="crayon-i">required</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c526278556296175-4"><span class="crayon-cn">127.0.0.1</span><span class="crayon-o">:</span><span class="crayon-cn">6380</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-i">auth</span><span class="crayon-h"> </span><span class="crayon-v">a</span><span class="crayon-o">-</span><span class="crayon-v">very</span><span class="crayon-o">-</span><span class="crayon-v">strong</span><span class="crayon-o">-</span><span class="crayon-e">password</span></div><div class="crayon-line" id="crayon-5ab4c5c526278556296175-5"><span class="crayon-i">OK</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c526278556296175-6"><span class="crayon-cn">127.0.0.1</span><span class="crayon-o">:</span><span class="crayon-cn">6380</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-e">set </span><span class="crayon-e">doge </span><span class="crayon-e">wow</span></div><div class="crayon-line" id="crayon-5ab4c5c526278556296175-7"><span class="crayon-i">OK</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c526278556296175-8"><span class="crayon-cn">127.0.0.1</span><span class="crayon-o">:</span><span class="crayon-cn">6380</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-r">get</span><span class="crayon-h"> </span><span class="crayon-e">doge</span></div><div class="crayon-line" id="crayon-5ab4c5c526278556296175-9"><span class="crayon-i">wow</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c526278556296175-10"><span class="crayon-cn">127.0.0.1</span><span class="crayon-o">:</span><span class="crayon-cn">6380</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-e">keys </span><span class="crayon-v">dog</span><span class="crayon-o">*</span></div><div class="crayon-line" id="crayon-5ab4c5c526278556296175-11"><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-s">"doge"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c526278556296175-12"><span class="crayon-cn">127.0.0.1</span><span class="crayon-o">:</span><span class="crayon-cn">6380</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-i">eval</span><span class="crayon-h"> </span><span class="crayon-s">"return shdict.call('del', unpack(shdict.call('keys', ARGV[1])))"</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-v">dog</span><span class="crayon-o">*</span></div><div class="crayon-line" id="crayon-5ab4c5c526278556296175-13"><span class="crayon-i">OK</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c526278556296175-14"><span class="crayon-cn">127.0.0.1</span><span class="crayon-o">:</span><span class="crayon-cn">18002</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">keys</span><span class="crayon-h"> </span><span class="crayon-o">*</span></div><div class="crayon-line" id="crayon-5ab4c5c526278556296175-15"><span class="crayon-sy">(</span><span class="crayon-e">empty </span><span class="crayon-e">list </span><span class="crayon-st">or</span><span class="crayon-h"> </span><span class="crayon-v">set</span><span class="crayon-sy">)</span></div></div></td>
</tr>
</table>
</div>
</div>

<p>&nbsp;</p>
<div class="clearfix"></div>
</div>
</article>

<article class="post-2206 post type-post status-publish format-standard hentry category-python tag-python-2">
 
<h2 class="post-title">
<a href="https://yooooo.us/2017/python-local-variable-note" title="Python局部变量的坑">Python局部变量的坑</a>
</h2>
<div class="mythemes-top-meta meta">

<time datetime="2017-11-18"><i class="mythemes-icon-calendar"></i>on 2017 年 11 月 18 日</time>
<div class="clear"></div>

<ul class="post-categories">
<li><a href="https://yooooo.us/category/codes/python" rel="category tag">Python</a></li></ul>


<a class="comments waves-effect waves-dark grey lighten-4" href="https://yooooo.us/2017/python-local-variable-note#respond"><i class="mythemes-icon-comment-5"></i>0&nbsp;&nbsp;&nbsp;<i class="mythemes-icon-eye"></i>1044</a> 
<a href="?variant=zh-hant" class="comments waves-effect waves-dark grey lighten-4"><i class="mythemes-icon-spin3"></i>转为繁体</a>
</div>

<div class="post-content">
<p>最近碰到这么个问题，有这么个函数，用来将HTML转义字符变回原来的字符：</p>
<div id="crayon-5ab4c5c52639e076572514" class="crayon-syntax crayon-theme-classic crayon-font-sourcecodepro crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Python</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
def htmlescape(s):
    if sys.version_info[0] == 3: # python 3.x
        unichr = chr
    def replc(match):
        dict={'amp':'&amp;','nbsp':' ','quot':'"','lt':'&lt;','gt':'&gt;','copy':'©','reg':'®'}
        if len(match.groups()) &gt;= 2:
            if match.group(1) == '#':
                return unichr(int(match.group(2)))
            else:
                return dict.get(match.group(2), '?')
    htmlre = re.compile("&amp;(#?)(\d{1,5}|\w{1,8}|[a-z]+);")
    return htmlre.sub(replc, s)</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5ab4c5c52639e076572514-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c52639e076572514-2">2</div><div class="crayon-num" data-line="crayon-5ab4c5c52639e076572514-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c52639e076572514-4">4</div><div class="crayon-num" data-line="crayon-5ab4c5c52639e076572514-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c52639e076572514-6">6</div><div class="crayon-num" data-line="crayon-5ab4c5c52639e076572514-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c52639e076572514-8">8</div><div class="crayon-num" data-line="crayon-5ab4c5c52639e076572514-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c52639e076572514-10">10</div><div class="crayon-num" data-line="crayon-5ab4c5c52639e076572514-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ab4c5c52639e076572514-12">12</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5ab4c5c52639e076572514-1"><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">htmlescape</span><span class="crayon-sy">(</span><span class="crayon-v">s</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c52639e076572514-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-k ">sys</span><span class="crayon-sy">.</span><span class="crayon-v">version_info</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-c"># python 3.x</span></div><div class="crayon-line" id="crayon-5ab4c5c52639e076572514-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">unichr</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">chr</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c52639e076572514-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">replc</span><span class="crayon-sy">(</span><span class="crayon-v">match</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5ab4c5c52639e076572514-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">dict</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-s">'amp'</span><span class="crayon-o">:</span><span class="crayon-s">'&amp;'</span><span class="crayon-sy">,</span><span class="crayon-s">'nbsp'</span><span class="crayon-o">:</span><span class="crayon-s">' '</span><span class="crayon-sy">,</span><span class="crayon-s">'quot'</span><span class="crayon-o">:</span><span class="crayon-s">'"'</span><span class="crayon-sy">,</span><span class="crayon-s">'lt'</span><span class="crayon-o">:</span><span class="crayon-s">'&lt;'</span><span class="crayon-sy">,</span><span class="crayon-s">'gt'</span><span class="crayon-o">:</span><span class="crayon-s">'&gt;'</span><span class="crayon-sy">,</span><span class="crayon-s">'copy'</span><span class="crayon-o">:</span><span class="crayon-s">'©'</span><span class="crayon-sy">,</span><span class="crayon-s">'reg'</span><span class="crayon-o">:</span><span class="crayon-s">'®'</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c52639e076572514-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-k ">len</span><span class="crayon-sy">(</span><span class="crayon-v">match</span><span class="crayon-sy">.</span><span class="crayon-e">groups</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">&gt;=</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5ab4c5c52639e076572514-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">match</span><span class="crayon-sy">.</span><span class="crayon-e">group</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'#'</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c52639e076572514-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-k ">unichr</span><span class="crayon-sy">(</span><span class="crayon-k ">int</span><span class="crayon-sy">(</span><span class="crayon-v">match</span><span class="crayon-sy">.</span><span class="crayon-e">group</span><span class="crayon-sy">(</span><span class="crayon-cn">2</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5ab4c5c52639e076572514-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c52639e076572514-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-k ">dict</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-v">match</span><span class="crayon-sy">.</span><span class="crayon-e">group</span><span class="crayon-sy">(</span><span class="crayon-cn">2</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'?'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5ab4c5c52639e076572514-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">htmlre</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">re</span><span class="crayon-sy">.</span><span class="crayon-k ">compile</span><span class="crayon-sy">(</span><span class="crayon-s">"&amp;(#?)(\d{1,5}|\w{1,8}|[a-z]+);"</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ab4c5c52639e076572514-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">htmlre</span><span class="crayon-sy">.</span><span class="crayon-e">sub</span><span class="crayon-sy">(</span><span class="crayon-v">replc</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">)</span></div></div></td>
</tr>
</table>
</div>
</div>

<p>其中unichr用来将一个整数转换成Unicode字符，仅在Python2中存在。Python3中，chr可以同时处理ASCII字符和Unicode字符。所以我们在Python3环境中将unichr映射到chr上。</p>
<p>运行这段代码会在第8行报错：NameError: free variable &#8216;unichr&#8217; referenced before assignment in enclosing scope。而且只有Python2会报错，Python3不会。</p>
<p>&nbsp;</p>
<p>首先从问题上看，报错的原因是在闭包replc里unichr没有定义。</p>
<p>但是Python2明明是有unichr这个内置函数的，为啥就变成未定义呢？</p>
<p><img class="aligncenter size-full wp-image-2207" src="https://yooooo.us/wp-content/uploads/2017/11/CFED0280BC0A9A480E45ACFD82A84E78.png" onmouseover="img2weibo(this);" onmouseout="killit(this,event);" alt="" width="52" height="46" /></p>
<p> <a href="https://yooooo.us/2017/python-local-variable-note#more-2206" class="more-link"><span class="hide-on-small-only">Read More</span><span class="hide-on-med-and-up">&rarr;</span></a></p>
<div class="clearfix"></div>
</div>
</article>

<article class="post-2194 post type-post status-publish format-standard hentry category-c-cpp">

<h2 class="post-title">
<a href="https://yooooo.us/2017/enable-utf8-in-ngx-http-geoip-module" title="ngx_http_geoip_module开启utf8支持">ngx_http_geoip_module开启utf8支持</a>
</h2>
<div class="mythemes-top-meta meta">

<time datetime="2017-11-08"><i class="mythemes-icon-calendar"></i>on 2017 年 11 月 8 日</time>
<div class="clear"></div>

<ul class="post-categories">
<li><a href="https://yooooo.us/category/codes/c-cpp" rel="category tag">C/C++</a></li></ul>


<a class="comments waves-effect waves-dark grey lighten-4" href="https://yooooo.us/2017/enable-utf8-in-ngx-http-geoip-module#respond"><i class="mythemes-icon-comment-5"></i>0&nbsp;&nbsp;&nbsp;<i class="mythemes-icon-eye"></i>1005</a> 
<a href="?variant=zh-hant" class="comments waves-effect waves-dark grey lighten-4"><i class="mythemes-icon-spin3"></i>转为繁体</a>
</div>

<div class="post-content">
<p>在<a href="http://ipip.tk">ipip.tk</a>中使用这个模块时，返回了类似这样的输出：</p>
<p>Canada, Quebec, Montr�al</p>
<p><img class="aligncenter size-full wp-image-2110" src="https://yooooo.us/wp-content/uploads/2017/07/297785A95F8C52EC759D58F664F7E5B9.png" onmouseover="img2weibo(this);" onmouseout="killit(this,event);" alt="" width="55" height="22" /></p>
<p>发现<a href="https://forum.nginx.org/read.php?29,170024,170024#msg-170024">有人提过PATCH</a>。于是去<a href="https://github.com/phusion/nginx/blob/master/src/http/modules/ngx_http_geoip_module.c#L809">喵了一眼源码</a>，发现有一个文档里没有提到的隐藏参数。</p>
<p>可以使用</p>
<div id="crayon-5ab4c5c5264b7553626061" class="crayon-syntax crayon-theme-classic crayon-font-sourcecodepro crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
geoip_city /path/to/geoip_city.dat utf8;</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5ab4c5c5264b7553626061-1">1</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5ab4c5c5264b7553626061-1"><span class="crayon-v">geoip_city</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">path</span><span class="crayon-o">/</span><span class="crayon-st">to</span><span class="crayon-o">/</span><span class="crayon-v">geoip_city</span><span class="crayon-sy">.</span><span class="crayon-e">dat </span><span class="crayon-v">utf8</span><span class="crayon-sy">;</span></div></div></td>
</tr>
</table>
</div>
</div>

<p>这样来启用utf8。默认是iso-8859-1，或者叫latin-1。</p>
<p>MySQL默认也是latin-1。大概因为是单字节的，所以大家都爱默认用它；可是除了肉眼可见的字符，别的控制符除了会在终端里用以外并没有什么卵用。</p>
<p>还有libzip里默认用的是CP437，是DOS版的单字节编码。因为大概只有中文版的windows自带的压缩功能会生成GB18030编码的zip文件，所以还魔改过一个<a href="https://github.com/ShooterSub/libzip-zh_cn">中国特色的libzip</a>。</p>
<p>&nbsp;</p>
<div class="clearfix"></div>
</div>
</article>

<article class="post-2212 post type-post status-publish format-standard hentry category-c-cpp category-english tag-coreseek tag-sphinx tag-translated">

<h2 class="post-title">
<a href="https://yooooo.us/2017/sphinx-with-mmseg-based-on-coreseek-eng" title="Sphinx 2.11.1/2.3.2 mmseg patch (coreseek based)">Sphinx 2.11.1/2.3.2 mmseg patch (coreseek based)</a>
</h2>
<div class="mythemes-top-meta meta">

<time datetime="2017-09-22"><i class="mythemes-icon-calendar"></i>on 2017 年 9 月 22 日</time>
<div class="clear"></div>

<ul class="post-categories">
<li><a href="https://yooooo.us/category/codes/c-cpp" rel="category tag">C/C++</a></li>
<li><a href="https://yooooo.us/category/english" rel="category tag">English</a></li></ul>


<a class="comments waves-effect waves-dark grey lighten-4" href="https://yooooo.us/2017/sphinx-with-mmseg-based-on-coreseek-eng#respond"><i class="mythemes-icon-comment-5"></i>0&nbsp;&nbsp;&nbsp;<i class="mythemes-icon-eye"></i>1161</a> 
<a href="?variant=zh-hant" class="comments waves-effect waves-dark grey lighten-4"><i class="mythemes-icon-spin3"></i>转为繁体</a>
</div>

<div class="post-content">
<p><a href="http://yooooo.us/2017/sphinx-with-mmseg-based-on-coreseek">中文版本</a></p>
<p><span id="eng">This patches include work from <a href="https://github.com/nzinfo">nzinfo </a>(add mmseg support) and my patch for Hiragana and Katagana support (see <a href="http://yooooo.us/2016/let-coreseek-indexing-japanese-correctly">this blog post</a>). The changes can be viewed <a href="https://github.com/fffonion/csft/compare/5ea9cf893d95d37b0bbfa737566a4906fc7c0376...fffonion:t/seg">here</a>.</span></p>
<p>For Sphinx 2.11.1：<a href="https://github.com/fffonion/csft/releases/download/mmseg/csft-sphinx-2.2.11.patch">Github</a> <a href="https://dl.yooooo.us/share/csft/csft-sphinx-2.2.11.patch">dl.yooooo.us</a></p>
<p>For Sphinx 2.3.2：<a href="https://github.com/fffonion/csft/releases/download/mmseg/csft-sphinx-2.3.2.patch">Github</a> <a href="https://dl.yooooo.us/share/csft/csft-sphinx-2.3.2.patch">dl.yooooo.us</a></p>
<p> <a href="https://yooooo.us/2017/sphinx-with-mmseg-based-on-coreseek-eng#more-2212" class="more-link"><span class="hide-on-small-only">Read More</span><span class="hide-on-med-and-up">&rarr;</span></a></p>
<div class="clearfix"></div>
</div>
</article>

<article class="post-2167 post type-post status-publish format-standard hentry category-c-cpp tag-coreseek tag-sphinx">

<h2 class="post-title">
<a href="https://yooooo.us/2017/sphinx-with-mmseg-based-on-coreseek" title="Sphinx 2.2.11和2.3.2的mmseg分词补丁（基于Coreseek）">Sphinx 2.2.11和2.3.2的mmseg分词补丁（基于Coreseek）</a>
</h2>
<div class="mythemes-top-meta meta">

<time datetime="2017-09-22"><i class="mythemes-icon-calendar"></i>on 2017 年 9 月 22 日</time>
<div class="clear"></div>

<ul class="post-categories">
<li><a href="https://yooooo.us/category/codes/c-cpp" rel="category tag">C/C++</a></li></ul>


<a class="comments waves-effect waves-dark grey lighten-4" href="https://yooooo.us/2017/sphinx-with-mmseg-based-on-coreseek#respond"><i class="mythemes-icon-comment-5"></i>0&nbsp;&nbsp;&nbsp;<i class="mythemes-icon-eye"></i>1844</a> 
<a href="?variant=zh-hant" class="comments waves-effect waves-dark grey lighten-4"><i class="mythemes-icon-spin3"></i>转为繁体</a>
</div>

<div class="post-content">
<p><a href="http://yooooo.us/2017/sphinx-with-mmseg-based-on-coreseek-eng">English Version</a></p>
<p>补丁包括了<a href="https://github.com/nzinfo">nzinfo</a>在coreseek中贡献的mmseg补丁，以及我提交的日语假名补丁（详见<a href="http://yooooo.us/2016/let-coreseek-indexing-japanese-correctly">这篇博客</a>）。详细更改<a href="https://github.com/fffonion/csft/compare/5ea9cf893d95d37b0bbfa737566a4906fc7c0376...fffonion:t/seg">见这里</a>。</p>
<p>打上补丁之后，可以使用mmseg来做分词器。如果是对大篇幅的文章做索引，推荐使用mmseg处理结巴分词的词库来生成一个比较靠谱的词库。</p>
<p>Sphinx 2.11.1：<a href="https://github.com/fffonion/csft/releases/download/mmseg/csft-sphinx-2.2.11.patch">Github下载</a> <a href="https://dl.yooooo.us/share/csft/csft-sphinx-2.2.11.patch">本地下载</a></p>
<p>Sphinx 2.3.2：<a href="https://github.com/fffonion/csft/releases/download/mmseg/csft-sphinx-2.3.2.patch">Github下载</a> <a href="https://dl.yooooo.us/share/csft/csft-sphinx-2.3.2.patch">本地下载</a></p>
<p> <a href="https://yooooo.us/2017/sphinx-with-mmseg-based-on-coreseek#more-2167" class="more-link"><span class="hide-on-small-only">Read More</span><span class="hide-on-med-and-up">&rarr;</span></a></p>
<div class="clearfix"></div>
</div>
</article>

<div class="row">
<div class="col-lg-12">
<div class="pagination aligncenter">

<nav class="mythemes-nav-inline">
<ul class='page-numbers'>
<li><span aria-current='page' class='page-numbers current'>1</span></li>
<li><a class='page-numbers' href='https://yooooo.us//page/2/'>2</a></li>
<li><a class='page-numbers' href='https://yooooo.us//page/3/'>3</a></li>
<li><span class="page-numbers dots">&hellip;</span></li>
<li><a class='page-numbers' href='https://yooooo.us//page/27/'>27</a></li>
<li><a class="next page-numbers" href="https://yooooo.us//page/2/">Next <i class="mythemes-icon-right-open-1"></i></a></li>
</ul>
</nav>
</div>
</div>
</div>
</section>
<aside class="col s12 m12 l3 mythemes-sidebar sidebar-to-right"><div id="search-5" class="widget widget_search">

<form action="https://yooooo.us/" method="get" id="searchform">
<fieldset>
<div id="searchbox">

<input type="text" name="s" id="keywords" value="type here..." onfocus="if (this.value == 'type here...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'type here...';}">

<button type="submit" class="waves-effect waves-light btn green">

<i class="mythemes-icon-search-5"></i></button>
</div>
</fieldset>
</form></div>

<div id="html_javascript_adder-3" class="widget widget_html_javascript_adder">
<div class="hjawidget textwidget">
<span style="margin-left:20px"></a><a href="#hjawidget" onclick="location.search=location.search.replace(/variant=zh-(?:hans|hk|tw|cn)/,'').replace(/^$/,'')+'variant=zh-hans'">简体</a>
<a href="#hjawidget" onclick="location.search=location.search.replace(/variant=zh-(?:hans|hk|tw|cn)/,'').replace(/^$/,'')+'variant=zh-hk'">港澳繁体</a>
<a href="#hjawidget" onclick="location.search=location.search.replace(/variant=zh-(?:hans|hk|tw|cn)/,'').replace(/^$/,'')+'variant=zh-tw'">台湾正体</a>
</div>
</div>
<div id="recent-posts-2" class="widget widget_recent_entries"> <h4 class="widget-title">　</h4> <ul>
<li>
<a href="https://yooooo.us/2018/use-cmd-do-http-request-under-windows">在Windows中使用命令行发起HTTP请求</a>
<span class="post-date">2018 年 2 月 7 日</span>
</li>
<li>
<a href="https://yooooo.us/2018/use-redis-protocol-to-debug-ngx-shared-api">使用Redis协议来调试ngx.shared</a>
<span class="post-date">2018 年 1 月 25 日</span>
</li>
<li>
<a href="https://yooooo.us/2017/python-local-variable-note">Python局部变量的坑</a>
<span class="post-date">2017 年 11 月 18 日</span>
</li>
<li>
<a href="https://yooooo.us/2017/enable-utf8-in-ngx-http-geoip-module">ngx_http_geoip_module开启utf8支持</a>
<span class="post-date">2017 年 11 月 8 日</span>
</li>
<li>
<a href="https://yooooo.us/2017/sphinx-with-mmseg-based-on-coreseek-eng">Sphinx 2.11.1/2.3.2 mmseg patch (coreseek based)</a>
<span class="post-date">2017 年 9 月 22 日</span>
</li>
</ul>
</div><div id="recent-comments-2" class="widget widget_recent_comments"><h4 class="widget-title">　</h4><ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link">fffonion</span>发表在《<a href="https://yooooo.us/2013/xehentai#comment-4424">xeHentai: 绅士漫画多线程下载器 e-hentai.org, exhentai.org</a>》</li><li class="recentcomments"><span class="comment-author-link">狂想曲</span>发表在《<a href="https://yooooo.us/2013/xehentai#comment-4425">xeHentai: 绅士漫画多线程下载器 e-hentai.org, exhentai.org</a>》</li><li class="recentcomments"><span class="comment-author-link">fffonion</span>发表在《<a href="https://yooooo.us/2013/xehentai#comment-4418">xeHentai: 绅士漫画多线程下载器 e-hentai.org, exhentai.org</a>》</li><li class="recentcomments"><span class="comment-author-link">暗色</span>发表在《<a href="https://yooooo.us/2013/xehentai#comment-4415">xeHentai: 绅士漫画多线程下载器 e-hentai.org, exhentai.org</a>》</li><li class="recentcomments"><span class="comment-author-link">fffonion</span>发表在《<a href="https://yooooo.us/2013/xehentai#comment-4414">xeHentai: 绅士漫画多线程下载器 e-hentai.org, exhentai.org</a>》</li></ul></div>

<div id="html_javascript_adder-4" class="widget widget_html_javascript_adder">
<div class="hjawidget textwidget">
<script type="text/javascript" id="clustrmaps" src="//cdn.clustrmaps.com/map_v2.js?u=gscY&d=qUdRjGv000Dlpkan9eylVds-jSLI-AylzoHo9Sqv4xA"></script>
</div>
</div>

<div id="html_javascript_adder-8" class="widget widget_html_javascript_adder">
<div class="hjawidget textwidget">
<iframe width="100%" height="300" class="share_self" frameborder="0" scrolling="no" src="https://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=1&isTitle=1&noborder=0&isWeibo=1&isFans=0&uid=1130961355&verifier=5c007fea&dpc=1"></iframe>
</div>
</div>
</aside> </div>
</div>
</div>
<script type="text/javascript">
  var _gaq = _gaq || [];
  var pluginUrl = 
 '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
 _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
 _gaq.push(['_setAccount', 'UA-35723104-2']);
 _gaq.push(['_setDomainName', 'yooooo.us']);
 _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
 (function() {
   var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
   ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
   var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>
<footer>

<div class="mythemes-dark-mask">

<div class="container mythemes-social">
<div class="row">
<div class="col s12">
<a href="http://weibo.com/1130961355" class="btn-floating waves-effect waves-light mythemes-icon-weibo target=" _blank"=""></a>
<a href="https://twitter.com/fffonion" class="btn-floating waves-effect waves-light mythemes-icon-twitter" target="_blank"></a>
<a href="https://github.com/fffonion" class="btn-floating waves-effect waves-light mythemes-icon-github" target="_blank"></a>
<a href="https://plus.google.com/110078182508156737409?rel=author" class="btn-floating waves-effect waves-light mythemes-icon-gplus" target="_blank"></a>
<a href="https://yooooo.us/feed" class="btn-floating waves-effect waves-light mythemes-icon-rss" target="_blank"></a>
</div>
</div>
</div>

<div class="mythemes-copyright">

<div class="container">
<div class="row">
<div class="col s12">
<p>
<span class="copyright">&copy;	fffonion只要五毛钱，2013-2018|&nbsp;5 queries in 0.198 seconds. 9.793 MB RAM</br></span>
<span><a target="_blank" href="http://cn.wordpress.org/">傲娇地使用Wordpress</a>| Modified from <a href="http://mythem.es" target="_blank">Materialize</a></span>
<span>| <a href="https://www.wishosting.com" target="_blank">WISHOSTING</a></span> </p>
</div>
</div>
</div>
</div>
</div>
</footer>
<script type="text/javascript" src="https://yooooo.us/wp-content/plugins/img2weibo/img2weibo.js"></script>
<a href="javascript:void(0);" id="imgSinaShare" style="display:none;position:absolute;"><img alt="分享图片到新浪微博" src="//s.yooooo.us/img/weibo_share.gif" /></a>
<script type='text/javascript' src='https://yooooo.us/wp-includes/js/wp-embed.min.js?ver=4.9.4'></script>
</body>
</html>