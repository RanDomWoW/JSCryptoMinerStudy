<!DOCTYPE html>

<html itemscope itemtype="http://schema.org/Product">
	<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# website: http://ogp.me/ns/website#">

		<title>SearchMan: App Store Optimization &amp; SEO Software, Made Easy</title>

		<meta charset="utf-8">
		<meta name="author" content="SearchMan: App Store Optimization &amp; SEO Software, Made Easy">
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<meta name="description" content="SearchMan’s self-serve big data tool makes it easier for your mobile apps to compete for visibility inside the Apple &amp; Android Play app stores. Sign up, it’s free!">
		<meta name="keywords" content="SearchMan, Apple, iOS, iPhone, iPad, Google, Play, Play Store, Android, app, apps, app store, seo, search engine optimization, ASO, app store optimization, SEM, mobile marketing, mobile advertising, ad agencies, digital marketing, app developers, app marketers, keywords, search terms, phrases, SEM, SEO tips, SEO tools, data, SEO services, visibility, market research, market data, leaderboards, best apps">
		<link rel="canonical" href="https://searchman.com/products/" />



		<!-- fb -->
		<meta property="fb:admins" content="623017647,504712116">
		<meta property="og:type" content="website">
		<meta property="og:site_name" content="SearchMan: App Store Optimization &amp; SEO Software, Made Easy">
		<meta property="og:url" content="https://searchman.com/">
		<meta property="og:image" content="https://searchman.com/s/img/icon_256x256.png">
		<meta property="og:title" content="SearchMan: App Store Optimization &amp; SEO Software, Made Easy">
		<meta property="og:description" content="SearchMan is the most popular App Store Optimization &amp; SEO tool. Its Easy.">

		<!-- g+ -->
		<meta itemprop="name" content="SearchMan: App Store Optimization &amp; SEO Software, Made Easy">
		<meta itemprop="description" content="SearchMan is the most popular App Store Optimization &amp; SEO tool. Its Easy.">
		<meta itemprop="image" content="https://searchman.com/s/img/icon_256x256.png">


		<link rel="stylesheet" href="//d2jixqqjqj5d23.cloudfront.net/assets/css/styles.min.css" />
		<link rel='stylesheet' type='text/css' href='//searchman.com/s/css/main.css?0.3' />

		<link rel='stylesheet' type='text/css' href='//d2jixqqjqj5d23.cloudfront.net/assets/plugins/codeprettifier/prettify.css' />
		<link rel='stylesheet' type='text/css' href='//d2jixqqjqj5d23.cloudfront.net/assets/plugins/form-toggle/toggles.css' />
		<link rel="stylesheet" type="text/css" href="//d2jixqqjqj5d23.cloudfront.net/assets/plugins/form-daterangepicker/daterangepicker-bs3.css" />
		<link rel="stylesheet" type="text/css" href="//d2jixqqjqj5d23.cloudfront.net/assets/plugins/form-datetimepicker/bootstrap-datetimepicker.min.css" />
		<link rel="stylesheet" type="text/css" href="//d2jixqqjqj5d23.cloudfront.net/assets/plugins/bootstrap-social/bootstrap-social.css" />
		<link rel='stylesheet' type='text/css' href='//d2jixqqjqj5d23.cloudfront.net/assets/plugins/datatables/dataTables.css' />
		<link rel='stylesheet' type='text/css' href='//d2jixqqjqj5d23.cloudfront.net/assets/plugins/jquery-tags-input/jquery.tagsinput.css' />
		<link rel='stylesheet' type='text/css' href='//d2jixqqjqj5d23.cloudfront.net/assets/js/jqueryui.min.css' />
		<link href="//d2jixqqjqj5d23.cloudfront.net/assets/fonts/font-awesome/css/font-awesome.css" rel="stylesheet" type="text/css" />
		<link href='https://fonts.googleapis.com/css?family=Droid+Sans:400,700' rel='stylesheet' type='text/css'>

		<link rel="shortcut icon" href="//searchman.com/s/img/favicon.ico">
		<link rel="apple-touch-icon" href="//searchman.com/s/img/favicon.ico">
		<link rel="apple-touch-icon" sizes="72x72" href="//searchman.com/s/img/favicon.ico">
		<link rel="apple-touch-icon" sizes="114x114" href="//searchman.com/s/img/favicon.ico">
	</head>

	<body class="">
		<!--header navbar-->
<header class="navbar navbar-inverse navbar-fixed-top" role="banner">
	<nav id="headernav" class="navbar navbar-default" role="navigation">
		<div class="container-fluid">
			<!-- Brand and toggle get grouped for better mobile display -->
			<div class="navbar-header" id="top-navbar">
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
								<div class="navbar-header pull-left">
					<a href="/" class="logo">
						<span><img src="//searchman.com/s/img/Searchman_logo_wt.png" alt="logo" /></span>
					</a>
				</div>
			</div>

			<!-- Collect the nav links, forms, and other content for toggling -->
						<div class="collapse in navbar-collapse hide-on-start" id="bs-example-navbar-collapse-1">
				<ul id="anchorbar" class="nav navbar-nav pull-left toolbar hidden-block">

					

				</ul>
				<ul id="actiontool" class="nav navbar-nav pull-right toolbar">

										
					
					
																<li class="dropdown">
							<button id="signup" type="button" class="btn btn-defaul btn-lg signup-btn-top-nav">
								Sign Up
							</button>
						</li>
						<li class="dropdown">
							<a href="/signin?next=%2F" class="header-menu-item">
								<span>Sign In</span>
							</a>
						</li>
					

					
					<li class="dropdown language-dropdown">
						<a href="/en" class="dropdown-toggle language" data-toggle="dropdown" data-attr-lang-code="en">
							<span class="header-menu-item">
								<span class="language-selected">English</span>
								<i class="fa fa-caret-down header-menu-item"></i>
							</span>
						</a>
						<ul class="dropdown-menu arrow">
																																							<li><a href="/ja" class="language-select" data-attr-lang-code="ja">日本語</a></li>
																					</ul>
					</li>
				</ul>
			</div><!-- /.navbar-collapse -->
		</div><!-- /.container-fluid -->
	</nav>
</header>
<!--header navbar ends-->
		<div id="page-container">
			
			<!--page content-->
			<div id="page-content" class = "page-content full-sized" >
				
				
				
				<!-- Premium access modal starts -->
<div id="premium-access-modal" class="modal fade add-keywords-competitors-modal" data-show="true" data-backdrop="static">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h3 class="modal-title text-center">Upgrade your SearchMan Solutions</h3>
			</div>
			<div class="modal-body">

<table class="table table-hover">
<tr class="th">
	<th class="text-center">ASO</th>
	<th class="text-center">Spreadsheet</th>
	<th class="text-center">API</th>
</tr>

<tr>
	<td style="width:33%;">Research Plus:
<ul style="margin-left: -20px;">
<li>Search Visibility</li>
<li>Competitor Tracking</li>
<li>Prioritize Keywords</li>
</ul></td>
	<td style="width:33%;"><ul style="margin-left: -20px;">
<li>More data <a href="/features/#advtool" target="_blank">See Detail</a></li>
<li>Scheduled Data Fetch</li>
</ul></td>
	<td style="width:33%;">Access to More Data in for Unlimited Apps</td>
</tr>

<tr>
	<td class="text-center">Dashboard</td>
	<td class="text-center">Spreadsheet</td>
	<td class="text-center">API</td>
</tr>

<tr class="price">
	<td class="text-center">$25/App/Month</td>
	<td class="text-center">$99/Month</td>
	<td class="text-center">$249/Month</td>
</tr>
<tr>
	<td class="text-center vertical-middle" id="go-to-subscription">
		<a class="btn btn-blue get-started">Upgrade Your ASO Plan</a>
	</td>
	<td colspan="2" class="text-center vertical-middle">
		<a class="btn btn-blue" href="https://developer.searchman.com/signup?&utm_source=searchman" target="_blank">Start a Free Trial for Spreadsheets & API Solution</a>
		<p class="note">* You will need a separate account for Spreadsheet & API Solutions.</p>
	</td>
</tr>
</table>

			</div>
		</div>
	</div>
</div>
<!-- Premium access ends -->




				<!-- debug info block -->
								<!-- end debug info block -->
			</div> <!-- page-content ends -->
		</div> <!-- page-container ends-->
		<div id="bg-loader"></div>

			<footer role="contentinfo">
		<div class="clearfix footer-box">
			<div class="footericons pull-right">
				<ul class="footericons pull-right list-inline">
					<li><a href="https://www.facebook.com/SearchMandotcom" target="_blank"><i class="fa  fa-facebook-square fa-3x"></i></a></li>
					<li><a href="https://twitter.com/searchmanseo" target="_blank"><i class="fa fa-twitter-square fa-3x"></i></a></li>
					<li><a href="https://www.linkedin.com/company-beta/2578426/" target="_blank"><i class="fa  fa-linkedin-square fa-3x"></i></a></li>
				</ul>
			</div>
			<div class="pull-left company-info">
				<a href="/" class="logo show"><span><img src="//searchman.com/s/img/Searchman_logo_wt.png" alt="logo" /></span></a>
				<small class="copyright show">Searchman Copyright &copy; 2012-2018</small>
			</div>
			<ul class="list-inline footer-list">
				<li><a href="/">Home</a></li>
				<li><a href="/app-store-optimization-aso/">About SEO (App Store Optimization)</a></li>
				<li><a href="https://developer.searchman.com/?&utm_source=searchman" target="_blank">Advanced Data Tools</a></li>

				<li><a href="/s/doc/tos.html" target="_blank">Terms of Service</a></li>
				<li><a href="/s/doc/privacy.html" target="_blank">Privacy Policy</a></li>
			</ul>
			<a href="#" class="pull"><i class="fa fa-list"></i></a>
		</div>
	</footer>


		

		<!-- regwall modal starts -->
<div id="regwall-modal" class="modal fade" data-show="true" data-backdrop="static">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
				<h3 class="modal-title text-center">FREE Sign-Up for SearchMan Solutions</h3>
			</div>
			<div class="modal-body">


<table class="table table-hover">
<tr class="th">
	<th class="text-center" style="width:25%;">Research</th>
	<th class="text-center" style="width:25%;">ASO</th>
	<th class="text-center" style="width:25%;">Spreadsheet</th>
	<th class="text-center" style="width:25%;">API</th>
</tr>

<tr>
	<td style="width:25%;">For Unlimited Apps:
<ul style="margin-left: -20px;">
<li>Category Ranking</li>
<li>Search Ranking</li>
<li>Review & Ratings</li>
</ul></td>
	<td style="width:25%;">Research Plus:
<ul style="margin-left: -20px;">
<li>Search Visibility</li>
<li>Competitor Tracking</li>
<li>Prioritize Keywords</li>
</ul></td>
	<td style="width:25%;"><ul style="margin-left: -20px;">
<li>More data <a href="/features/#advtool" target="_blank">See Detail</a></li>
<li>Scheduled Data Fetch</li>
</ul></td>
	<td style="width:25%;">Access to More Data in for Unlimited Apps</td>
</tr>

<tr>
	<td colspan="2" class="text-center">Dashboard</td>
	<td class="text-center">Spreadsheet</td>
	<td class="text-center">API</td>
</tr>

<tr class="price">
	<td class="text-center">Free</td>
	<td class="text-center">$25/App/Month</td>
	<td class="text-center">$99/Month</td>
	<td class="text-center">$249/Month</td>
</tr>
<tr>
	<td colspan="2" class="text-center vertical-middle">
		<a class="btn btn-blue get-started" id="open_signup_modal" href="#">Sign Up for ASO Solution</a>
	</td>
	<td colspan="2" class="text-center vertical-middle">
		<a class="btn btn-blue" href="https://developer.searchman.com/signup?&utm_source=searchman" target="_blank">Start a Free Trial for Spreadsheets & API Solution</a>
		<p class="note">* You will need a separate account for Spreadsheet & API Solutions.</p>
	</td>
</tr>
</table>


			</div>
		</div>
	</div>
</div>
<!-- regwall ends -->

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
<script>!window.jQuery && document.write(unescape('%3Cscript src="assets/js/jquery-1.10.2.min.js"%3E%3C/script%3E'))</script>
<script type="text/javascript">!window.jQuery.ui && document.write(unescape('%3Cscript src="assets/js/jqueryui-1.10.3.min.js'))</script>

<script type='text/javascript' src='//d2jixqqjqj5d23.cloudfront.net/assets/js/bootstrap.min.js'></script>

<script type='text/javascript' src='//d2jixqqjqj5d23.cloudfront.net/assets/js/enquire.js'></script>
<script type='text/javascript' src='//d2jixqqjqj5d23.cloudfront.net/assets/js/jquery.cookie.js'></script>
<script type='text/javascript' src='//d2jixqqjqj5d23.cloudfront.net/assets/js/jquery.nicescroll.min.js'></script>
<script type='text/javascript' src='//d2jixqqjqj5d23.cloudfront.net/assets/js/placeholdr.js'></script>
<script type='text/javascript' src='//d2jixqqjqj5d23.cloudfront.net/assets/js/application_v2.js'></script>
<script type='text/javascript' src='//d2jixqqjqj5d23.cloudfront.net/assets/js/jquery.lazyload.js'></script>
<script type='text/javascript' src='//d2jixqqjqj5d23.cloudfront.net/assets/js/jquery.social.js'></script>
<script type='text/javascript' src='//d2jixqqjqj5d23.cloudfront.net/assets/js/handlebars-v1.3.0.js'></script>

<script type='text/javascript' src='//d2jixqqjqj5d23.cloudfront.net/assets/plugins/codeprettifier/prettify.js'></script>
<script type='text/javascript' src='//d2jixqqjqj5d23.cloudfront.net/assets/plugins/easypiechart/jquery.easypiechart.min.js'></script>
<script type='text/javascript' src='//d2jixqqjqj5d23.cloudfront.net/assets/plugins/sparklines/jquery.sparklines.min.js'></script>
<script type='text/javascript' src='//d2jixqqjqj5d23.cloudfront.net/assets/plugins/form-toggle/toggle.min.js'></script>
<script type="text/javascript" src="//d2jixqqjqj5d23.cloudfront.net/assets/plugins/form-daterangepicker/moment.min.js"></script>
<script type="text/javascript" src="//d2jixqqjqj5d23.cloudfront.net/assets/plugins/form-daterangepicker/daterangepicker.js"></script>
<script type="text/javascript" src="//d2jixqqjqj5d23.cloudfront.net/assets/plugins/datatables/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="//d2jixqqjqj5d23.cloudfront.net/assets/plugins/datatables/dataTables.bootstrap.js"></script>
<script type="text/javascript" src="//d2jixqqjqj5d23.cloudfront.net/assets/plugins/bootbox/bootbox.min.js"></script>
<script type='text/javascript' src='//d2jixqqjqj5d23.cloudfront.net/assets/plugins/charts-chartjs/Chart.min.js'></script>
<script type='text/javascript' src='//d2jixqqjqj5d23.cloudfront.net/assets/plugins/jquery-tags-input/jquery.tagsinput.js'></script>
<script type='text/javascript' src='//d2jixqqjqj5d23.cloudfront.net/assets/plugins/form-datetimepicker/bootstrap-datetimepicker.min.js'></script>
<script type='text/javascript' src='//d2jixqqjqj5d23.cloudfront.net/assets/plugins/tag_it/tag-it.js'></script>
<script type='text/javascript' src='//d2jixqqjqj5d23.cloudfront.net/assets/plugins/file_upload/jquery.fileupload.js'></script>
<script type='text/javascript' src='//d2jixqqjqj5d23.cloudfront.net/assets/plugins/stellar/jquery.stellar.js'></script>

<script type="text/javascript" src="https://js.stripe.com/v2/"></script>

<script type='text/javascript' src='//searchman.com/s/js/common.js?0.3'></script>
<script type='text/javascript' src='//searchman.com/s/js/validation.js?0.3'></script>
<script type='text/javascript' src='//searchman.com/s/js/errors.js?0.3'></script>

<script type='text/javascript' src='//d2jixqqjqj5d23.cloudfront.net/assets/js/highcharts/v4.0.1/highcharts.js'></script>
<script type='text/javascript' src='//d2jixqqjqj5d23.cloudfront.net/assets/js/highcharts/v4.0.1/modules/exporting.js'></script>		
		<script type="text/javascript">
	// key codes
	var b_enter_code 		= 13,
		b_arrow_left_code 	= 37,
		b_arrow_up_code 	= 38,
		b_arrow_right_code 	= 39,
		b_arrow_down_code 	= 40;

	//payment vars
		b_include_tweet		= Number("0"),
		b_require_paywall	= Number("0"),
		b_is_paid			= Number("0");

	// common variables
	var b_platform		= 							"ios"
						,
		b_device		= 															"iPhone"
													,
		b_country_code	= 							"US"
						,
		b_lang			= "en",
		b_query			= "",

		b_selected_apps	= {},
		b_my_apps		= Array(),
		b_has_my_apps	= Number("0"),
		b_platform_devices = {},
		b_supported_countries = {};

					b_platform_devices["ios"] = Array();
							b_platform_devices["ios"].push("iPhone");
							b_platform_devices["ios"].push("iPad");
								b_platform_devices["android"] = Array();
							b_platform_devices["android"].push("android");
					
					b_supported_countries["ios"] = Array();
							b_supported_countries["ios"].push("US");
							b_supported_countries["ios"].push("JP");
							b_supported_countries["ios"].push("GB");
								b_supported_countries["android"] = Array();
							b_supported_countries["android"].push("US");
							b_supported_countries["android"].push("JP");
					
	// responsive variables
	var b_screen_desktop = 1024,
		b_screen_tablet = 768,
		b_screen_mobile = 480;

	// global server variables object
	var app = {};
						app.roles = [];
								app.developer_site_base = "https://searchman.com";
			
	var global_strings = {
		'graphs.titles.category_rankings': "Category Ranking",
		'graphs.titles.keyword_rankings': "Search Ranking",
		'search_iPhone'	: 'in App Store (iPhone)',
		'search_iPad'	: 'in App Store (iPad)',
		'search_android': 'in App Store (Google Play)',
	};

	// mixpanel
	var mp_pageName = "/", 
	mp_uri = "/", 
	mp_lang = "en", 
	mp_plan_id = "1", 
	mp_quantity = "0",
	mp_is_paying_customer = "0";

	// Google Analytics
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-32166967-1']);
	_gaq.push(['_trackPageview', '/']);
	(function() {
		var ga = document.createElement('script');
			ga.type = 'text/javascript';
			ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0];
		s.parentNode.insertBefore(ga, s);
	})();


	// facebook pixel
!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,'script','//connect.facebook.net/en_US/fbevents.js');

fbq('init', '1714719872135237');
fbq('track', "ViewContent");

	
	// uservoice
	UserVoice=window.UserVoice||[];(function(){var uv=document.createElement('script');uv.type='text/javascript';uv.async=true;uv.src='//widget.uservoice.com/aX4FErlWBLH3DMOwCTeEQQ.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(uv,s)})();

	UserVoice.push(['set', {
		accent_color: '#28aae1',
		trigger_color: 'white',
		trigger_background_color: '#28aae1'
	}]);

	var user_info = {};
	if (app.roles.hasOwnProperty('user')) {
		user_info.email = "";
		user_info.user_id = "";
		user_info.group_id = "";
	}

	UserVoice.push(['identify', user_info]);
	UserVoice.push(['addTrigger', { mode: 'contact', trigger_position: 'bottom-right' }]);


	$(document).ready(function(){
		if(b_is_paid && b_require_paywall) {
			$('#premium-access-modal').modal().on('hidden.bs.modal', function () {
				window.location = '/';
			});
			mixpanel.track("viewPayWall", {pageName: mp_pageName, uri: mp_uri, lang: mp_lang, plan_id: mp_plan_id, quantity: mp_quantity, is_paying_customer: mp_is_paying_customer });
		}

		$(document).on('click', '.bookmark-btn', function(){
			var params = {
				'myapps_platform'		: $(this).attr('data-attr-platform'),
				'myapps_country_code'	: $(this).attr('data-attr-country-code'),
				'myapps_app_id'			: $(this).attr('data-attr-app-id'),
				'status'				: 1,
			},
			block = $(this).parents('.bookmark-control'),
			num_tr_bookmarked = 0;

			if(block.hasClass('bookmarked')) {
				params['status'] = 0;
			}
			$.ajax({
				type: "POST",
				url: "/private_app/set_bookmark",
				data: $.param(params),
				dataType: 'json',
				beforeSend: function() {
					show_loader();
				},
				success: function(data) {
					if(typeof data.type != 'undefined' || data.type == 'error' || typeof data.errors != 'undefined') {
						//error situation
						bootbox.alert("<h3>We could not bookmark the app. Please try again later.</h3>");
					} else {
						block.toggleClass('bookmarked');
						block.find('i').toggleClass('fa-star');
						block.find('i').toggleClass('fa-star-o');


						// for portfolio
						// country-tr: add/remove class
						$('[data-tr-id-country="'+params['myapps_platform']+'-'+params['myapps_app_id']+'-'+params['myapps_country_code']+'"]').attr('data-tr-bookmarked', params['status']);

						// count num_tr_bookmarked
						$('[data-tr-id="'+params['myapps_platform'] + '-' + params['myapps_app_id']+'"]').each(function( i ) {
							if($(this).attr('data-tr-type') == 'country' && $(this).attr('data-tr-bookmarked') == 1){
								num_tr_bookmarked++;
							}
						});

						// update parant
						$('[data-tr-id="'+params['myapps_platform']+'-'+params['myapps_app_id']+'"]').filter('[data-tr-type="header"]').attr('data-tr-bookmarked', num_tr_bookmarked);
					}
					hide_loader();
				},
			});
		});

	})

	/**
	* Create myapps list on add_competitors modal
	* @param {object} myapps
	*
	*/
	function form_myapps_list(myapps, page)
	{
	   var html = '';
	   for(var platform in myapps) {
		   for(var app_id in myapps[platform]){
			   for (var country_code in myapps[platform][app_id]){
				   if(typeof myapps[platform][app_id][country_code]['app_info'] == 'undefined') {
					   continue;
				   }
				   var app = myapps[platform][app_id][country_code]['app_info']['app'];
				   if(!app) {
					   continue;
				   }
				   var	url = '/' + platform + '/app/' + country_code + '/'  + app_id + '/' + b_lang +'/' + encodeURI(app['trackName']),
					   platform_icon = 'fa-android';
				   if(platform == 'ios') {
					   platform_icon = 'fa-apple';
				   }

				   html += '<div class="app-row" data-attr-app-id="' + app_id + '" data-attr-country-code = "' + country_code + '"'
						   + ' data-attr-platform="' + platform + '">';

				   if (page == 'subscribe') {
					   html += '<input class="pull-left app-checkbox" type="checkbox" />';
				   }

					   html += '<a href="' + url + '" class="pull-left app-icon black-tooltip" data-toggle="tooltip" title="' + app['trackName'] + '">';
					   html += '<img class="' + platform + '-corner40" src="' + app['artworkUrl60'] + '">';
					   html += '</a>';
					   html += '<a href="' + url + '" class="pull-left truncated app-name">' + app['trackName'] + '</a>';
					   html += '<i class="fa ' + platform_icon + ' fa-2x pull-left app-brand"></i>';
					   html += '<img class="pull-left app-country" src="https://s3-us-west-1.amazonaws.com/appstore.appgrooves.com/country2/' + country_code + '.png">'
					   html += '<i class="fa fa-check-circle fa-inverse fa-2x pull-right app-check"></i>';
				   html += '</div>';
			   }
		   }
	   }
	   if(html.length == 0) {
		   html = '<div class="alert alert-info">Please add apps to ”My Apps” first</div>';
	   }
	   return html;
	}

	function verify_country_switcher()
	{
		if($(document).find('#page-heading').length == 0) {
			return;
		}
		var app_id = $('#page-heading').attr('data-attr-app-id'),
			params = {},
			send_data = {};

		send_data[b_platform] = Array(app_id);

		params = {
			'platform2app_ids' : send_data
		}

		$.ajax({
			type: 'POST',
			url: '/myapps/apps_availability',
			data: $.param(params),
			dataType: 'json',
			beforeSend: function() {
				show_loader();
			},
			success: function(data) {
				hide_loader();
				if(typeof data.type != 'undefined' || data.type == 'error' || typeof data.errors != 'undefined') {
					bootbox.alert("Unexpected server error")
				}
				else {
					$('.country-switch li').css('display', 'none');
					if(!$.isEmptyObject(data.availability)) {
						var availabilities = iVal(data, ['availability', b_platform, app_id], []);
						for(var i in availabilities){
							$('.country-switch').find('#switch-' + availabilities[i]).css('display', 'block');
						}
					}
				}
			}
		});
	}

	/**
	* Insert graph to object with custom options
	* @param {object} object
	* @param {object} options
	* @returns {undefined}
	*/
   function generate_graph(object, options, y_min)
   {
	  Highcharts.setOptions({
		  lang: {
			  resetZoom: 'Reset',
		  }
	  });
	   var max_y_value = 0,
		   max_x_value = 0,
		   min_x_value = new Date().getTime(),
		   show_legend_updates = false,
		   class_name = iVal(options, ['chart', 'className'], ''),
		   max_y = 0;
	   if(!$.isEmptyObject(options.series)) {
		   for(var i in options.series) {
			   if(options.series[i].data.length == 1) {
				   options.series[i].data[0]['marker']['enabled'] = true;
			   }
			   for(var j in options.series[i].data){
				   max_y_value = Math.max(max_y_value, options.series[i].data[j]['y']);
				   max_x_value = Math.max(max_x_value, options.series[i].data[j]['x']);
				   min_x_value = Math.min(min_x_value, options.series[i].data[j]['x']);
				   if(options.series[i].data.length > 1 && options.series[i].data[j]['marker']['enabled']) {
					   show_legend_updates = true;
				   }
			   }
		   }

		   if(show_legend_updates){
			   //add only one time
				for(var i in options.series) {
					if(options.series[i].index == 'updates-legend') {
						show_legend_updates = false;
					}
				}
			}

			if(show_legend_updates) {
				options.series.push({
					legendIndex: options.series.length,
					data: Array(),
					name: "App Update",
					index: 'updates-legend',
					type: 'scatter',
					marker: {
						symbol: "url(//searchman.com/s/img/app_new_version.png)"
					}
				});
		   }
	   }

	   max_y = max_y_value;
	   max_y_value /= 10;
	   max_y_value -= max_y_value % 10;

	   if(max_y_value < 10) {
		   max_y_value = 10;
	   }
	   var min_options = {
		   yAxis: {
			   min: y_min,
			   startOnTick: false,
			   tickPositioner: function () {
				   // this functions forms array of ticks for y axis labels
				   // step is ten ranks, beginning from first rank
				   var positions = [y_min];
				   for (var i = max_y_value; i <= object.highcharts().yAxis[0].getExtremes().dataMax + max_y_value; i += max_y_value) {
					   positions.push(i);
					}
					return positions;
			   },
		   },
	   };

	   var default_options = {
		   chart: {
			   type: 'spline',
			   zoomType: 'x',
			   animation: {
				   duration: 1000
			   },
			   resetZoomButton: {
				   relativeTo: "chart",
				   position: {
						x: 5,
						y: -30,
						verticalAlign: 'bottom',
						align: 'left',
				   },
			   },
			   events: {
					load: function() {
						this.renderer.image("//searchman.com/s/img/searchman_logo_credit_in_graph.png", 85, 16, 150, 16)
							.add()
							.css({'opacity': $(window).width() > b_screen_desktop ? '0.3' : '0'});
					}
				},
		   },
		   credits: {
			   enabled: false,
		   },
		   exporting: {
			   buttons: {
				   contextButton: {
					   verticalAlign: 'bottom',
					   enabled: $(window).width() > b_screen_desktop,
				   }
			   }
		   },
		   xAxis: {
			   type: 'datetime',
			   minPadding: 0,
			   minRange: 24 * 3600000,
			   minTickInterval: 24 * 3600000, // min tick = 24 hours
			   labels: {
				   overflow: 'hidden',
				   align: 'left',
			   },
			   showLastLabel: false,
			   lineWidth: 1,
			   gridLineWidth:1,
			   gridLineColor: '#e6e7e8',
			   events: {
				   afterSetExtremes: function(){
					   this.minRange = 24 * 3600000;
				   }
			   }
		   },
		   yAxis: {
			   min: 0,
			   title: {
				   text: null,
			   },
			   lineWidth: 1,
			   gridLineColor: '#e6e7e8',
		   },
		   tooltip: {
			   shared: true,
			   crosshairs: true
		   },
		   plotOptions: {
			   spline: {
				   lineWidth: 2,
				   states: {
					   hover: {
						   lineWidth: 3
					   }
				   },
			   },
			   scatter: {
				   events: {
					   legendItemClick: function(){
						   if(this.options['index'] == 'updates-legend') {
								return false;
							}
					   }
				   }
			   }
		   },
		   legend: {
			   layout: 'vertical',
			   backgroundColor: '#ffffff',
			   borderColor: '#fff',
			   align: 'right',
			   verticalAlign: 'top',
			   width: $(window).width() < b_screen_desktop ? 200 : 150,
			   y: 0,
		   },
	   };

	   if(class_name != 'bottom-legend-chart') {
		   default_options.legend['labelFormatter'] = function() {
				// do truncation
				return format_graph_legend_label(this.name);
			}
	   }
	   if (typeof y_min != 'undefined') {
		   $.extend(true, default_options, min_options);
	   }

	   $.extend(true, default_options, options)
	   //set min/max xAxis values
	   if(iVal(default_options, ['xAxis', 'min'], null) == null) {
		   default_options['xAxis']['min'] = min_x_value;
	   }

	   if(iVal(default_options, ['xAxis', 'max'], null) == null) {
		   default_options['xAxis']['max'] = max_x_value;
	   }

	   $(object).highcharts(default_options);
	   var chart = $(object).highcharts();
	   if(!$.isEmptyObject(chart)){
		   var min_date_without_time = moment(chart.axes[0].min).utc().format('YYYY-MM-DD'),
			   max_date_without_time = moment(chart.axes[0].max).utc().format('YYYY-MM-DD'),
			   current_date = new Date(min_date_without_time).getTime(),
			   max_date = new Date(max_date_without_time).getTime(),
			   weekends = {};

		   while(current_date <= max_date) {
			   if(new Date(current_date).getDay() == 5) { //Friday
				   weekends[current_date] = {
					   color: '#f5f5f5',
					   from: current_date,
					   to: current_date + (2 * 86400000) // add 2 days
				   }
			   }
			   current_date += 86400000; // add 2 days
		   }

		   if(!$.isEmptyObject(weekends)){
			   for(var i in weekends){
				   chart.axes[0].addPlotBand(weekends[i]);
			   }
		   }
	   }

	   $($(object).find(".highcharts-container svg>image")).appendTo($(object).find('.highcharts-container svg'));
	   redraw_responsive_charts();
	   if(!$.isEmptyObject(chart)){
			$(object).find('svg>image').attr('y', (chart.plotHeight - 15));
			var x_space = 0;
			if (max_y < 1000000) {
				if (max_y < 100000){
					if (max_y < 10000){
						x_space = 60;
					} else {
						x_space = 70;
					}
				} else {
					x_space = 80;
				}
			} else {
				x_space = 90;
			}
			$(object).find('svg>image').attr('x', (25 + x_space));
		}

	   if (typeof options.series == 'undefined' || !options.series.length) {
		   $(object).find('.highcharts-container').hide();
		   $(object).append("<div class='alert alert-info'>No data is available</div>");
	   }
	   else {
		   $(object).find('.highcharts-container').show();
	   }
   }

   /**
	* Update all tooltips (i.e. elements with class="black-tooltip" and class="black-popover")
	*/
   function show_tooltips()
   {
		$('.black-tooltip').tooltip({
		   container: 'body',
		});

		if($(window).width() < b_screen_tablet) {
			$('.responsive-popover').attr('data-placement', 'bottom');
		} else {
			$('.responsive-popover').attr('data-placement', $('.responsive-popover').attr('previous-placement'));
		}

		$('.black-popover').popover({
		   container: 'body',
		   trigger: 'hover',
		   html: true,
		});

		$('tr.unselectable td, tr.not-ranked-row td').each(function(){
			if($(this).hasClass('add-popover')){
				return;
			}
			$(this).addClass('add-popover');
			$(this).popover({
				content: "No ranking data",
				placement: 'top',
				trigger: 'click',
				container: 'body',
			 }).on('shown.bs.popover', function() {
				 var table_cell = this;
				 setTimeout(function() {
					$(table_cell).popover('hide');
				 }, 2000);
			 }).on('hidden.bs.popover', function(){
				 $('.popover:not(.in)').remove();
			 }).on('show.bs.popover', function(){
				 $('.popover.in').remove();
			 });

		});
   }

   var sidebar_nav = (function () {

	/*privates*/

	/*
	* reg exp to match device GET parameter.
	* for example, applying to http://regexr.com/foo.html?d=iPhone&q=bar
	* match will return 'iPhone'
	*/
	var deviceRE = /d=([^&.]+)/;

	var opened_keywords = {};

	/**
	* Sets higlight for left bar nav menu.
	* @param string subpage
	*/
	function setSubpageSwitch (subpage) {
		var $collection = $('.active.hasChild');
		$collection.find('.active').removeClass('active');
		$collection.find('li a').each(function(index, el) {
			if ($(el).attr('data-target') == subpage) {
				$(el).parent().addClass('active');
			}
		});
	}

	/* publics */
	return {
		/**
		* Function spawns container for appropriate subpage
		* and device (which has been choosed by user). It also
		* sets menu highlight for device switch and navigation
		* left bar.
		* @param string subpage
		* @param string device
		*/
		spawn_container: function(subpage, device) {

			var	selector = '.container-app[data-device-subpage="{device}/{subpage}"]';
			selector = selector.replace("{device}", device)
				.replace("{subpage}", subpage);
			if($(selector).length == 0) {
				return;
			}
			$('.container-app:not(.hidden-app)').addClass('hidden-app');
			$(selector).removeClass('hidden-app');

			// rewrite device in country switch url
			$('.country-switch li a').each(function() {
				var href = $(this).attr('href');
				if ((/\?d=\w+$/).test(href)) {
					href = href.replace(/\?d=\w+$/, '?d=' + device);
				}
				else {
					href += '?d=' + device;
				}
				$(this).attr('href', href);
			});

			b_selected_apps = {};
			$('#table-search-result tr').removeClass('selected');
			$('.search-add-portfilio').addClass('disabled-button');
			$('.search-add-as-competitor').addClass('disabled-button');

			switch (subpage) {
				case 'overview':
					generate_category_rank_graph(
						$('#app-category-ranking-graph-' + device),
						global_series['category_rankings'][device],
						{yaxis_text: global_strings['graphs.titles.category_rankings']}
					);

					generate_search_visibility_graph(
						$('#app-search-visibility-graph-' + device),
						global_series['search_visibility'][device],
						{yaxis_text: "Visibility Score"}
					);

					create_mini_graphs($('.mini-graph-' + device + ':not(.already-inserted-graph)'), {
						barWidth: "2px",
						type: 'bar',
						
						tooltipFormat: '{{value}}',
						
					});

					$('.mini-graph-' + device).addClass('already-inserted-graph');
					format_app_version_table(device);
				break;

				case 'keywords':
					generate_keyword_rank_graph(
						$('#keywords-app-term-ranking-graph-' + device),
						global_series['keyword_rankings'][device],
						{yaxis_text: global_strings['graphs.titles.keyword_rankings']}
					);

					if (typeof opened_keywords[device] == 'undefined') {
						opened_keywords[device] = true;
						$('#term-rank-table-' + device + ' tr').removeClass('selected');
						$('#term-rank-table-' + device + ' .selectable').each(function(){
							//show all series by default
							$(this).toggleClass('selected');
							show_term_graph_series(this, $('#keywords-app-term-ranking-graph-' + device).highcharts());
						});
					}

					$('#term-rank-table-' + device + ' .selectable').each(function(){
						show_term_graph_series(this, $('#keywords-app-term-ranking-graph-' + device).highcharts());
					});
					if($('#term-rank-table-' + device + ' tr.selected').length == 0) {
						$('.add-to-keywords').addClass('disabled-button');
						$('#selected-keywords-' + device).addClass('hidden');
					}
					if(!b_has_my_apps) {
						$('.add-to-keywords').addClass('disabled-button');
						$('.add-to-keywords').attr('data-original-title', "Please add apps to ”My Apps” first");
					} else {
						$('.add-to-keywords').attr('data-original-title', "Select keyword first");
					}
				break;
			}

			update_lazy_images();
			var $collection = $('.device-switch');
			$collection.find('.device-switch-button.active-device').removeClass('active-device');
			$collection.find('.device-switch-button').each(function(index, el) {
				if ($(el).attr('data-attr-device') == device) {
					$(el).addClass('active-device');
				}
			});
			setSubpageSwitch(subpage);
			highlight_left_submenus();
		},
		/* Next two functions get device and subpage from GET params */
		deviceFromParam: function() {
			var deviceParam = window.location.search.match(deviceRE),
				defaultDevice = $('.device-switch-annotation').first().text();
			deviceParam = (deviceParam == null) ? defaultDevice : deviceParam.pop();
			return deviceParam;
		},
		subpageFromParam: function() {
			var subpageParam = window.location.hash.slice(1);
			subpageParam = (subpageParam == '') ? 'overview' : subpageParam;
			return subpageParam;
		}
	};
})();

function format_app_version_table(device)
{
	if($('.version-history-table-' + device).hasClass('expandable')) {
		$('.version-history-table-' + device + ' tr').each(function(index){
			if(index > 1 && (index < $('.version-history-table-' + device + ' tr').length - 2)) {
				$(this).addClass('hidden');
			}
		});
		var html = '<tr class="more-versions-row"><td></td><td></td><td>...</td><td></td></tr>';
		$(html).insertAfter('.version-history-table-' + device + ' tr:not(.hidden):nth-child(2)');
	}
}

</script><script type="text/javascript">
	var paywall_sharer,
		feature_name_strings = {},
		views_description_strings = {};
	
			views_description_strings["ad-keywords-fb-container"] = Array();
									views_description_strings["ad-keywords-fb-container"].push("<b>CSV download</b> of all historical data");
												views_description_strings["ad-keywords-fb-container"].push("<b>”Prioritized Keywords”</b> - to make your keyword updates easy");
												views_description_strings["ad-keywords-fb-container"].push("<b>”Keywords for Facebook Ads”</b> - Reach high quality audience");
								views_description_strings["finalize-keywords-container"] = Array();
									views_description_strings["finalize-keywords-container"].push("<b>CSV download</b> of all historical data");
												views_description_strings["finalize-keywords-container"].push("<b>”Prioritized Keywords”</b> - to make your keyword updates easy");
												views_description_strings["finalize-keywords-container"].push("<b>”Keywords for Facebook Ads”</b> - Reach high quality audience");
								views_description_strings["csv_download"] = Array();
									views_description_strings["csv_download"].push("<b>CSV download</b> of all historical data");
												views_description_strings["csv_download"].push("<b>”Prioritized Keywords”</b> - to make your keyword updates easy");
												views_description_strings["csv_download"].push("<b>”Keywords for Facebook Ads”</b> - Reach high quality audience");
								views_description_strings["finalize_keywords_csv_download"] = Array();
									views_description_strings["finalize_keywords_csv_download"].push("<b>CSV download</b> of all historical data");
												views_description_strings["finalize_keywords_csv_download"].push("<b>”Prioritized Keywords”</b> - to make your keyword updates easy");
												views_description_strings["finalize_keywords_csv_download"].push("<b>”Keywords for Facebook Ads”</b> - Reach high quality audience");
								views_description_strings["feature_name"] = Array();
									feature_name_strings["csv_download"] = "Export Report (.csv)";
												feature_name_strings["finalize_keywords_csv_download"] = "Export Report (.csv)";
												feature_name_strings["ad-keywords-fb-container"] = "Keywords for Ads";
												feature_name_strings["finalize-keywords-container"] = "Finalize Keywords";
						
	$(document).ready(function() {
		var app_id = $('.page-heading').attr('data-attr-app-id'),
			platform2app_ids = {},
			subscription_url = "/subscription?mode=upgrade&next=%2F";
		platform2app_ids = {'platform2app_ids': {}};
		platform2app_ids['platform2app_ids'][b_platform] = [app_id];
		subscription_url += '&' + $.param(platform2app_ids);
		update_views_list($('.container').attr('id'));



		$('#go-to-subscription a').attr('href', subscription_url);
		// init sharer
		paywall_sharer = new sharer();
		paywall_sharer.init({
			fb_cookie	: true,
			fb_url		: "/ios/search_visibility_rank/us/iPhone/all/en/all-categories/",
			tw_url		: "/ios/search_visibility_rank/us/iPhone/all/en/all-categories/",
			text		: "iOS+Android Developers-Check out SearchMan.com Keyword research, competitor tracking, appstore optimization & SEO"
		});

		// when tweet is done:
		$('#twitterbutton_paywall').twitterbutton({
			user	: "SearchManSEO",
			layout	: 'horizontal',
			url		: "/ios/search_visibility_rank/us/iPhone/all/en/all-categories/",
//			title	: "iOS+Android Developers-Check out SearchMan.com Keyword research, competitor tracking, appstore optimization & SEO https://searchman.com/",
			title	: "iOS+Android Developers-Check out SearchMan.com Keyword research, competitor tracking, appstore optimization & SEO",
			ontweet:function(response){
				$.ajax({
					url: '/shared',
					data: {
						app_id: app_id,
						platform: b_platform
					},
					dataType: 'JSON',
					type: 'POST',
					success: function(data){
						if(typeof data.status != 'undefined' && data.status == 200) {
							window.location.reload();
						} else {
							bootbox.alert("Upgrage by Twitter failed.")
						}

					},
					error: function(){
						bootbox.alert("Upgrage by Twitter failed.")
					}
				});
			},
			googleanalytics: true,
			lang: b_lang
		});
	});

	function update_views_list(feature)
	{
		$('#feature-name').html(feature_name_strings[feature]);
		var description_list = $('#premium-access-modal .description-block ol');
		description_list.html('');
		for(var i in views_description_strings[feature]) {
			description_list.append('<li>' + views_description_strings[feature][i] + '</li>')
		}
	}
</script><script type="text/javascript">
	$(document).ready(function() {
		$('li#search').submit(function() {
			return false;
		});

		var hidden_menu = Array();
		
		highlight_left_submenus();
		/* Init lef nav bar sharer */
		init_sharer();

		/* This code does navigation between three app pages and number of devices */
		var uri = window.location;
		/* if current page isn't app page */
		if ("1") {
			if($('.container-app').length == 0) {
				return;
			}
			$('.container-app').removeClass('hidden-app');
		} else {
			var	deviceLinks = $('.device-switch-item:not(.hidden) a'),
				subpageLinks = $('.app-subpage a');

			/* preprocessing. Will show 'overview' page for a first found device */
			setTimeout(function () {
				sidebar_nav.spawn_container(sidebar_nav.subpageFromParam(), b_device);
				append_slide_height('More...', 'Less...');
			}, 100);

			window.onpopstate = function (event) {
				var subpage = window.location.hash.slice(1),
					device	= getQueryVariable('d');

				subpage = (subpage) ? subpage : 'overview'
				device = (device) ? device : $('.device-switch-item:not(.hidden) .device-switch-button:first').attr('data-attr-device');
				sidebar_nav.spawn_container(subpage, device);
			}

			/* add event listeners */
			subpageLinks.click(function(e) {
				var this_action = $(this).data('action');
				if(this_action == 'none'){
				} else {
					//alert(this_action);
					e.preventDefault();
					e.stopPropagation();
					var	subpage = $(this).attr('data-target'),
						device	= $('.active-device').data('attr-device');

					history.pushState(null, subpage, '?d=' + device + '#' + subpage);
					execute_code_with_loader(function(){
						sidebar_nav.spawn_container(subpage, device);
						append_slide_height('More...', 'Less...');
						$(window).resize();
					});
				}
			});

			deviceLinks.click(function(e) {
				e.preventDefault();
				if ($(this).hasClass('active-device')) {
					return false;
				}
				/* will select hash without '#' symbol */
				var	device = $(this).attr('data-attr-device');
				history.pushState(null, sidebar_nav.subpageFromParam(), '?d=' + device + '#' + sidebar_nav.subpageFromParam());
				sidebar_nav.spawn_container(sidebar_nav.subpageFromParam(), device);
				append_slide_height('More...', 'Less...');
			});

			$('.app-subpage-switch a').click(function (e) {
				var subpage = this.hash.replace('#', '');
				history.pushState(null, subpage, '?d=' + sidebar_nav.deviceFromParam() + '#' + subpage);
				sidebar_nav.spawn_container(subpage, sidebar_nav.deviceFromParam());
				append_slide_height('More...', 'Less...');
				$('body').scrollTop(0);
			});
		}

		//redraw graphs, when menu is changing
		$('#leftmenu-trigger').click(function() {
			redraw_responsive_charts();
		});

		function init_sharer()
		{
			var leftNavSharer = new sharer();
			leftNavSharer.init({
				fb_url: "https://searchman.com/",
				tw_url: "https://searchman.com/",
				linkedIn_url: "https://searchman.com/",
				text: "Improve\x20your\x20app\u2019s\x20App\x20Store\x20Search\x20rankings.\x20Sign\x20up\x20for\x20free\x21\x20",
			});
			$(document).on('click', '.fb-share', function() {
				leftNavSharer.fbShare();
				return false;
			});
			$(document).on('click', '.twitter-share', function() {
				leftNavSharer.twHandle();
				return false;
			});
			$(document).on('click', '.linkedin-share', function() {
				leftNavSharer.linkedInShare();
				return false;
			});
/*
			$(document).on('click', '.mail-share', function() {
				leftNavSharer.mailto();
				return false;
			});
*/
		}
	});
</script><script type="text/javascript">
	$(document).ready(function() {
		bind_app_autocomplete('.search-query', 'left-search-autocomplete');
	});

	/**
	* @param is_tabbed shows do we need to open app link in new tab or not
	*/
	function bind_app_autocomplete(input_selector, autocomplete_id, url_type, is_tabbed) {
		if (typeof url_type == 'undefined') {
			url_type = '';
		}

		if (typeof is_tabbed == 'undefined') {
			is_tabbed = false;
		};

		var input = $(input_selector);
		if (!input.length) {
			return false;
		}
		var autocomplete = $('<div id="' + autocomplete_id + '" class="app-autocomplete"></div>').data('input', input).appendTo('body');

		input.keydown(function(e) {
			if (autocomplete.find('.app-container').length && $.inArray(e.keyCode, [b_enter_code, b_arrow_up_code, b_arrow_down_code]) > -1) {
				var selected_app 	= autocomplete.find('.app-container.selected'),
					next_app 		= selected_app.nextAll('.app-container').first(),
					prev_app		= selected_app.prevAll('.app-container').first();
				switch(e.keyCode) {
					case b_enter_code:
						if (selected_app.length) {
							document.location = autocomplete.find('.app-container.selected').attr('href');
						} else {
							var redirect_str = '/' + b_platform + '/search/' + b_country_code + '/' + b_lang;
							redirect_str += '/?' + $.param({
								d: b_device,
								q: $(this).val(),
							});
							window.location.replace(redirect_str);
						}
					break;
					case b_arrow_up_code:
						selected_app.removeClass('selected');
						if (prev_app.length) {
							prev_app.addClass('selected');
						}
						else {
							autocomplete.find('.app-container').last().addClass('selected');
						}
					break;
					case b_arrow_down_code:
						selected_app.removeClass('selected');
						if (next_app.length) {
							next_app.addClass('selected');
						}
						else {
							autocomplete.find('.app-container').first().addClass('selected');
						}
					break;
				}
				return false;
			}
		});

		input.on('keyup focus', function(e) {
			if ($.inArray(e.keyCode, [b_enter_code, b_arrow_up_code, b_arrow_down_code]) > -1) {
				return false;
			}
			if ($(this).data('xhr')) {
				$(this).data('xhr').abort();
			}
			var search_str = $(this).val();
			if (search_str == '') {
				autocomplete.hide();
				autocomplete.html('');
				return;
			}

			var send_data = {
				q: search_str,
				d: b_device,
				country_code: b_country_code
			};

			// do not search current app
			if (url_type == 'compare') {
				send_data['excluded_app_ids'] = [b_app_id];
			}

			var xhr = $.ajax({
				type: 'POST',
				data: send_data,
				url: '/' + b_platform + '/search_apps',
				beforeSend: function() {
					autocomplete.html('<div class="loader-container"></div>');
					resize_app_autocomplete(autocomplete);
					autocomplete.fadeIn(500);
				},
				success: function(data) {
					// need for 'target' attribute of a link
					var inline_target = '',
						autocomplete_html = '';
					data = JSON.parse(data);
					if (typeof data.error != "undefined" || $.isEmptyObject(data['apps'])) {
						autocomplete_html = '<div class="text-container"><b>No apps were found</b></div>';
					}
					else
					{
						$.each(data['apps'], function(index, app) {
							var app_platform = data.by_store_uri ? data.meta.platform : b_platform,
								app_country_code = data.by_store_uri ? data.meta.country_code : b_country_code,
								template_params = {
								target_url: 	'/' + app_platform + '/app/' + app_country_code.toLowerCase() + '/' + app['trackId'] + '/'
									+ b_lang + '/' + app['sellerNameEncoded'] + '/'
									+ app['trackNameEncoded'] + '/' + '?d=' + b_device,
								platform: 		app_platform,
								lang: 			b_lang,
								app_id: 		app['trackId'],
								app_name: 		app['trackName'],
								app_seller: 	app['sellerName'],
								icon_url: 		app['artworkUrl100'],
								brand_class:    app_platform == 'ios' ? 'fa-apple' : 'fa-android',
							};

							if (is_tabbed) {
								template_params['target_new'] = "_blank";
								inline_target = "target='_blank'";
							} else {
								template_params['target_new'] = "_self";
							}

							if (url_type == 'compare') {
								template_params['target_url'] = '/' + b_platform + '/compare/' + b_app_id + '/' + b_country_code + '/'
									+ '?d=' + b_device + '&competitor_app_id=' + app['trackId'];
							}

							autocomplete_html += render('template-app-container', template_params);
						});
					}

					if (!url_type && !data.by_store_uri) {
						var already_used_devices = Array();

						for(var current_platform in b_supported_countries) {
							if($.inArray(b_country_code, b_supported_countries[current_platform]) != -1) {
								for(var i in b_platform_devices[current_platform]){
									var current_device = b_platform_devices[current_platform][i];
									if($.inArray(current_device, already_used_devices) == -1) {
										autocomplete_html += '<div class="devider"></div>';
										autocomplete_html += '<a class="app-container app-search" ' + inline_target + ' href="/' + current_platform + '/search/' + b_country_code + '/' + b_lang + '/?d=' + current_device + '&q=' + encodeURIComponent(search_str) + '">';
										autocomplete_html += 'Search "' + html_encode(search_str)  + '" ' + global_strings['search_' + current_device] + '</a>';
										autocomplete_html += '<div class="devider"></div>';
									}
									already_used_devices.push(current_device);
								}
							}
						}
					}
					autocomplete.html(autocomplete_html);
					resize_app_autocomplete(autocomplete);
				}
			});
			$(this).data('xhr', xhr);
		});

		$(document).mouseup(function(e) {
			if (!autocomplete.has(e.target).length && !autocomplete.is(e.target) && !input.is(e.target)) {
				autocomplete.hide();
				autocomplete.html('');
			}
		});

		autocomplete.on('mouseenter', '.app-container', function() {
			$(this).parent().find('.app-container.selected').removeClass('selected');
			$(this).addClass('selected');
		});

		$(window).resize(function() {
			resize_app_autocomplete(autocomplete);
		});
	}

	function resize_app_autocomplete(autocomplete) {
		var input 			= autocomplete.data('input'),
			input_width 	= input.outerWidth(),
			input_left 		= input.offset().left,
			input_bottom 	= input.offset().top + input.outerHeight(),
			max_height 		= 'auto';
		if (autocomplete.css('position') == 'fixed') {
			input_bottom -= $(document).scrollTop();
			max_height = $(window).height() - input_bottom + 'px';
		}
		autocomplete.css('left', input_left + 'px')
			.css('top', input_bottom + 'px')
			.css('width', input_width + 'px')
			.css('max-height', max_height);
	}

</script>

<script type="text/template" id="template-app-container">
	
		<a href="{{target_url}}" class="app-container" target={{target_new}}>
			<div class="app-icon">
				<img class="ios-corner40 lazy" src="{{icon_url}}" />
			</div>
			<div class="app-info">
				<div class="truncated appname">{{{app_name}}}</div>
				<div class="truncated app-publisher">{{{app_seller}}}</div>
			</div>
			<div class="app-brand">
				<i class="fa fa-2x {{brand_class}}"></i>
			</div>
		</a>
	
</script>


		<div class="modal fade" id="tutorial_video_modal" tabindex="-1" role="dialog" aria-labelledby="tutorial_video_modal" aria-hidden="true" style="z-index: 9999;">
	<div class="modal-dialog" role="document" style="width: 880px;">
		<div class="modal-content" style="width: 880px; margin-left: -200px;">
			<div class="modal-header">
				<h4 class="modal-title" style="font-weight: 300;">SearchMan Advanced Data Tool Tutorial Video</h4>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close" style="margin-top: -20px;">
				<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<div id="tutorial_video"></div>
			</div>
		</div>
	</div>
</div>

<script src="https://www.youtube.com/iframe_api"></script>
<script>
	$(document).ready(function(){
		$('#tutorial_video_modal').on('shown.bs.modal', function () {
			//alert('modal open');
			window.Intercom("trackEvent", "intro_video_modal_open");
		});
	});

	var player, playing = false;
	function onYouTubeIframeAPIReady() {
		player = new YT.Player('tutorial_video', {
			height: '473',
			width: '840',
			videoId: 'WuxZIsPWRXQ',
			events: {
				'onStateChange': function(event) {
				if (event.data == YT.PlayerState.PLAYING) {
					if(!playing){
						//alert('video starterd');
						playing = true;
					}
				}
				}
			}
		});
	}
</script>

	</body>
</html>