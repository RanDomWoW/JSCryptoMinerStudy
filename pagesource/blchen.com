<!DOCTYPE html>
<!--[if IE 7]>
<html class="ie ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html class="ie ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 7) | !(IE 8)  ]><!-->
<html lang="en-US">
<!--<![endif]-->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <title>blchen的空间 | 让我们走进云的世界</title>
    <link rel="profile" href="http://gmpg.org/xfn/11">
    <link rel="pingback" href="http://blchen.com/xmlrpc.php">
    <title>blchen的空间 &#8211; 让我们走进云的世界</title>
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="blchen的空间 &raquo; Feed" href="http://blchen.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="blchen的空间 &raquo; Comments Feed" href="http://blchen.com/comments/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.4\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.4\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/blchen.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.9.4"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55357,56692,8205,9792,65039],[55357,56692,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='ar-style-css'  href='http://blchen.com/wp-content/themes/ar/style.css?ver=4.9.4' type='text/css' media='all' />
<link rel='https://api.w.org/' href='http://blchen.com/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://blchen.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://blchen.com/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.9.4" />
<style type="text/css" id="custom-background-css">
body.custom-background { background-color: #002060; }
</style>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?05e77aa5ab2d3eff446c8e935f8bcffe";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
</head>

<body class="home blog custom-background">
    <div id="page" class="hfeed container">
        <header id="header" class="blog-header">
            <div class="blog-title"><a href="http://blchen.com/" title="blchen的空间" rel="home">blchen的空间</a></div>
            <div class="blog-description">让我们走进云的世界 | <a href="http://blchen.com/feed/" title="Subscribe to the RSS Feed of this site" id="rss">RSS</a></div>
            <nav id="blog-menu" class="menu">
                <h2 class="menu-toggle">Menu</h2>
                <h3 class="skip-link accessibility"><a href="#content" title="Skip to content">Skip to content</a></h3>
                <div class="menu"><ul>
<li class="current_page_item"><a href="http://blchen.com/">Home</a></li><li class="page_item page-item-15"><a href="http://blchen.com/about/">关于本站</a></li>
</ul></div>
            </nav>
                    </header>
    <section class="content">
            <article id="post-1158" class="post-1158 post type-post status-publish format-standard hentry category-uncategorized category-iternet-danteng tag-chrome">
        <header class="post-header">
                            <h1 class="post-title"><a href="http://blchen.com/fix-chrome-bookmark-not-sync/" title="Permalink to Chrome书签不能同步的解决方法" rel="bookmark">Chrome书签不能同步的解决方法</a></h1>
                            <div class="comments-link">
                    <a href="http://blchen.com/fix-chrome-bookmark-not-sync/#respond"><span class="leave-reply">Leave a reply</span></a>                </div>
                    </header>
                    <div class="post-content">
                <p>Chrome书签不能同步，主要原因是同步服务器不能访问了，这时候可以这样解决</p>
<ol>
<li>现在Chrome里访问<br />
        <a title="chrome://sync-internals/" href="chrome://sync-internals/">chrome://sync-internals/</a>，找出同步服务器地址，如下图所示<br />
        <a href="http://blchen.com/wp-content/uploads/2017/12/image.png"><br />
            <img width="407" height="157" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="http://blchen.com/wp-content/uploads/2017/12/image_thumb.png" border="0"><br />
        </a>
    </li>
<li>打开Windows命令行窗口，ping下面2个地址chrome.google.com，client4.google.com<br />
        <a href="http://blchen.com/wp-content/uploads/2017/12/image-1.png"><br />
            <img width="610" height="172" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="http://blchen.com/wp-content/uploads/2017/12/image_thumb-1.png" border="0"><br />
        </a>
    </li>
<li>更新c:\Windows\System32\drivers\etc\hosts文件，加入如下
<pre>74.125.204.138 chrome.google.com
            64.233.189.113 clients4.google.com </pre>
</li>
</ol>
<p>重新打开Chrome，书签就会自动开始同步了。</p>
            </div>
                <footer class="post-meta">
            <p class="date"><span class="cats">Categories: <a href="http://blchen.com/category/uncategorized/" rel="category tag">Uncategorized</a>, <a href="http://blchen.com/category/iternet-danteng/" rel="category tag">互联网闲的无聊</a> </span><span class="tags">Tags: <a href="http://blchen.com/tag/chrome/" rel="tag">Chrome</a> </span><span class="date"><a href="http://blchen.com/fix-chrome-bookmark-not-sync/" title="2:02 pm" rel="bookmark"><time class="post-date" datetime="2017-12-24T14:02:49+00:00">December 24, 2017</time></a> </span> <span class="by-author">Author <span class="author vcard"><a class="url fn n" href="http://blchen.com/author/blchen/" title="View all posts by blchen" rel="author">blchen</a></span></span></p>
                    </footer>
    </article>    <article id="post-1151" class="post-1151 post type-post status-publish format-standard hentry category-uncategorized">
        <header class="post-header">
                            <h1 class="post-title"><a href="http://blchen.com/use-alibaba-cloud-maven/" title="Permalink to 使用阿里云Maven库" rel="bookmark">使用阿里云Maven库</a></h1>
                            <div class="comments-link">
                    <a href="http://blchen.com/use-alibaba-cloud-maven/#respond"><span class="leave-reply">Leave a reply</span></a>                </div>
                    </header>
                    <div class="post-content">
                <p>在C:\Users\{username}\.m2\下创建一个settings.xml文件，内容如下</p>
<p>&lt;?xml version=&#8221;1.0&#8243; encoding=&#8221;UTF-8&#8243;?&gt;</p>
<p>&lt;settings xmlns=&#8221;http://maven.apache.org/SETTINGS/1.0.0&#8243;</p>
<p>xmlns:xsi=&#8221;http://www.w3.org/2001/XMLSchema-instance&#8221;</p>
<p>xsi:schemaLocation=&#8221;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&#8221;&gt;</p>
<p>&lt;mirrors&gt;</p>
<p>&lt;!&#8211; 阿里云仓库 &#8211;&gt;</p>
<p>&lt;mirror&gt;</p>
<p>&lt;id&gt;alimaven&lt;/id&gt;</p>
<p>&lt;mirrorOf&gt;central&lt;/mirrorOf&gt;</p>
<p>&lt;name&gt;aliyun maven&lt;/name&gt;</p>
<p>&lt;url&gt;http://maven.aliyun.com/nexus/content/repositories/central/&lt;/url&gt;</p>
<p>&lt;/mirror&gt;</p>
<p>&lt;/mirrors&gt;</p>
<p>&lt;/settings&gt;</p>
            </div>
                <footer class="post-meta">
            <p class="date"><span class="cats">Categories: <a href="http://blchen.com/category/uncategorized/" rel="category tag">Uncategorized</a> </span><span class="tags"><a href="http://blchen.com/use-alibaba-cloud-maven/" title="8:28 am" rel="bookmark"><time class="post-date" datetime="2017-12-03T08:28:45+00:00">December 3, 2017</time></a></span><span class="by-author">Author: <span class="author vcard"><a class="url fn n" href="http://blchen.com/author/blchen/" title="View all posts by blchen" rel="author">blchen</a></span></span></p>
                    </footer>
    </article>    <article id="post-1145" class="post-1145 post type-post status-publish format-standard hentry category-my-digitals-life tag-iphone">
        <header class="post-header">
                            <h1 class="post-title"><a href="http://blchen.com/fix-iphone-keyboard-not-showing/" title="Permalink to iPhone输入键盘不显示的解决方法" rel="bookmark">iPhone输入键盘不显示的解决方法</a></h1>
                            <div class="comments-link">
                    <a href="http://blchen.com/fix-iphone-keyboard-not-showing/#comments">1 Reply</a>                </div>
                    </header>
                    <div class="post-content">
                <ol>
<li>多数情况是因为有蓝牙设备引起的。把蓝牙关闭后，键盘就会出现了</li>
<li>如果1不行，重启iOS</li>
<li>如果2也不行，恢复出厂设置</li>
</ol>
            </div>
                <footer class="post-meta">
            <p class="date"><span class="cats">Categories: <a href="http://blchen.com/category/my-digitals-life/" rel="category tag">我的数码生活</a> </span><span class="tags">Tags: <a href="http://blchen.com/tag/iphone/" rel="tag">iPhone</a> </span><span class="date"><a href="http://blchen.com/fix-iphone-keyboard-not-showing/" title="1:32 pm" rel="bookmark"><time class="post-date" datetime="2017-10-24T13:32:19+00:00">October 24, 2017</time></a> </span> <span class="by-author">Author <span class="author vcard"><a class="url fn n" href="http://blchen.com/author/blchen/" title="View all posts by blchen" rel="author">blchen</a></span></span></p>
                    </footer>
    </article>    <article id="post-1142" class="post-1142 post type-post status-publish format-standard hentry category-offhour tag-evus tag-79 tag-87">
        <header class="post-header">
                            <h1 class="post-title"><a href="http://blchen.com/enroll-evus-if-us-visa-is-in-old-passport/" title="Permalink to 美国签证不在新护照上EVUS的正确登记方式" rel="bookmark">美国签证不在新护照上EVUS的正确登记方式</a></h1>
                            <div class="comments-link">
                    <a href="http://blchen.com/enroll-evus-if-us-visa-is-in-old-passport/#respond"><span class="leave-reply">Leave a reply</span></a>                </div>
                    </header>
                    <div class="post-content">
                <p>这次出差的时候护照换了新的，但是十年美国签证在旧的护照上，EVUS的规定是护照换了即使EVUS没过期也需要重新登记。记录一下正确的登记方式，帮助有需要的童鞋。</p>
<p>关键点就是在填写<strong>旅行文件信息</strong>的这个页面的时候，里面有一个问题是<strong>您旅行时所使用的护照是否含有您的美国签证</strong>，这个问题需要选不是，选了后系统就提示让你输入旧护照的信息，按照系统提示把包含美国签证的旧护照信息提交就可以了。</p>
<p><a href="http://blchen.com/wp-content/uploads/2017/09/image-2.png"><img width="653" height="584" title="image" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" alt="image" src="http://blchen.com/wp-content/uploads/2017/09/image_thumb-2.png" border="0"></a></p>
            </div>
                <footer class="post-meta">
            <p class="date"><span class="cats">Categories: <a href="http://blchen.com/category/offhour/" rel="category tag">上班以外的时间</a> </span><span class="tags">Tags: <a href="http://blchen.com/tag/evus/" rel="tag">EVUS</a>, <a href="http://blchen.com/tag/%e5%87%ba%e5%b7%ae/" rel="tag">出差</a>, <a href="http://blchen.com/tag/%e7%ad%be%e8%af%81/" rel="tag">签证</a> </span><span class="date"><a href="http://blchen.com/enroll-evus-if-us-visa-is-in-old-passport/" title="6:29 am" rel="bookmark"><time class="post-date" datetime="2017-09-28T06:29:39+00:00">September 28, 2017</time></a> </span> <span class="by-author">Author <span class="author vcard"><a class="url fn n" href="http://blchen.com/author/blchen/" title="View all posts by blchen" rel="author">blchen</a></span></span></p>
                    </footer>
    </article>    <article id="post-1136" class="post-1136 post type-post status-publish format-standard hentry category-development">
        <header class="post-header">
                            <h1 class="post-title"><a href="http://blchen.com/visual-studio-2017-offline-install-package/" title="Permalink to Visual Studio 2017制作离线安装包" rel="bookmark">Visual Studio 2017制作离线安装包</a></h1>
                            <div class="comments-link">
                    <a href="http://blchen.com/visual-studio-2017-offline-install-package/#respond"><span class="leave-reply">Leave a reply</span></a>                </div>
                    </header>
                    <div class="post-content">
                <p>Visual Studio 2017开始，不在提供ISO版本，只有一个web installer的exe安装包了，这对于需要在内网安装VS的用户来说很不方便，因为需要自己去制作这个离线安装包了。下面是具体步骤：</p>
<ul>
<li>下载VS 2017的exe安装文件</li>
<li>确定需要做到离线包里的工作负载(对应英文版的名字是Workload)，如果不确定需要装哪些组件，可以运行一下exe安装包，从安装向导的UI里确定一下。完整的workload id列表可以从这个<a href="https://www.visualstudio.com/en-us/productinfo/vs2017-install-product--list" target="_blank" rel="noopener">页面</a>查找<a href="http://blchen.com/wp-content/uploads/2017/09/image.png"><img style="margin: 0px auto; border: 0px currentcolor; float: none; display: block; background-image: none;" title="image" src="http://blchen.com/wp-content/uploads/2017/09/image_thumb.png" alt="image" width="640" height="324" border="0" /></a></li>
</ul>
<p>打开命令行窗口，这里我想做的是一个中文的安装包，包含DotNet桌面开发，ASP.NET和DotNet Core这些workload，具体命令如下。这个命令会自动下载所有需要的文件，到本地的c:\vs2017.3，运行完毕后这个文件夹就可以用来做VS的离线安装了。</p>
<pre>C:\DelMe&gt;mu_visual_studio_enterprise_2017_version_15.3_x86_x64_11100063.exe --layout C:\vs2017.3 --lang zh-CN --add Microsoft.VisualStudio.Workload.NetWeb Microsoft.VisualStudio.Workload.ManagedDesktop Microsoft.VisualStudio.Workload.NetCoreTools</pre>
<p><a href="http://blchen.com/wp-content/uploads/2017/09/image-1.png"><img style="margin: 0px auto; border: 0px currentcolor; float: none; display: block; background-image: none;" title="image" src="http://blchen.com/wp-content/uploads/2017/09/image_thumb-1.png" alt="image" width="640" height="349" border="0" /></a></p>
<p>参考文档</p>
<ul>
<li>https://docs.microsoft.com/en-us/visualstudio/install/workload-component-id-vs-enterprise https://docs.microsoft.com/en-us/visualstudio/install/create-an-offline-installation-of-visual-studio https://docs.microsoft.com/en-us/visualstudio/install/use-command-line-parameters-to-install-visual-studio</li>
</ul>
            </div>
                <footer class="post-meta">
            <p class="date"><span class="cats">Categories: <a href="http://blchen.com/category/development/" rel="category tag">日常开发工作</a> </span><span class="tags"><a href="http://blchen.com/visual-studio-2017-offline-install-package/" title="5:57 am" rel="bookmark"><time class="post-date" datetime="2017-09-09T05:57:17+00:00">September 9, 2017</time></a></span><span class="by-author">Author: <span class="author vcard"><a class="url fn n" href="http://blchen.com/author/blchen/" title="View all posts by blchen" rel="author">blchen</a></span></span></p>
                    </footer>
    </article>    <article id="post-1129" class="post-1129 post type-post status-publish format-standard hentry category-development tag-elastic-search tag-tfs tag-tfs-2017">
        <header class="post-header">
                            <h1 class="post-title"><a href="http://blchen.com/remove-search-service-from-tfs-server/" title="Permalink to TFS服务器删除搜索组件" rel="bookmark">TFS服务器删除搜索组件</a></h1>
                            <div class="comments-link">
                    <a href="http://blchen.com/remove-search-service-from-tfs-server/#respond"><span class="leave-reply">Leave a reply</span></a>                </div>
                    </header>
                    <div class="post-content">
                <p>升级TFS服务器到TFS 2017以后，发现TFS经常会出现OutOfMemory的错误，排查了一下，罪魁祸首居然是Elastic Search。TFS 2017开始，如果启用代码搜索功能，TFS会在本地装一个Elastic Search来做索引代码。</p>
<p><a href="http://blchen.com/wp-content/uploads/2017/08/IN3Q15EY9HYAJKI87Q.jpg"><img width="1390" height="220" title="%IN3Q1[5[`EY9HYAJK]I87Q" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" alt="%IN3Q1[5[`EY9HYAJK]I87Q" src="http://blchen.com/wp-content/uploads/2017/08/IN3Q15EY9HYAJKI87Q_thumb.jpg" border="0"></a></p>
<p>这篇博文记录一下在TFS服务器移除搜索服务以及Elastic Search的过程：</p>
<ol>
<li>先打开TFS管理控制台，左边选择TFS服务器名字，然后点右边窗口里的删除特性，弹出框里选择Team Foundation搜索服务，点删除</li>
</ol>
<p><a href="http://blchen.com/wp-content/uploads/2017/08/H251NV2Q585O58JVQG.png"><img width="456" height="247" title="H]251NV2$Q58$5O58%JVQ$G" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" alt="H]251NV2$Q58$5O58%JVQ$G" src="http://blchen.com/wp-content/uploads/2017/08/H251NV2Q585O58JVQG_thumb.png" border="0"></a></p>
<ol>
<li>删除环境变量SEARCH_ES_INDEX_PATH里定义的文件夹，这会删除所有的Search索引</li>
<li>删除环境变量SEARCH_ES_INDEX_PATH和ES_HEAP_SIZE</li>
<li>运行Configure-TFSSearch.ps1 remove，删除Elastic Search</li>
</ol>
<p><a href="http://blchen.com/wp-content/uploads/2017/08/image.png"><img width="927" height="154" title="image" style="margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" alt="image" src="http://blchen.com/wp-content/uploads/2017/08/image_thumb.png" border="0"></a></p>
            </div>
                <footer class="post-meta">
            <p class="date"><span class="cats">Categories: <a href="http://blchen.com/category/development/" rel="category tag">日常开发工作</a> </span><span class="tags">Tags: <a href="http://blchen.com/tag/elastic-search/" rel="tag">Elastic Search</a>, <a href="http://blchen.com/tag/tfs/" rel="tag">TFS</a>, <a href="http://blchen.com/tag/tfs-2017/" rel="tag">TFS 2017</a> </span><span class="date"><a href="http://blchen.com/remove-search-service-from-tfs-server/" title="10:35 pm" rel="bookmark"><time class="post-date" datetime="2017-08-19T22:35:48+00:00">August 19, 2017</time></a> </span> <span class="by-author">Author <span class="author vcard"><a class="url fn n" href="http://blchen.com/author/blchen/" title="View all posts by blchen" rel="author">blchen</a></span></span></p>
                    </footer>
    </article>    <article id="post-1119" class="post-1119 post type-post status-publish format-standard hentry category-development tag-windows-server">
        <header class="post-header">
                            <h1 class="post-title"><a href="http://blchen.com/change-password-in-windows-server-rdp-session/" title="Permalink to Windows Server远程桌面里如何修改密码" rel="bookmark">Windows Server远程桌面里如何修改密码</a></h1>
                            <div class="comments-link">
                    <a href="http://blchen.com/change-password-in-windows-server-rdp-session/#respond"><span class="leave-reply">Leave a reply</span></a>                </div>
                    </header>
                    <div class="post-content">
                <p>如果你楼主一样经常需要远程登陆到windows server去给一些Service账号改密码，一定会发现在远程桌面里，Ctrl-Alt-Del无法调出改密码的窗口，因为这个指定总是被当前的Windows环境捕获了，远程的机器收不到这个命令。其实正确的在Windows Server远程桌面里改密码的姿势是Ctrl-Del-End，具体步骤如下</p>
<ol>
<li>远程桌面登陆</li>
<li>同时按Ctrl-Del-End</li>
<li>输入当前密码和新密码提交</li>
</ol>
            </div>
                <footer class="post-meta">
            <p class="date"><span class="cats">Categories: <a href="http://blchen.com/category/development/" rel="category tag">日常开发工作</a> </span><span class="tags">Tags: <a href="http://blchen.com/tag/windows-server/" rel="tag">Windows Server</a> </span><span class="date"><a href="http://blchen.com/change-password-in-windows-server-rdp-session/" title="4:58 pm" rel="bookmark"><time class="post-date" datetime="2017-07-16T16:58:53+00:00">July 16, 2017</time></a> </span> <span class="by-author">Author <span class="author vcard"><a class="url fn n" href="http://blchen.com/author/blchen/" title="View all posts by blchen" rel="author">blchen</a></span></span></p>
                    </footer>
    </article>    <article id="post-1113" class="post-1113 post type-post status-publish format-standard hentry category-development tag-azure-web-app">
        <header class="post-header">
                            <h1 class="post-title"><a href="http://blchen.com/azure-web-app-force-https-only/" title="Permalink to 配置Azure WebApp只能通过https访问" rel="bookmark">配置Azure WebApp只能通过https访问</a></h1>
                            <div class="comments-link">
                    <a href="http://blchen.com/azure-web-app-force-https-only/#respond"><span class="leave-reply">Leave a reply</span></a>                </div>
                    </header>
                    <div class="post-content">
                <p>这篇博文记录如何配置Azrue WebApp只允许https访问，非https的请求一律重定向到https。</p>
<p>具体步骤是在web.config里加一个urlrewrite信息，如下所示，需要加在rewrite/rules节点下</p>
<p>&lt;rule name=&#8221;Force HTTPS&#8221; enabled=&#8221;true&#8221;&gt;<br />&nbsp;&nbsp; &lt;match url=&#8221;(.*)&#8221; ignoreCase=&#8221;false&#8221; /&gt;<br />&nbsp;&nbsp; &lt;conditions&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp; &lt;add input=&#8221;{HTTPS}&#8221; pattern=&#8221;off&#8221; /&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp; &lt;add input=&#8221;{WARMUP_REQUEST}&#8221; pattern=&#8221;1&#8243; negate=&#8221;true&#8221; /&gt;<br />&nbsp;&nbsp; &lt;/conditions&gt;<br />&nbsp;&nbsp; &lt;action type=&#8221;Redirect&#8221; url=&#8221;<a href="https://{HTTP_HOST}/{R:1}&quot;">https://{HTTP_HOST}/{R:1}&#8221;</a> appendQueryString=&#8221;true&#8221; redirectType=&#8221;Permanent&#8221; /&gt;<br />
&lt;/rule&gt;</p>
            </div>
                <footer class="post-meta">
            <p class="date"><span class="cats">Categories: <a href="http://blchen.com/category/development/" rel="category tag">日常开发工作</a> </span><span class="tags">Tags: <a href="http://blchen.com/tag/azure-web-app/" rel="tag">Azure Web App</a> </span><span class="date"><a href="http://blchen.com/azure-web-app-force-https-only/" title="6:11 am" rel="bookmark"><time class="post-date" datetime="2017-07-04T06:11:48+00:00">July 4, 2017</time></a> </span> <span class="by-author">Author <span class="author vcard"><a class="url fn n" href="http://blchen.com/author/blchen/" title="View all posts by blchen" rel="author">blchen</a></span></span></p>
                    </footer>
    </article>    <article id="post-1110" class="post-1110 post type-post status-publish format-standard hentry category-development tag-azure-web-app">
        <header class="post-header">
                            <h1 class="post-title"><a href="http://blchen.com/azure-webapp-reverse-proxy-configuration/" title="Permalink to Azure WebApp使用反向代理" rel="bookmark">Azure WebApp使用反向代理</a></h1>
                            <div class="comments-link">
                    <a href="http://blchen.com/azure-webapp-reverse-proxy-configuration/#respond"><span class="leave-reply">Leave a reply</span></a>                </div>
                    </header>
                    <div class="post-content">
                <p>Azure WebApp有个很赞的功能，就是默认的二级域名自带https证书。这里记录一下用Azure WebApp来反代其他应用的步骤，同时也感谢Herb童鞋提供的技术支持</p>
<ol>
<li>在wwwroot的上层目录添加一个名为applicationHost.xdt的文件，内容如下</li>
</ol>
<p>&lt;?xml version=&#8221;1.0&#8243;?&gt;<br />
&lt;configuration xmlns:xdt=&#8221;<a href="http://schemas.microsoft.com/XML-Document-Transform&quot;">http://schemas.microsoft.com/XML-Document-Transform&#8221;</a>&gt;<br />
&lt;system.webServer&gt;<br />
&lt;proxy xdt:Transform=&#8221;InsertIfMissing&#8221; enabled=&#8221;true&#8221; preserveHostHeader=&#8221;false&#8221; reverseRewriteHostInResponseHeaders=&#8221;false&#8221; /&gt;<br />
&lt;rewrite&gt;<br />
&lt;allowedServerVariables&gt;<br />
&lt;add name=&#8221;HTTP_X_ORIGINAL_HOST&#8221; xdt:Transform=&#8221;Insert&#8221; /&gt;<br />
&lt;add name=&#8221;HTTP_X_UNPROXIED_URL&#8221; xdt:Transform=&#8221;Insert&#8221; /&gt;<br />
&lt;add name=&#8221;HTTP_X_ORIGINAL_ACCEPT_ENCODING&#8221; xdt:Transform=&#8221;Insert&#8221; /&gt;<br />
&lt;add name=&#8221;HTTP_ACCEPT_ENCODING&#8221; xdt:Transform=&#8221;Insert&#8221; /&gt;<br />
&lt;/allowedServerVariables&gt;<br />
&lt;/rewrite&gt;<br />
&lt;/system.webServer&gt;<br />
&lt;/configuration&gt;</p>
<ul>
<li>更新web.config文件，增加urlwrite规则</li>
</ul>
<p>&lt;rule name=&#8221;Search&#8221; stopProcessing=&#8221;true&#8221;&gt;<br />
&lt;match url=&#8221;^Indexes?(.*)&#8221; /&gt;<br />
&lt;action type=&#8221;Rewrite&#8221; url=&#8221;<a href="http://10.1.0.254/indexes/{R:1}&quot;">http://10.1.0.254/indexes/{R:1}&#8221;</a> /&gt;<br />
&lt;serverVariables&gt;<br />
&lt;set name=&#8221;HTTP_X_UNPROXIED_URL&#8221; value=&#8221;http://10.1.0.254/indexes/{R:1}<a href="http://10.1.0.254/indexes/{R:1}&quot;">&#8220;</a> /&gt;<br />
&lt;set name=&#8221;HTTP_X_ORIGINAL_ACCEPT_ENCODING&#8221; value=&#8221;{HTTP_ACCEPT_ENCODING}&#8221; /&gt;<br />
&lt;set name=&#8221;HTTP_X_ORIGINAL_HOST&#8221; value=&#8221;{HTTP_HOST}&#8221; /&gt;<br />
&lt;set name=&#8221;HTTP_ACCEPT_ENCODING&#8221; value=&#8221;&#8221; /&gt;<br />
&lt;/serverVariables&gt;<br />
&lt;/rule&gt;</p>
            </div>
                <footer class="post-meta">
            <p class="date"><span class="cats">Categories: <a href="http://blchen.com/category/development/" rel="category tag">日常开发工作</a> </span><span class="tags">Tags: <a href="http://blchen.com/tag/azure-web-app/" rel="tag">Azure Web App</a> </span><span class="date"><a href="http://blchen.com/azure-webapp-reverse-proxy-configuration/" title="2:36 am" rel="bookmark"><time class="post-date" datetime="2017-07-04T02:36:43+00:00">July 4, 2017</time></a> </span> <span class="by-author">Author <span class="author vcard"><a class="url fn n" href="http://blchen.com/author/blchen/" title="View all posts by blchen" rel="author">blchen</a></span></span></p>
                    </footer>
    </article>    <article id="post-1093" class="post-1093 post type-post status-publish format-standard hentry category-development tag-github">
        <header class="post-header">
                            <h1 class="post-title"><a href="http://blchen.com/github-merge-pull-request-with-squash-merge/" title="Permalink to GitHub提交PR的時候使用Squash" rel="bookmark">GitHub提交PR的時候使用Squash</a></h1>
                            <div class="comments-link">
                    <a href="http://blchen.com/github-merge-pull-request-with-squash-merge/#respond"><span class="leave-reply">Leave a reply</span></a>                </div>
                    </header>
                    <div class="post-content">
                <p>记录一下在GitHub里怎么用Squash的方式把PR合并到master branch，首先需要在项目的设置页面里把Allow squash merging这个选项打开，如图所示。正常的仓库默认这个选项都是打开的。</p>
<p><a href="http://blchen.com/wp-content/uploads/2017/05/image.png"><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; float: none; padding-top: 0px; padding-left: 0px; border-left: 0px; margin: 0px auto; display: block; padding-right: 0px" border="0" alt="image" src="http://blchen.com/wp-content/uploads/2017/05/image_thumb.png" width="640" height="254"></a></p>
<p>然后在合并PR的时候，选择Squash and merge就行，如图所示</p>
<p><a href="http://blchen.com/wp-content/uploads/2017/05/image-1.png"><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; float: none; padding-top: 0px; padding-left: 0px; border-left: 0px; margin: 0px auto; display: block; padding-right: 0px" border="0" alt="image" src="http://blchen.com/wp-content/uploads/2017/05/image_thumb-1.png" width="640" height="337"></a></p>
            </div>
                <footer class="post-meta">
            <p class="date"><span class="cats">Categories: <a href="http://blchen.com/category/development/" rel="category tag">日常开发工作</a> </span><span class="tags">Tags: <a href="http://blchen.com/tag/github/" rel="tag">GitHub</a> </span><span class="date"><a href="http://blchen.com/github-merge-pull-request-with-squash-merge/" title="5:05 pm" rel="bookmark"><time class="post-date" datetime="2017-05-04T17:05:43+00:00">May 4, 2017</time></a> </span> <span class="by-author">Author <span class="author vcard"><a class="url fn n" href="http://blchen.com/author/blchen/" title="View all posts by blchen" rel="author">blchen</a></span></span></p>
                    </footer>
    </article>        <nav id="nav-below" class="navigation">
            <h3 class="accessibility">Post navigation</h3>
            <ul>
                <li class="prev-link alignleft"><a href="http://blchen.com/page/2/" ><span class="meta-nav">&larr;</span> Older posts</a></li>
                <li class="next-link alignright"></li>
            </ul>
        </nav>
        </section>
<div class="sidebar aside">
    <aside id="search-2" class="widget widget_search"><form role="search" method="get" id="searchform" class="searchform" action="http://blchen.com/">
				<div>
					<label class="screen-reader-text" for="s">Search for:</label>
					<input type="text" value="" name="s" id="s" />
					<input type="submit" id="searchsubmit" value="Search" />
				</div>
			</form></aside><aside id="categories-2" class="widget widget_categories"><h3 class="widget-title">Categories</h3>		<ul>
	<li class="cat-item cat-item-1"><a href="http://blchen.com/category/uncategorized/" >Uncategorized</a>
</li>
	<li class="cat-item cat-item-2"><a href="http://blchen.com/category/offhour/" >上班以外的时间</a>
</li>
	<li class="cat-item cat-item-3"><a href="http://blchen.com/category/iternet-danteng/" >互联网闲的无聊</a>
</li>
	<li class="cat-item cat-item-4"><a href="http://blchen.com/category/microsoft-cloud/" >微软云计算</a>
</li>
	<li class="cat-item cat-item-5"><a href="http://blchen.com/category/microsoft-products/" >微软产品研究</a>
</li>
	<li class="cat-item cat-item-6"><a href="http://blchen.com/category/my-digitals-life/" >我的数码生活</a>
</li>
	<li class="cat-item cat-item-7"><a href="http://blchen.com/category/development/" >日常开发工作</a>
</li>
		</ul>
</aside><aside id="linkcat-" class="widget widget_links"><h3 class="widget-title">Bookmarks</h3>
	<ul class='xoxo blogroll'>
<li><a href="http://www.cnblogs.com/icedream61">IceDream61</a></li>
<li><a href="http://blog.shuolingdeng.com/">互联网搬砖笔记</a></li>

	</ul>
</aside>
		<aside id="recent-posts-2" class="widget widget_recent_entries">		<h3 class="widget-title">Recent Posts</h3>		<ul>
											<li>
					<a href="http://blchen.com/fix-chrome-bookmark-not-sync/">Chrome书签不能同步的解决方法</a>
									</li>
											<li>
					<a href="http://blchen.com/use-alibaba-cloud-maven/">使用阿里云Maven库</a>
									</li>
											<li>
					<a href="http://blchen.com/fix-iphone-keyboard-not-showing/">iPhone输入键盘不显示的解决方法</a>
									</li>
											<li>
					<a href="http://blchen.com/enroll-evus-if-us-visa-is-in-old-passport/">美国签证不在新护照上EVUS的正确登记方式</a>
									</li>
											<li>
					<a href="http://blchen.com/visual-studio-2017-offline-install-package/">Visual Studio 2017制作离线安装包</a>
									</li>
											<li>
					<a href="http://blchen.com/remove-search-service-from-tfs-server/">TFS服务器删除搜索组件</a>
									</li>
											<li>
					<a href="http://blchen.com/change-password-in-windows-server-rdp-session/">Windows Server远程桌面里如何修改密码</a>
									</li>
											<li>
					<a href="http://blchen.com/azure-web-app-force-https-only/">配置Azure WebApp只能通过https访问</a>
									</li>
											<li>
					<a href="http://blchen.com/azure-webapp-reverse-proxy-configuration/">Azure WebApp使用反向代理</a>
									</li>
											<li>
					<a href="http://blchen.com/github-merge-pull-request-with-squash-merge/">GitHub提交PR的時候使用Squash</a>
									</li>
											<li>
					<a href="http://blchen.com/run-mutiple-nodejs-version-on-windows/">Windows运行多个版本NodeJS的解决方案</a>
									</li>
											<li>
					<a href="http://blchen.com/service-fabric-sfdevcluster%e6%96%87%e4%bb%b6%e5%a4%b9%e5%8d%a0%e7%94%a8%e7%a9%ba%e9%97%b4%e8%bf%87%e5%a4%a7%e8%a7%a3%e5%86%b3%e6%96%b9%e6%b3%95/">Service Fabric SfDevCluster文件夹占用空间过大解决方法</a>
									</li>
											<li>
					<a href="http://blchen.com/free-ssl-certification/">免费SSL证书</a>
									</li>
											<li>
					<a href="http://blchen.com/windows-server-2016-enable-flash-player-for-ie/">Windows Server 2016 IE使用Flash Player的方法</a>
									</li>
											<li>
					<a href="http://blchen.com/evus%e7%94%b3%e8%af%b7%e5%a4%87%e6%b3%a8/">EVUS申请备注</a>
									</li>
					</ul>
		</aside><aside id="archives-2" class="widget widget_archive"><h3 class="widget-title">Archives</h3>		<ul>
			<li><a href='http://blchen.com/2017/12/'>December 2017</a></li>
	<li><a href='http://blchen.com/2017/10/'>October 2017</a></li>
	<li><a href='http://blchen.com/2017/09/'>September 2017</a></li>
	<li><a href='http://blchen.com/2017/08/'>August 2017</a></li>
	<li><a href='http://blchen.com/2017/07/'>July 2017</a></li>
	<li><a href='http://blchen.com/2017/05/'>May 2017</a></li>
	<li><a href='http://blchen.com/2017/04/'>April 2017</a></li>
	<li><a href='http://blchen.com/2017/03/'>March 2017</a></li>
	<li><a href='http://blchen.com/2017/02/'>February 2017</a></li>
	<li><a href='http://blchen.com/2016/06/'>June 2016</a></li>
	<li><a href='http://blchen.com/2016/05/'>May 2016</a></li>
	<li><a href='http://blchen.com/2016/04/'>April 2016</a></li>
	<li><a href='http://blchen.com/2015/12/'>December 2015</a></li>
	<li><a href='http://blchen.com/2015/11/'>November 2015</a></li>
	<li><a href='http://blchen.com/2015/10/'>October 2015</a></li>
	<li><a href='http://blchen.com/2015/09/'>September 2015</a></li>
	<li><a href='http://blchen.com/2015/08/'>August 2015</a></li>
	<li><a href='http://blchen.com/2015/07/'>July 2015</a></li>
	<li><a href='http://blchen.com/2015/06/'>June 2015</a></li>
	<li><a href='http://blchen.com/2015/05/'>May 2015</a></li>
	<li><a href='http://blchen.com/2015/04/'>April 2015</a></li>
	<li><a href='http://blchen.com/2015/03/'>March 2015</a></li>
	<li><a href='http://blchen.com/2015/02/'>February 2015</a></li>
	<li><a href='http://blchen.com/2014/12/'>December 2014</a></li>
	<li><a href='http://blchen.com/2014/11/'>November 2014</a></li>
	<li><a href='http://blchen.com/2014/10/'>October 2014</a></li>
	<li><a href='http://blchen.com/2014/09/'>September 2014</a></li>
	<li><a href='http://blchen.com/2014/08/'>August 2014</a></li>
	<li><a href='http://blchen.com/2014/07/'>July 2014</a></li>
	<li><a href='http://blchen.com/2014/06/'>June 2014</a></li>
	<li><a href='http://blchen.com/2014/05/'>May 2014</a></li>
	<li><a href='http://blchen.com/2014/04/'>April 2014</a></li>
	<li><a href='http://blchen.com/2014/03/'>March 2014</a></li>
	<li><a href='http://blchen.com/2014/01/'>January 2014</a></li>
	<li><a href='http://blchen.com/2013/12/'>December 2013</a></li>
	<li><a href='http://blchen.com/2013/10/'>October 2013</a></li>
	<li><a href='http://blchen.com/2013/09/'>September 2013</a></li>
	<li><a href='http://blchen.com/2013/08/'>August 2013</a></li>
	<li><a href='http://blchen.com/2013/06/'>June 2013</a></li>
	<li><a href='http://blchen.com/2013/05/'>May 2013</a></li>
	<li><a href='http://blchen.com/2013/04/'>April 2013</a></li>
	<li><a href='http://blchen.com/2013/01/'>January 2013</a></li>
	<li><a href='http://blchen.com/2012/12/'>December 2012</a></li>
	<li><a href='http://blchen.com/2012/11/'>November 2012</a></li>
	<li><a href='http://blchen.com/2012/10/'>October 2012</a></li>
	<li><a href='http://blchen.com/2012/08/'>August 2012</a></li>
	<li><a href='http://blchen.com/2012/07/'>July 2012</a></li>
	<li><a href='http://blchen.com/2012/06/'>June 2012</a></li>
	<li><a href='http://blchen.com/2012/05/'>May 2012</a></li>
	<li><a href='http://blchen.com/2012/04/'>April 2012</a></li>
	<li><a href='http://blchen.com/2012/03/'>March 2012</a></li>
	<li><a href='http://blchen.com/2012/02/'>February 2012</a></li>
	<li><a href='http://blchen.com/2012/01/'>January 2012</a></li>
	<li><a href='http://blchen.com/2011/12/'>December 2011</a></li>
	<li><a href='http://blchen.com/2011/11/'>November 2011</a></li>
	<li><a href='http://blchen.com/2011/10/'>October 2011</a></li>
	<li><a href='http://blchen.com/2011/09/'>September 2011</a></li>
	<li><a href='http://blchen.com/2011/07/'>July 2011</a></li>
	<li><a href='http://blchen.com/2011/06/'>June 2011</a></li>
	<li><a href='http://blchen.com/2011/05/'>May 2011</a></li>
	<li><a href='http://blchen.com/2011/04/'>April 2011</a></li>
	<li><a href='http://blchen.com/2011/03/'>March 2011</a></li>
	<li><a href='http://blchen.com/2010/01/'>January 2010</a></li>
	<li><a href='http://blchen.com/2009/04/'>April 2009</a></li>
	<li><a href='http://blchen.com/2007/03/'>March 2007</a></li>
	<li><a href='http://blchen.com/2006/08/'>August 2006</a></li>
	<li><a href='http://blchen.com/2006/02/'>February 2006</a></li>
		</ul>
		</aside></div>    <footer id="footer">
        <p class="footer-notes"><a href="http://blchen.com/" title="blchen的空间" rel="home">blchen的空间</a> is designed by <a href="http://ramacciotti.altervista.org" title="alberto ramacciotti homepage" class="ar"><img src="http://blchen.com/wp-content/themes/ar/i/ar-logo-icon.jpg" alt="alberto ramacciotti homepage"></a></p>
    </footer>
    </div>
<script type='text/javascript' src='http://blchen.com/wp-content/themes/ar/js/navigation.js?ver=1.0'></script>
<script type='text/javascript' src='http://blchen.com/wp-content/themes/ar/js/html5.js?ver=1.0'></script>
<script type='text/javascript' src='http://blchen.com/wp-content/themes/ar/js/css3-mediaqueries.js?ver=1.0'></script>
<script type='text/javascript' src='http://blchen.com/wp-includes/js/wp-embed.min.js?ver=4.9.4'></script>
</body>
</html>